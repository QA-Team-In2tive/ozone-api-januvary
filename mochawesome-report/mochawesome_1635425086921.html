<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="https://unpkg.com/mochawesome-report-generator@5.2.0/dist/app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:17,&quot;tests&quot;:15,&quot;passes&quot;:12,&quot;pending&quot;:0,&quot;failures&quot;:3,&quot;start&quot;:&quot;2021-10-28T12:44:47.116Z&quot;,&quot;end&quot;:&quot;2021-10-28T12:54:04.148Z&quot;,&quot;duration&quot;:557032,&quot;testsRegistered&quot;:28,&quot;passPercent&quot;:42.857142857142854,&quot;pendingPercent&quot;:0,&quot;other&quot;:2,&quot;hasOther&quot;:true,&quot;skipped&quot;:13,&quot;hasSkipped&quot;:true},&quot;results&quot;:[{&quot;uuid&quot;:&quot;5d390559-dfe2-4dbc-a54d-cf082c79b936&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook for \&quot;GET /cluster\&quot;&quot;,&quot;fullTitle&quot;:&quot;\&quot;before each\&quot; hook for \&quot;GET /cluster\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:60049,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = common.searchOfEnv(&#x27;login&#x27;, &#x27;login&#x27;, &#x27;token&#x27;);\nlogin.check()\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toBeEqual(res.body.email_verified, constants.email_verified);\n        elementHandler.schemaValidate(res.body, checkSuccess);\n        elementHandler.toBeEqual(res.body.token, token);\n        done();\n    });&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;TypeError: Cannot read property &#x27;statusCode&#x27; of undefined&quot;,&quot;estack&quot;:&quot;TypeError: Cannot read property &#x27;statusCode&#x27; of undefined\n    at Test.&lt;anonymous&gt; (test/pipelines/template-deploy.test.js:17:21)\n    at Test.assert (node_modules/supertest/lib/test.js:209:6)\n    at localAssert (node_modules/supertest/lib/test.js:159:12)\n    at /home/dell/Music/ozone-api-automation/node_modules/supertest/lib/test.js:156:5\n    at Test.Request.callback (node_modules/superagent/lib/node/index.js:905:3)\n    at ClientRequest.&lt;anonymous&gt; (node_modules/superagent/lib/node/index.js:822:12)\n    at TLSSocket.socketErrorListener (_http_client.js:427:9)\n    at emitErrorNT (internal/streams/destroy.js:92:8)\n    at emitErrorAndCloseNT (internal/streams/destroy.js:60:3)\n    at processTicksAndRejections (internal/process/task_queues.js:84:21)&quot;},&quot;uuid&quot;:&quot;3903ee04-bbbe-44a7-881b-eefedd9bf929&quot;,&quot;parentUUID&quot;:&quot;5d390559-dfe2-4dbc-a54d-cf082c79b936&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;fullTitle&quot;:&quot;\&quot;before each\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5453,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = common.searchOfEnv(&#x27;login&#x27;, &#x27;login&#x27;, &#x27;token&#x27;);\nlogin.check()\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toBeEqual(res.body.email_verified, constants.email_verified);\n        elementHandler.schemaValidate(res.body, checkSuccess);\n        elementHandler.toBeEqual(res.body.token, token);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;54caef5a-8223-4504-b203-62b1652bfbdc&quot;,&quot;parentUUID&quot;:&quot;5d390559-dfe2-4dbc-a54d-cf082c79b936&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;fullTitle&quot;:&quot;\&quot;before each\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5476,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = common.searchOfEnv(&#x27;login&#x27;, &#x27;login&#x27;, &#x27;token&#x27;);\nlogin.check()\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toBeEqual(res.body.email_verified, constants.email_verified);\n        elementHandler.schemaValidate(res.body, checkSuccess);\n        elementHandler.toBeEqual(res.body.token, token);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;552ad16f-02d7-48bf-b440-9139c1adc8c9&quot;,&quot;parentUUID&quot;:&quot;5d390559-dfe2-4dbc-a54d-cf082c79b936&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;fullTitle&quot;:&quot;\&quot;before each\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5653,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = common.searchOfEnv(&#x27;login&#x27;, &#x27;login&#x27;, &#x27;token&#x27;);\nlogin.check()\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toBeEqual(res.body.message, constants.CHECK);\n        elementHandler.schemaValidate(res.body, checkSuccess);\n        elementHandler.toBeEqual(res.body.token, token);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ee4ca97b-01aa-4832-80fc-ed3f58f0945b&quot;,&quot;parentUUID&quot;:&quot;5d390559-dfe2-4dbc-a54d-cf082c79b936&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;fullTitle&quot;:&quot;\&quot;before each\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5396,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = common.searchOfEnv(&#x27;login&#x27;, &#x27;login&#x27;, &#x27;token&#x27;);\nlogin.check()\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toBeEqual(res.body.email_verified, constants.email_verified);\n        elementHandler.schemaValidate(res.body, checkSuccess);\n        elementHandler.toBeEqual(res.body.token, token);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;57300682-8d40-4744-a292-ace207b0bb54&quot;,&quot;parentUUID&quot;:&quot;5d390559-dfe2-4dbc-a54d-cf082c79b936&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;34daec1d-c840-4578-bf4a-7fdb8877270c&quot;,&quot;title&quot;:&quot;Login test case&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /accounts/oauth&quot;,&quot;fullTitle&quot;:&quot;Login test case GET /accounts/oauth&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:635,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;Account id and name: 0,Username/Password\&quot;&quot;,&quot;code&quot;:&quot;login.accountName(&#x27;?id=&#x27; + process.env.account_name)\n    .end((err, res) =&gt; {\n        if (err) {\n            console.log(err);\n            addContext(this, &#x27;Error: &#x27; + err);\n        }\n        if (res.statusCode !== 200) {\n            logs.postApiResponse(res);\n            addContext(this, &#x27;Login error: &#x27; + logs.postApiResponse(res));\n        }\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.schemaValidate(res.body, accountSuccess);\n        for (const obj of res.body) {\n            if (obj.id == constants.ACCOUNT_ID) {\n                common.readOrWriteJsonFile(&#x27;login&#x27;, &#x27;account_name&#x27;, &#x27;id&#x27;, obj.id);\n                common.readOrWriteJsonFile(&#x27;login&#x27;, &#x27;account_name&#x27;, &#x27;name&#x27;, obj.provider_name);\n                common.readOrWriteJsonFile(&#x27;login&#x27;, &#x27;account_name&#x27;, &#x27;url&#x27;, obj.login_url);\n                console.log(&#x27;Account id and name: &#x27;, [obj.id, obj.provider_name]);\n                addContext(this, &#x27;Account id and name: &#x27; + [obj.id, obj.provider_name]);\n            }\n        }\n        done();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b7963441-88ed-427a-bc6e-000d57449640&quot;,&quot;parentUUID&quot;:&quot;34daec1d-c840-4578-bf4a-7fdb8877270c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;POST /api/auth/login&quot;,&quot;fullTitle&quot;:&quot;Login test case POST /api/auth/login&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2339,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;Login details: https://staging.in2tive.xyz/api/auth/login,admin@ozone.one,ccc66aab03fab6f67a6e6f9044c377e22dc3cd13858499559dd0b840e3d71475,true\&quot;&quot;,&quot;code&quot;:&quot;login.login(api.login)\n    .end((err, res) =&gt; {\n        if (err)\n            console.log(err);\n        if (res.statusCode !== 200) {\n            logs.postApiResponse(res);\n            addContext(this, &#x27;Login response: &#x27; + [res.body.message, res.res.statusMessage,]);\n        }\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.schemaValidate(res.body, loginSuccess);\n        // set token value in the env variable \n        common.readOrWriteJsonFile(&#x27;login&#x27;, &#x27;login&#x27;, &#x27;token&#x27;, res.body.token);\n        console.log(&#x27;Login details: &#x27;, [res.request.url, res.body.username, res.body.token, res.body.email_verified]);\n        addContext(this, &#x27;Login details: &#x27; + [res.request.url, res.body.username, res.body.token, res.body.email_verified]);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9c278ee9-e11b-4197-b97e-922df306dde6&quot;,&quot;parentUUID&quot;:&quot;34daec1d-c840-4578-bf4a-7fdb8877270c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;GET /defaultworkspace&quot;,&quot;fullTitle&quot;:&quot;Login test case GET /defaultworkspace&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:800,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;Project id and name: 10,barry\&quot;&quot;,&quot;code&quot;:&quot;login.workspace(query.queryParam)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200) {\n            logs.getApiResponse(res);\n            addContext(this, &#x27;Login response: &#x27; + [res.body.message, res.res.statusMessage,]);\n        }\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.schemaValidate(res.body, workspaceSuccess);\n        // set workspace id and name in the env variable \n        for (const obj of res.body) {\n            if (obj.name === constants.WORKSPACE) {\n                elementHandler.toBeEqual(obj.name, constants.WORKSPACE);\n                common.readOrWriteJsonFile(&#x27;login&#x27;, &#x27;workspace&#x27;, &#x27;id&#x27;, obj.id);\n                common.readOrWriteJsonFile(&#x27;login&#x27;, &#x27;workspace&#x27;, &#x27;name&#x27;, obj.name);\n                console.log(&#x27;Project id and name: &#x27;, [obj.id, obj.name]);\n                addContext(this, &#x27;Project id and name: &#x27; + [obj.id, obj.name]);\n                continue\n            }\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fe6292a1-e28c-44e3-a33b-e59a311ef0ac&quot;,&quot;parentUUID&quot;:&quot;34daec1d-c840-4578-bf4a-7fdb8877270c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b7963441-88ed-427a-bc6e-000d57449640&quot;,&quot;9c278ee9-e11b-4197-b97e-922df306dde6&quot;,&quot;fe6292a1-e28c-44e3-a33b-e59a311ef0ac&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3774,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;09b37af1-9bf8-4df9-8f23-6f3b8d4f75ec&quot;,&quot;title&quot;:&quot;ozone-git-pull-docker-image-build-and-template-deploy-v-1 test case&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;8ff25725-9eed-46f7-8355-0d53f46586bd&quot;,&quot;title&quot;:&quot;Pipeline Environment&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Pipeline Environment\&quot;&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-template-deploy-v-1 test case Pipeline Environment \&quot;after all\&quot; hook in \&quot;Pipeline Environment\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:560,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const env_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;env_id&#x27;);\napp.appEnv(&#x27;?id=&#x27; + env_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toArray(res.body, &#x27;Pipeline env response type should be array.&#x27;);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === env_id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline env single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline env id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline env name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, env_id);\n                console.log(&#x27;Pipeline env id and name: &#x27;, [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            elementHandler.toBeTrueMsg(flag, &#x27;Environment not found..&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;279ee6d1-fb04-4a26-bddf-370018d6d35d&quot;,&quot;parentUUID&quot;:&quot;8ff25725-9eed-46f7-8355-0d53f46586bd&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /env&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-template-deploy-v-1 test case Pipeline Environment GET /env&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:617,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;Pipeline env id and name: 6149c0b617de71c6ac6a634f,UAT\&quot;&quot;,&quot;code&quot;:&quot;const app_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;id&#x27;);\nconst env_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;env_id&#x27;);\napp.appEnv(query.queryParam + &#x27;&amp;application_id=&#x27; + app_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toArray(res.body, &#x27;Pipeline env response type should be array.&#x27;);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === env_id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline env single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline env id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline env name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, env_id);\n                addContext(this, &#x27;Pipeline env id and name: &#x27; + [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            addContext(this, &#x27;Environment name not found.&#x27;);\n            elementHandler.toBeTrueMsg(flag, &#x27;Environment name not found.&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b0501339-6d47-4383-95a3-7452ca8db3e2&quot;,&quot;parentUUID&quot;:&quot;8ff25725-9eed-46f7-8355-0d53f46586bd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b0501339-6d47-4383-95a3-7452ca8db3e2&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:617,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;1a3f4325-9334-4a75-b4f2-07afe295f07d&quot;,&quot;title&quot;:&quot;Pipeline Cluster&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Pipeline Cluster\&quot;&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-template-deploy-v-1 test case Pipeline Cluster \&quot;after all\&quot; hook in \&quot;Pipeline Cluster\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:581,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const id = common.searchOfEnv(&#x27;app&#x27;, &#x27;cluster&#x27;, &#x27;id&#x27;);\napp.cluster(&#x27;?id=&#x27; + id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline cluster single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline cluster id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline cluster name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, id);\n                console.log(&#x27;Pipeline cluster id and name: &#x27;, [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            elementHandler.toBeTrueMsg(flag, &#x27;Cluster name not found.&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;12326e00-9dc1-4010-8be1-206e4e2de33e&quot;,&quot;parentUUID&quot;:&quot;1a3f4325-9334-4a75-b4f2-07afe295f07d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /cluster&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-template-deploy-v-1 test case Pipeline Cluster GET /cluster&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:838,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;Pipeline cluster id and name: 617a6874df85a15f0a45a187,pks-attach2\&quot;&quot;,&quot;code&quot;:&quot;const env_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;env_id&#x27;);\napp.cluster(query.queryParam + &#x27;&amp;env_id=&#x27; + env_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.name === constants.CLUSTER_NAME) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline cluster single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline cluster id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline cluster name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.name, constants.CLUSTER_NAME);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;cluster&#x27;, &#x27;id&#x27;, obj.id);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;cluster&#x27;, &#x27;name&#x27;, obj.name);\n                addContext(this, &#x27;Pipeline cluster id and name: &#x27; + [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            addContext(this, &#x27;Cluster name not found.&#x27; + [constants.CLUSTER_NAME]);\n            elementHandler.toBeTrueMsg(flag, &#x27;Cluster name not found: &#x27; + constants.CLUSTER_NAME);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8557124e-67f6-4717-9bc9-eaaba6d16710&quot;,&quot;parentUUID&quot;:&quot;1a3f4325-9334-4a75-b4f2-07afe295f07d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8557124e-67f6-4717-9bc9-eaaba6d16710&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:838,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;8880f299-ebd7-4f7c-a094-ebebc75f8c2b&quot;,&quot;title&quot;:&quot;Pipeline Tamplate&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Pipeline Tamplate\&quot;&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-template-deploy-v-1 test case Pipeline Tamplate \&quot;after all\&quot; hook in \&quot;Pipeline Tamplate\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:590,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const id = common.searchOfEnv(&#x27;app&#x27;, &#x27;template&#x27;, &#x27;id&#x27;);\napp.appTemplate(&#x27;?id=&#x27; + id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toArray(res.body, &#x27;Pipeline templates response type should be array.&#x27;);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline env single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline env id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline env name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.name, constants.NAMESPACE_NAME);\n                console.log(&#x27;Pipeline template id and name: &#x27;, [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            elementHandler.toBeTrueMsg(flag, &#x27;Templates name not found: &#x27; + constants.NAMESPACE_NAME);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9c56d2a7-5105-478a-9cb2-bef639edbd34&quot;,&quot;parentUUID&quot;:&quot;8880f299-ebd7-4f7c-a094-ebebc75f8c2b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /app/templates&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-template-deploy-v-1 test case Pipeline Tamplate GET /app/templates&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:481,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;Pipeline template id and name: 617a8088316caf656c61bc20,default\&quot;&quot;,&quot;code&quot;:&quot;const app_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;id&#x27;);\napp.appTemplate(query.queryParam + &#x27;&amp;application_id=&#x27; + app_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toArray(res.body, &#x27;Pipeline templates response type should be array.&#x27;);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.name === constants.NAMESPACE_NAME) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline env single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline env id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline env name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.name, constants.NAMESPACE_NAME);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;template&#x27;, &#x27;id&#x27;, obj.id);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;template&#x27;, &#x27;name&#x27;, obj.name);\n                addContext(this, &#x27;Pipeline template id and name: &#x27; + [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            addContext(this, &#x27;Template name not found: &#x27; + [constants.NAMESPACE_NAME]);\n            elementHandler.toBeTrueMsg(flag, &#x27;Template name not found: &#x27; + constants.NAMESPACE_NAME);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;af6ab12f-02c2-4b53-a8a6-5de52bd17aec&quot;,&quot;parentUUID&quot;:&quot;8880f299-ebd7-4f7c-a094-ebebc75f8c2b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;af6ab12f-02c2-4b53-a8a6-5de52bd17aec&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:481,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;5113d9a6-6d1b-41a8-b885-691d75485b57&quot;,&quot;title&quot;:&quot;Pipeline Branch&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Pipeline Branch\&quot;&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-template-deploy-v-1 test case Pipeline Branch \&quot;after all\&quot; hook in \&quot;Pipeline Branch\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1088,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const id = common.searchOfEnv(&#x27;app&#x27;, &#x27;branch&#x27;, &#x27;id&#x27;);\napp.branchs(&#x27;?id=&#x27; + id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline branch single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline branch id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline branch name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, id);\n                console.log(&#x27;Pipeline branch id and name: &#x27;, [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            elementHandler.toBeTrueMsg(flag, &#x27;Branch name not found.&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f62cbf9f-41c4-4c2c-93a2-b7cb2d802616&quot;,&quot;parentUUID&quot;:&quot;5113d9a6-6d1b-41a8-b885-691d75485b57&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /repository/branches&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-template-deploy-v-1 test case Pipeline Branch GET /repository/branches&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1287,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;Pipeline branch id and name: 6114f9889ee862c2e1cea31b:::master,master\&quot;&quot;,&quot;code&quot;:&quot;const repo_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;repository_id&#x27;);\napp.branchs(query.queryParam + &#x27;&amp;repository_id=&#x27; + repo_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.name === constants.MASTER) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline branch single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline branch id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline branch name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.name, constants.MASTER);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;branch&#x27;, &#x27;id&#x27;, obj.id);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;branch&#x27;, &#x27;name&#x27;, obj.name);\n                addContext(this, &#x27;Pipeline branch id and name: &#x27; + [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            addContext(this, &#x27;Branch name not found: &#x27; + [constants.GITHUB_BRANCH_NAME]);\n            elementHandler.toBeTrueMsg(flag, &#x27;Branch name not found: &#x27; + constants.GITHUB_BRANCH_NAME);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4c4b808f-06f4-4c09-aa65-e9b245f16c56&quot;,&quot;parentUUID&quot;:&quot;5113d9a6-6d1b-41a8-b885-691d75485b57&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4c4b808f-06f4-4c09-aa65-e9b245f16c56&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1287,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;76743eb5-9554-4fae-914f-c589123a8bbf&quot;,&quot;title&quot;:&quot;Create Pipeline&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;POST /newdeploy&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-template-deploy-v-1 test case Create Pipeline POST /newdeploy&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:717,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;New deploy id: 617a9b67316caf656c61bce9\&quot;&quot;,&quot;code&quot;:&quot;const app_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;id&#x27;);\nconst pipe_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;pipelines&#x27;, &#x27;2&#x27;);\napp.newdeploy(param.templateDeploy())\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.postApiResponse(res);\n        let obj = res.body;\n        elementHandler.responseExpect(obj, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toObject(obj, &#x27;Pipeline response type should be object.&#x27;);\n        if (obj.applicationID === app_id) {\n            elementHandler.toBeEqual(obj.pipelineID, pipe_id);\n            elementHandler.toString(obj.id, &#x27;Pipeline id type should be string.&#x27;);\n            common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;run&#x27;, &#x27;id&#x27;, obj.id);\n            console.log(&#x27;New deploy id: &#x27;, [obj.id]);\n            addContext(this, &#x27;New deploy id: &#x27; + obj.id);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;47e83919-c87a-4c19-8f46-e984c25c7e99&quot;,&quot;parentUUID&quot;:&quot;76743eb5-9554-4fae-914f-c589123a8bbf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;47e83919-c87a-4c19-8f46-e984c25c7e99&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:717,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;528422c5-7503-4167-be99-68f2cbd594c5&quot;,&quot;title&quot;:&quot;Pipeline Run&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /pipelineruns&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-template-deploy-v-1 test case Pipeline Run GET /pipelineruns&quot;,&quot;timedOut&quot;:true,&quot;duration&quot;:100002,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const id = common.searchOfEnv(&#x27;app&#x27;, &#x27;run&#x27;, &#x27;id&#x27;);\nlet count = 1;\nconst file = path.join(path.resolve(), &#x27;/resource/pipeline.json&#x27;);\nfor (let index = 0; index &lt; count; index++) {\n    await app.pipelineRun(&#x27;/&#x27; + id)\n        .then((res) =&gt; {\n            if (res.statusCode !== 200)\n                logs.getApiResponse(res);\n            elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n            // Add delay time 5s\n            common.tryDelay(5000);\n            let status = res.body.tektonPipelineRun.object.status;\n            // get the pipeline start time\n            let flag = 1, startTime = &#x27;&#x27;;\n            if (flag) {\n                startTime = status.startTime instanceof Date ? status.startTime : new Date(status.startTime);\n                flag = 0;\n            }\n            // Set running pipeline status response in json file\n            common.writeJsonFlie(file, status);\n            // get pipeline response in json file through\n            const pipelineResponse = common.readJsonFile(file);\n            const cTime = pipelineResponse.completionTime;\n            // set value param in completion time\n            const value = cTime ? cTime : null;\n            if (value) {\n                const completionTime = cTime instanceof Date ? cTime : new Date(cTime);\n                seconds = Math.abs(completionTime - startTime) / 1000;\n                console.log(&#x27;StartTime: &#x27;, startTime);\n                console.log(&#x27;CompletionTime: &#x27;, cTime);\n                console.log(&#x27;Pipeline completion time in second: &#x27;, seconds + &#x27;s&#x27;);\n                console.log(&#x27;Pipeline status: &#x27;, pipelineResponse.conditions[0].reason);\n            } else {\n                count += 1;\n                console.log(&#x27;Pipeline still running.......&#x27;);\n            }\n        });\n}&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Timeout of 100000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js)&quot;,&quot;estack&quot;:&quot;Error: Timeout of 100000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js)\n    at listOnTimeout (internal/timers.js:554:17)\n    at processTimers (internal/timers.js:497:7)&quot;},&quot;uuid&quot;:&quot;bb6326d8-db01-4a06-b41e-7a89fe297225&quot;,&quot;parentUUID&quot;:&quot;528422c5-7503-4167-be99-68f2cbd594c5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[&quot;bb6326d8-db01-4a06-b41e-7a89fe297225&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:100002,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;bc08723f-f658-4ce6-9aae-a4bc34b52521&quot;,&quot;title&quot;:&quot;ozone-git-pull-docker-image-build-and-push-set-deployment-image-v-1 test case&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;e77b3067-a85d-43fd-b90c-83ccf2eb8cef&quot;,&quot;title&quot;:&quot;Pipeline Environment&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Pipeline Environment\&quot;&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-push-set-deployment-image-v-1 test case Pipeline Environment \&quot;after all\&quot; hook in \&quot;Pipeline Environment\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5620,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const env_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;env_id&#x27;);\napp.appEnv(&#x27;?id=&#x27; + env_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toArray(res.body, &#x27;Pipeline env response type should be array.&#x27;);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === env_id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline env single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline env id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline env name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, env_id);\n                console.log(&#x27;Pipeline env id and name: &#x27;, [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            elementHandler.toBeTrueMsg(flag, &#x27;Environment not found..&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4e5bd340-c7f4-44ab-894a-446f8de0dc23&quot;,&quot;parentUUID&quot;:&quot;e77b3067-a85d-43fd-b90c-83ccf2eb8cef&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /env&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-push-set-deployment-image-v-1 test case Pipeline Environment GET /env&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5495,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;Pipeline env id and name: 6149c0b617de71c6ac6a634f,UAT\&quot;&quot;,&quot;code&quot;:&quot;const app_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;id&#x27;);\nconst env_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;env_id&#x27;);\napp.appEnv(query.queryParam + &#x27;&amp;application_id=&#x27; + app_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toArray(res.body, &#x27;Pipeline env response type should be array.&#x27;);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === env_id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline env single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline env id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline env name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, env_id);\n                addContext(this, &#x27;Pipeline env id and name: &#x27; + [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            addContext(this, &#x27;Environment name not found.&#x27;);\n            elementHandler.toBeTrueMsg(flag, &#x27;Environment name not found.&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;be8363ce-14fc-4640-8fc1-30b20e120df2&quot;,&quot;parentUUID&quot;:&quot;e77b3067-a85d-43fd-b90c-83ccf2eb8cef&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;be8363ce-14fc-4640-8fc1-30b20e120df2&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:5495,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;474ff1a3-ad5f-4c8a-a527-78e307bc240a&quot;,&quot;title&quot;:&quot;Pipeline Cluster&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Pipeline Cluster\&quot;&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-push-set-deployment-image-v-1 test case Pipeline Cluster \&quot;after all\&quot; hook in \&quot;Pipeline Cluster\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5496,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const id = common.searchOfEnv(&#x27;app&#x27;, &#x27;cluster&#x27;, &#x27;id&#x27;);\napp.cluster(&#x27;?id=&#x27; + id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline cluster single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline cluster id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline cluster name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, id);\n                console.log(&#x27;Pipeline cluster id and name: &#x27;, [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            elementHandler.toBeTrueMsg(flag, &#x27;Cluster name not found.&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;32008d06-38a6-4b66-9064-ba123f560a1d&quot;,&quot;parentUUID&quot;:&quot;474ff1a3-ad5f-4c8a-a527-78e307bc240a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /cluster&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-push-set-deployment-image-v-1 test case Pipeline Cluster GET /cluster&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:866,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;Pipeline cluster id and name: 617a6874df85a15f0a45a187,pks-attach2\&quot;&quot;,&quot;code&quot;:&quot;const env_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;env_id&#x27;);\napp.cluster(query.queryParam + &#x27;&amp;env_id=&#x27; + env_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.name === constants.CLUSTER_NAME) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline cluster single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline cluster id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline cluster name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.name, constants.CLUSTER_NAME);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;cluster&#x27;, &#x27;id&#x27;, obj.id);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;cluster&#x27;, &#x27;name&#x27;, obj.name);\n                addContext(this, &#x27;Pipeline cluster id and name: &#x27; + [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            addContext(this, &#x27;Cluster name not found.&#x27; + [constants.CLUSTER_NAME]);\n            elementHandler.toBeTrueMsg(flag, &#x27;Cluster name not found: &#x27; + constants.CLUSTER_NAME);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0361f1ac-4029-442e-8a41-d4f2750ec8b6&quot;,&quot;parentUUID&quot;:&quot;474ff1a3-ad5f-4c8a-a527-78e307bc240a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0361f1ac-4029-442e-8a41-d4f2750ec8b6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:866,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;7e8b95ad-704f-4e9f-bac1-85f5dcc2151f&quot;,&quot;title&quot;:&quot;Pipeline Branch&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Pipeline Branch\&quot;&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-push-set-deployment-image-v-1 test case Pipeline Branch \&quot;after all\&quot; hook in \&quot;Pipeline Branch\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:897,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const id = common.searchOfEnv(&#x27;app&#x27;, &#x27;branch&#x27;, &#x27;id&#x27;);\napp.branchs(&#x27;?id=&#x27; + id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline branch single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline branch id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline branch name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, id);\n                console.log(&#x27;Pipeline branch id and name: &#x27;, [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            elementHandler.toBeTrueMsg(flag, &#x27;Branch name not found.&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;47244e46-c81f-4eef-bed9-a1180ba79f9e&quot;,&quot;parentUUID&quot;:&quot;7e8b95ad-704f-4e9f-bac1-85f5dcc2151f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /repository/branches&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-push-set-deployment-image-v-1 test case Pipeline Branch GET /repository/branches&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:985,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;Pipeline branch id and name: 6114f9889ee862c2e1cea31b:::v1,v1\&quot;&quot;,&quot;code&quot;:&quot;const repo_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;repository_id&#x27;);\napp.branchs(query.queryParam + &#x27;&amp;repository_id=&#x27; + repo_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.name === constants.V1) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline branch single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline branch id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline branch name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.name, constants.V1);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;branch&#x27;, &#x27;id&#x27;, obj.id);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;branch&#x27;, &#x27;name&#x27;, obj.name);\n                addContext(this, &#x27;Pipeline branch id and name: &#x27; + [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            addContext(this, &#x27;Branch name not found: &#x27; + [constants.GITHUB_BRANCH_NAME]);\n            elementHandler.toBeTrueMsg(flag, &#x27;Branch name not found: &#x27; + constants.GITHUB_BRANCH_NAME);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3979d66a-11d3-466a-8f65-bdb35f5b9be4&quot;,&quot;parentUUID&quot;:&quot;7e8b95ad-704f-4e9f-bac1-85f5dcc2151f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3979d66a-11d3-466a-8f65-bdb35f5b9be4&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:985,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;dbe48479-5863-4e61-9be5-2e7f8593bedc&quot;,&quot;title&quot;:&quot;Create Pipeline&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;POST /newdeploy&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-push-set-deployment-image-v-1 test case Create Pipeline POST /newdeploy&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:655,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;New deploy id: 617a9c25316caf656c61bcee\&quot;&quot;,&quot;code&quot;:&quot;const app_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;id&#x27;);\nconst pipe_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;pipelines&#x27;, &#x27;1&#x27;);\napp.newdeploy(param.pushSetDeploymentImg())\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.postApiResponse(res);\n        let obj = res.body;\n        elementHandler.responseExpect(obj, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toObject(obj, &#x27;Pipeline response type should be object.&#x27;);\n        if (obj.applicationID === app_id) {\n            elementHandler.toBeEqual(obj.pipelineID, pipe_id);\n            elementHandler.toString(obj.id, &#x27;Pipeline id type should be string.&#x27;);\n            common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;run&#x27;, &#x27;id&#x27;, obj.id);\n            console.log(&#x27;New deploy id: &#x27;, [obj.id]);\n            addContext(this, &#x27;New deploy id: &#x27; + obj.id);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;488ff116-57e8-4f3c-bd05-7f07b4ce0b85&quot;,&quot;parentUUID&quot;:&quot;dbe48479-5863-4e61-9be5-2e7f8593bedc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;488ff116-57e8-4f3c-bd05-7f07b4ce0b85&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:655,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;8d93df69-f56c-47be-bcbc-c1ecc3f230f0&quot;,&quot;title&quot;:&quot;Pipeline Run&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /pipelineruns&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-push-set-deployment-image-v-1 test case Pipeline Run GET /pipelineruns&quot;,&quot;timedOut&quot;:true,&quot;duration&quot;:103704,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const id = common.searchOfEnv(&#x27;app&#x27;, &#x27;run&#x27;, &#x27;id&#x27;);\nlet count = 1;\nconst file = path.join(path.resolve(), &#x27;/resource/pipeline.json&#x27;);\nfor (let index = 0; index &lt; count; index++) {\n    await app.pipelineRun(&#x27;/&#x27; + id)\n        .then((res) =&gt; {\n            if (res.statusCode !== 200)\n                logs.getApiResponse(res);\n            elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n            // Add delay time 5s\n            common.tryDelay(5000);\n            let status = res.body.tektonPipelineRun.object.status;\n            // get the pipeline start time\n            let flag = 1, startTime = &#x27;&#x27;;\n            if (flag) {\n                startTime = status.startTime instanceof Date ? status.startTime : new Date(status.startTime);\n                flag = 0;\n            }\n            // Set running pipeline status response in json file\n            common.writeJsonFlie(file, status);\n            // get pipeline response in json file through\n            const pipelineResponse = common.readJsonFile(file);\n            const cTime = pipelineResponse.completionTime;\n            // set value param in completion time\n            const value = cTime ? cTime : null;\n            if (value) {\n                const completionTime = cTime instanceof Date ? cTime : new Date(cTime);\n                seconds = Math.abs(completionTime - startTime) / 1000;\n                console.log(&#x27;StartTime: &#x27;, startTime);\n                console.log(&#x27;CompletionTime: &#x27;, cTime);\n                console.log(&#x27;Pipeline completion time in second: &#x27;, seconds + &#x27;s&#x27;);\n                console.log(&#x27;Pipeline status: &#x27;, pipelineResponse.conditions[0].reason);\n            } else {\n                count += 1;\n                console.log(&#x27;Pipeline still running.......&#x27;);\n            }\n        });\n}&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Timeout of 100000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js)&quot;,&quot;estack&quot;:&quot;Error: Timeout of 100000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js)\n    at listOnTimeout (internal/timers.js:554:17)\n    at processTimers (internal/timers.js:497:7)&quot;},&quot;uuid&quot;:&quot;d0bfbe0e-fbd9-4fd4-8f0c-ea08fcb31709&quot;,&quot;parentUUID&quot;:&quot;8d93df69-f56c-47be-bcbc-c1ecc3f230f0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[&quot;d0bfbe0e-fbd9-4fd4-8f0c-ea08fcb31709&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:103704,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;615809e4-28c4-4968-9df8-e1c2e0a47610&quot;,&quot;title&quot;:&quot;ozone-git-pull-docker-image-build-and-push-pipeline-v-1 test case&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;dd86e7bb-b125-4e90-aa7a-8747ce50d2cc&quot;,&quot;title&quot;:&quot;Pipeline Environment&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook for \&quot;GET /env\&quot;&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-push-pipeline-v-1 test case Pipeline Environment \&quot;after all\&quot; hook for \&quot;GET /env\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:60052,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const env_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;env_id&#x27;);\napp.appEnv(&#x27;?id=&#x27; + env_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toArray(res.body, &#x27;Pipeline env response type should be array.&#x27;);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === env_id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline env single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline env id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline env name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, env_id);\n                console.log(&#x27;Pipeline env id and name: &#x27;, [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            elementHandler.toBeTrueMsg(flag, &#x27;Environment not found..&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;TypeError: Cannot read property &#x27;statusCode&#x27; of undefined&quot;,&quot;estack&quot;:&quot;TypeError: Cannot read property &#x27;statusCode&#x27; of undefined\n    at Test.&lt;anonymous&gt; (test/pipelines/push-pipeline.test.js:66:29)\n    at Test.assert (node_modules/supertest/lib/test.js:209:6)\n    at localAssert (node_modules/supertest/lib/test.js:159:12)\n    at /home/dell/Music/ozone-api-automation/node_modules/supertest/lib/test.js:156:5\n    at Test.Request.callback (node_modules/superagent/lib/node/index.js:905:3)\n    at ClientRequest.&lt;anonymous&gt; (node_modules/superagent/lib/node/index.js:822:12)\n    at TLSSocket.socketErrorListener (_http_client.js:427:9)\n    at emitErrorNT (internal/streams/destroy.js:92:8)\n    at emitErrorAndCloseNT (internal/streams/destroy.js:60:3)\n    at processTicksAndRejections (internal/process/task_queues.js:84:21)&quot;},&quot;uuid&quot;:&quot;6d4fc9e2-3067-4f5a-9a9a-bfbcae87b9cc&quot;,&quot;parentUUID&quot;:&quot;dd86e7bb-b125-4e90-aa7a-8747ce50d2cc&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /env&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-push-pipeline-v-1 test case Pipeline Environment GET /env&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:60058,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const app_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;id&#x27;);\nconst env_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;env_id&#x27;);\napp.appEnv(query.queryParam + &#x27;&amp;application_id=&#x27; + app_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toArray(res.body, &#x27;Pipeline env response type should be array.&#x27;);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === env_id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline env single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline env id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline env name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, env_id);\n                addContext(this, &#x27;Pipeline env id and name: &#x27; + [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            addContext(this, &#x27;Environment name not found.&#x27;);\n            elementHandler.toBeTrueMsg(flag, &#x27;Environment name not found.&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;TypeError: Cannot read property &#x27;statusCode&#x27; of undefined&quot;,&quot;estack&quot;:&quot;TypeError: Cannot read property &#x27;statusCode&#x27; of undefined\n    at Test.&lt;anonymous&gt; (test/pipelines/push-pipeline.test.js:36:29)\n    at Test.assert (node_modules/supertest/lib/test.js:209:6)\n    at localAssert (node_modules/supertest/lib/test.js:159:12)\n    at /home/dell/Music/ozone-api-automation/node_modules/supertest/lib/test.js:156:5\n    at Test.Request.callback (node_modules/superagent/lib/node/index.js:905:3)\n    at ClientRequest.&lt;anonymous&gt; (node_modules/superagent/lib/node/index.js:822:12)\n    at TLSSocket.socketErrorListener (_http_client.js:427:9)\n    at emitErrorNT (internal/streams/destroy.js:92:8)\n    at emitErrorAndCloseNT (internal/streams/destroy.js:60:3)\n    at processTicksAndRejections (internal/process/task_queues.js:84:21)&quot;},&quot;uuid&quot;:&quot;bfeb48f1-e1fc-4432-9f52-39f992732bf5&quot;,&quot;parentUUID&quot;:&quot;dd86e7bb-b125-4e90-aa7a-8747ce50d2cc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[&quot;bfeb48f1-e1fc-4432-9f52-39f992732bf5&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:60058,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;62ca267b-d007-4e96-bdd0-5cb132f3cc1f&quot;,&quot;title&quot;:&quot;Pipeline Cluster&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook for \&quot;GET /cluster\&quot;&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-push-pipeline-v-1 test case Pipeline Cluster \&quot;after all\&quot; hook for \&quot;GET /cluster\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16861,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const id = common.searchOfEnv(&#x27;app&#x27;, &#x27;cluster&#x27;, &#x27;id&#x27;);\napp.cluster(&#x27;?id=&#x27; + id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline cluster single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline cluster id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline cluster name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, id);\n                console.log(&#x27;Pipeline cluster id and name: &#x27;, [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            elementHandler.toBeTrueMsg(flag, &#x27;Cluster name not found.&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;710edb2b-c043-4f7a-9ae9-b521c966900f&quot;,&quot;parentUUID&quot;:&quot;62ca267b-d007-4e96-bdd0-5cb132f3cc1f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /cluster&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-push-pipeline-v-1 test case Pipeline Cluster GET /cluster&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const env_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;env_id&#x27;);\napp.cluster(query.queryParam + &#x27;&amp;env_id=&#x27; + env_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.name === constants.CLUSTER_NAME) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline cluster single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline cluster id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline cluster name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.name, constants.CLUSTER_NAME);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;cluster&#x27;, &#x27;id&#x27;, obj.id);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;cluster&#x27;, &#x27;name&#x27;, obj.name);\n                addContext(this, &#x27;Pipeline cluster id and name: &#x27; + [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            addContext(this, &#x27;Cluster name not found.&#x27; + [constants.CLUSTER_NAME]);\n            elementHandler.toBeTrueMsg(flag, &#x27;Cluster name not found: &#x27; + constants.CLUSTER_NAME);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;82c147e6-c54d-40df-9b6c-412e8420ab91&quot;,&quot;parentUUID&quot;:&quot;62ca267b-d007-4e96-bdd0-5cb132f3cc1f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;82c147e6-c54d-40df-9b6c-412e8420ab91&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;cecb497e-7c40-4b78-b32a-00a7c53f3796&quot;,&quot;title&quot;:&quot;Pipeline Branch&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-push-pipeline-v-1 test case Pipeline Branch \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const id = common.searchOfEnv(&#x27;app&#x27;, &#x27;branch&#x27;, &#x27;id&#x27;);\napp.branchs(&#x27;?id=&#x27; + id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline branch single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline branch id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline branch name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, id);\n                console.log(&#x27;Pipeline branch id and name: &#x27;, [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            elementHandler.toBeTrueMsg(flag, &#x27;Branch name not found.&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;148e72bb-5b6c-4be7-8a4e-0eac7dc024db&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /repository/branches&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-push-pipeline-v-1 test case Pipeline Branch GET /repository/branches&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const repo_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;repository_id&#x27;);\napp.branchs(query.queryParam + &#x27;&amp;repository_id=&#x27; + repo_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.name === constants.MASTER) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline branch single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline branch id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline branch name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.name, constants.MASTER);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;branch&#x27;, &#x27;id&#x27;, obj.id);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;branch&#x27;, &#x27;name&#x27;, obj.name);\n                addContext(this, &#x27;Pipeline branch id and name: &#x27; + [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            addContext(this, &#x27;Branch name not found: &#x27; + [constants.GITHUB_BRANCH_NAME]);\n            elementHandler.toBeTrueMsg(flag, &#x27;Branch name not found: &#x27; + constants.GITHUB_BRANCH_NAME);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2db121ae-3821-4b9b-86d4-4a3cff26764d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;2db121ae-3821-4b9b-86d4-4a3cff26764d&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;593bd58f-1a58-4ae8-aa4b-0ec93935528a&quot;,&quot;title&quot;:&quot;Create Pipeline&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;POST /newdeploy&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-push-pipeline-v-1 test case Create Pipeline POST /newdeploy&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const app_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;id&#x27;);\nconst pipe_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;pipelines&#x27;, &#x27;0&#x27;);\napp.newdeploy(param.pushPipeline())\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.postApiResponse(res);\n        let obj = res.body;\n        elementHandler.responseExpect(obj, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toObject(obj, &#x27;Pipeline response type should be object.&#x27;);\n        if (obj.applicationID === app_id) {\n            elementHandler.toBeEqual(obj.pipelineID, pipe_id);\n            elementHandler.toString(obj.id, &#x27;Pipeline id type should be string.&#x27;);\n            common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;run&#x27;, &#x27;id&#x27;, obj.id);\n            console.log(&#x27;New deploy id: &#x27;, [obj.id]);\n            addContext(this, &#x27;New deploy id: &#x27; + obj.id);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7f86643b-9bd1-40e2-a817-4f40ce371e43&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;7f86643b-9bd1-40e2-a817-4f40ce371e43&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;a5beb439-649e-442f-b21f-dfe167a3b7b9&quot;,&quot;title&quot;:&quot;Pipeline Run&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /pipelineruns&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-push-pipeline-v-1 test case Pipeline Run GET /pipelineruns&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const id = common.searchOfEnv(&#x27;app&#x27;, &#x27;run&#x27;, &#x27;id&#x27;);\nlet count = 1;\nconst file = path.join(path.resolve(), &#x27;/resource/pipeline.json&#x27;);\nfor (let index = 0; index &lt; count; index++) {\n    await app.pipelineRun(&#x27;/&#x27; + id)\n        .then((res) =&gt; {\n            if (res.statusCode !== 200)\n                logs.getApiResponse(res);\n            elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n            // Add delay time 5s\n            common.tryDelay(5000);\n            let status = res.body.tektonPipelineRun.object.status;\n            // get the pipeline start time\n            let flag = 1, startTime = &#x27;&#x27;;\n            if (flag) {\n                startTime = status.startTime instanceof Date ? status.startTime : new Date(status.startTime);\n                flag = 0;\n            }\n            // Set running pipeline status response in json file\n            common.writeJsonFlie(file, status);\n            // get pipeline response in json file through\n            const pipelineResponse = common.readJsonFile(file);\n            const cTime = pipelineResponse.completionTime;\n            // set value param in completion time\n            const value = cTime ? cTime : null;\n            if (value) {\n                const completionTime = cTime instanceof Date ? cTime : new Date(cTime);\n                seconds = Math.abs(completionTime - startTime) / 1000;\n                console.log(&#x27;StartTime: &#x27;, startTime);\n                console.log(&#x27;CompletionTime: &#x27;, cTime);\n                console.log(&#x27;Pipeline completion time in second: &#x27;, seconds + &#x27;s&#x27;);\n                console.log(&#x27;Pipeline status: &#x27;, pipelineResponse.conditions[0].reason);\n            } else {\n                count += 1;\n                console.log(&#x27;Pipeline still running.......&#x27;);\n            }\n        });\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7f9f0b56-5e52-4ae1-b381-93a83070473b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;7f9f0b56-5e52-4ae1-b381-93a83070473b&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;292c8942-48e3-4b90-be83-f7f462783eb4&quot;,&quot;title&quot;:&quot;ozone-templates-deploy-pipeline-v-1 test case&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;98738f04-a745-4ebc-886e-e776d73e4a96&quot;,&quot;title&quot;:&quot;Pipeline Environment&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;ozone-templates-deploy-pipeline-v-1 test case Pipeline Environment \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const env_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;env_id&#x27;);\napp.appEnv(&#x27;?id=&#x27; + env_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toArray(res.body, &#x27;Pipeline env response type should be array.&#x27;);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === env_id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline env single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline env id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline env name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, env_id);\n                console.log(&#x27;Pipeline env id and name: &#x27;, [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            elementHandler.toBeTrueMsg(flag, &#x27;Environment not found..&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b9c4186b-73ca-4c6d-9f58-e536f8eb630f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /env&quot;,&quot;fullTitle&quot;:&quot;ozone-templates-deploy-pipeline-v-1 test case Pipeline Environment GET /env&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const app_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;id&#x27;);\nconst env_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;env_id&#x27;);\napp.appEnv(query.queryParam + &#x27;&amp;application_id=&#x27; + app_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toArray(res.body, &#x27;Pipeline env response type should be array.&#x27;);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === env_id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline env single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline env id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline env name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, env_id);\n                addContext(this, &#x27;Pipeline env id and name: &#x27; + [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            addContext(this, &#x27;Environment name not found.&#x27;);\n            elementHandler.toBeTrueMsg(flag, &#x27;Environment name not found.&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7cfeee8d-6f73-4b38-9889-83cfaf6099c2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;7cfeee8d-6f73-4b38-9889-83cfaf6099c2&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;c6b33810-d2ff-4b4a-b816-457cd8c11742&quot;,&quot;title&quot;:&quot;Pipeline Cluster&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;ozone-templates-deploy-pipeline-v-1 test case Pipeline Cluster \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const id = common.searchOfEnv(&#x27;app&#x27;, &#x27;cluster&#x27;, &#x27;id&#x27;);\napp.cluster(&#x27;?id=&#x27; + id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline cluster single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline cluster id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline cluster name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, id);\n                console.log(&#x27;Pipeline cluster id and name: &#x27;, [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            elementHandler.toBeTrueMsg(flag, &#x27;Cluster name not found.&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ea128984-79d4-4364-aae6-2326ef035156&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /cluster&quot;,&quot;fullTitle&quot;:&quot;ozone-templates-deploy-pipeline-v-1 test case Pipeline Cluster GET /cluster&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const env_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;env_id&#x27;);\napp.cluster(query.queryParam + &#x27;&amp;env_id=&#x27; + env_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.name === constants.CLUSTER_NAME) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline cluster single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline cluster id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline cluster name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.name, constants.CLUSTER_NAME);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;cluster&#x27;, &#x27;id&#x27;, obj.id);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;cluster&#x27;, &#x27;name&#x27;, obj.name);\n                addContext(this, &#x27;Pipeline cluster id and name: &#x27; + [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            addContext(this, &#x27;Cluster name not found.&#x27; + [constants.CLUSTER_NAME]);\n            elementHandler.toBeTrueMsg(flag, &#x27;Cluster name not found: &#x27; + constants.CLUSTER_NAME);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;38403921-0fad-4e2e-a6f2-a7b1d6865fbc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;38403921-0fad-4e2e-a6f2-a7b1d6865fbc&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;40cf30de-5e5c-47a9-8a46-2033a96a36fa&quot;,&quot;title&quot;:&quot;Pipeline Tamplate&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;ozone-templates-deploy-pipeline-v-1 test case Pipeline Tamplate \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const id = common.searchOfEnv(&#x27;app&#x27;, &#x27;template&#x27;, &#x27;id&#x27;);\napp.appTemplate(&#x27;?id=&#x27; + id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toArray(res.body, &#x27;Pipeline templates response type should be array.&#x27;);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline env single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline env id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline env name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.name, constants.NAMESPACE_NAME);\n                console.log(&#x27;Pipeline template id and name: &#x27;, [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            elementHandler.toBeTrueMsg(flag, &#x27;Templates name not found: &#x27; + constants.NAMESPACE_NAME);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cc5295bf-0136-4950-b26c-b02d8ec450ca&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /app/templates&quot;,&quot;fullTitle&quot;:&quot;ozone-templates-deploy-pipeline-v-1 test case Pipeline Tamplate GET /app/templates&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const app_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;id&#x27;);\napp.appTemplate(query.queryParam + &#x27;&amp;application_id=&#x27; + app_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toArray(res.body, &#x27;Pipeline templates response type should be array.&#x27;);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.name === constants.NAMESPACE_NAME) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline env single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline env id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline env name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.name, constants.NAMESPACE_NAME);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;template&#x27;, &#x27;id&#x27;, obj.id);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;template&#x27;, &#x27;name&#x27;, obj.name);\n                addContext(this, &#x27;Pipeline template id and name: &#x27; + [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            addContext(this, &#x27;Template name not found: &#x27; + [constants.NAMESPACE_NAME]);\n            elementHandler.toBeTrueMsg(flag, &#x27;Template name not found: &#x27; + constants.NAMESPACE_NAME);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1798c972-ba34-465a-be1b-93f2db17b290&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;1798c972-ba34-465a-be1b-93f2db17b290&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;8394c39e-c353-4707-aa77-61d377539e02&quot;,&quot;title&quot;:&quot;Create Pipeline&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;POST /newdeploy&quot;,&quot;fullTitle&quot;:&quot;ozone-templates-deploy-pipeline-v-1 test case Create Pipeline POST /newdeploy&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const app_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;id&#x27;);\nconst pipe_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;pipelines&#x27;, &#x27;4&#x27;);\napp.newdeploy(param.templatesDeployPipeline())\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.postApiResponse(res);\n        let obj = res.body;\n        elementHandler.responseExpect(obj, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toObject(obj, &#x27;Pipeline response type should be object.&#x27;);\n        if (obj.applicationID === app_id) {\n            elementHandler.toBeEqual(obj.pipelineID, pipe_id);\n            elementHandler.toString(obj.id, &#x27;Pipeline id type should be string.&#x27;);\n            common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;run&#x27;, &#x27;id&#x27;, obj.id);\n            console.log(&#x27;New deploy id: &#x27;, [obj.id]);\n            addContext(this, &#x27;New deploy id: &#x27; + obj.id);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;892251d2-7d14-4d10-8ad5-1b9639f7d7ed&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;892251d2-7d14-4d10-8ad5-1b9639f7d7ed&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;fdead0b7-ed36-4442-a6c8-5788a24d9846&quot;,&quot;title&quot;:&quot;Pipeline Run&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /pipelineruns&quot;,&quot;fullTitle&quot;:&quot;ozone-templates-deploy-pipeline-v-1 test case Pipeline Run GET /pipelineruns&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const id = common.searchOfEnv(&#x27;app&#x27;, &#x27;run&#x27;, &#x27;id&#x27;);\nlet count = 1;\nconst file = path.join(path.resolve(), &#x27;/resource/pipeline.json&#x27;);\nfor (let index = 0; index &lt; count; index++) {\n    await app.pipelineRun(&#x27;/&#x27; + id)\n        .then((res) =&gt; {\n            if (res.statusCode !== 200)\n                logs.getApiResponse(res);\n            elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n            // Add delay time 5s\n            common.tryDelay(5000);\n            let status = res.body.tektonPipelineRun.object.status;\n            // get the pipeline start time\n            let flag = 1, startTime = &#x27;&#x27;;\n            if (flag) {\n                startTime = status.startTime instanceof Date ? status.startTime : new Date(status.startTime);\n                flag = 0;\n            }\n            // Set running pipeline status response in json file\n            common.writeJsonFlie(file, status);\n            // get pipeline response in json file through\n            const pipelineResponse = common.readJsonFile(file);\n            const cTime = pipelineResponse.completionTime;\n            // set value param in completion time\n            const value = cTime ? cTime : null;\n            if (value) {\n                const completionTime = cTime instanceof Date ? cTime : new Date(cTime);\n                seconds = Math.abs(completionTime - startTime) / 1000;\n                console.log(&#x27;StartTime: &#x27;, startTime);\n                console.log(&#x27;CompletionTime: &#x27;, cTime);\n                console.log(&#x27;Pipeline completion time in second: &#x27;, seconds + &#x27;s&#x27;);\n                console.log(&#x27;Pipeline status: &#x27;, pipelineResponse.conditions[0].reason);\n            } else {\n                count += 1;\n                console.log(&#x27;Pipeline still running.......&#x27;);\n            }\n        });\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b42c3d99-9696-4ba3-bdbe-48b18d00a0ef&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;b42c3d99-9696-4ba3-bdbe-48b18d00a0ef&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;bc880e98-23e0-431c-af92-5ea2b874778f&quot;,&quot;title&quot;:&quot;ozone-set-deployment-image-v-1 test case&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;2fdbc1da-d904-4489-b14a-63b0f36558a2&quot;,&quot;title&quot;:&quot;Pipeline Environment&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;ozone-set-deployment-image-v-1 test case Pipeline Environment \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const env_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;env_id&#x27;);\napp.appEnv(&#x27;?id=&#x27; + env_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toArray(res.body, &#x27;Pipeline env response type should be array.&#x27;);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === env_id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline env single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline env id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline env name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, env_id);\n                console.log(&#x27;Pipeline env id and name: &#x27;, [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            elementHandler.toBeTrueMsg(flag, &#x27;Environment not found..&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e4ff9482-42b0-4801-8e3f-7e030cde0278&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /env&quot;,&quot;fullTitle&quot;:&quot;ozone-set-deployment-image-v-1 test case Pipeline Environment GET /env&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const app_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;id&#x27;);\nconst env_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;env_id&#x27;);\napp.appEnv(query.queryParam + &#x27;&amp;application_id=&#x27; + app_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toArray(res.body, &#x27;Pipeline env response type should be array.&#x27;);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === env_id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline env single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline env id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline env name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, env_id);\n                addContext(this, &#x27;Pipeline env id and name: &#x27; + [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            addContext(this, &#x27;Environment name not found.&#x27;);\n            elementHandler.toBeTrueMsg(flag, &#x27;Environment name not found.&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cc17bdec-64d9-4fe0-990a-958f23b452cc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;cc17bdec-64d9-4fe0-990a-958f23b452cc&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;458055c0-c34f-414f-b368-94cd2754e84a&quot;,&quot;title&quot;:&quot;Pipeline Cluster&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;ozone-set-deployment-image-v-1 test case Pipeline Cluster \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const id = common.searchOfEnv(&#x27;app&#x27;, &#x27;cluster&#x27;, &#x27;id&#x27;);\napp.cluster(&#x27;?id=&#x27; + id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline cluster single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline cluster id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline cluster name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, id);\n                console.log(&#x27;Pipeline cluster id and name: &#x27;, [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            elementHandler.toBeTrueMsg(flag, &#x27;Cluster name not found.&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;32fe7393-ffcb-43f9-8dd1-ecdf48def344&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /cluster&quot;,&quot;fullTitle&quot;:&quot;ozone-set-deployment-image-v-1 test case Pipeline Cluster GET /cluster&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const env_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;env_id&#x27;);\napp.cluster(query.queryParam + &#x27;&amp;env_id=&#x27; + env_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.name === constants.CLUSTER_NAME) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline cluster single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline cluster id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline cluster name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.name, constants.CLUSTER_NAME);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;cluster&#x27;, &#x27;id&#x27;, obj.id);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;cluster&#x27;, &#x27;name&#x27;, obj.name);\n                addContext(this, &#x27;Pipeline cluster id and name: &#x27; + [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            addContext(this, &#x27;Cluster name not found.&#x27; + [constants.CLUSTER_NAME]);\n            elementHandler.toBeTrueMsg(flag, &#x27;Cluster name not found: &#x27; + constants.CLUSTER_NAME);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2610438e-e476-47d3-ae3f-52148026bd5b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;2610438e-e476-47d3-ae3f-52148026bd5b&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;ebf54d0f-6e9f-46b3-a614-d95e3ad7a5ee&quot;,&quot;title&quot;:&quot;Create Pipeline&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;POST /newdeploy&quot;,&quot;fullTitle&quot;:&quot;ozone-set-deployment-image-v-1 test case Create Pipeline POST /newdeploy&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const app_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;id&#x27;);\nconst pipe_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;pipelines&#x27;, &#x27;3&#x27;);\napp.newdeploy(param.setDeploymentImg())\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.postApiResponse(res);\n        let obj = res.body;\n        elementHandler.responseExpect(obj, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toObject(obj, &#x27;Pipeline response type should be object.&#x27;);\n        if (obj.applicationID === app_id) {\n            elementHandler.toBeEqual(obj.pipelineID, pipe_id);\n            elementHandler.toString(obj.id, &#x27;Pipeline id type should be string.&#x27;);\n            common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;run&#x27;, &#x27;id&#x27;, obj.id);\n            console.log(&#x27;New deploy id: &#x27;, [obj.id]);\n            addContext(this, &#x27;New deploy id: &#x27; + obj.id);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f783161c-cd5c-4e16-9049-7b53b94bb10b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;f783161c-cd5c-4e16-9049-7b53b94bb10b&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;689b4f0d-2252-4e1c-b752-ccd5f1b920fd&quot;,&quot;title&quot;:&quot;Pipeline Run&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /pipelineruns&quot;,&quot;fullTitle&quot;:&quot;ozone-set-deployment-image-v-1 test case Pipeline Run GET /pipelineruns&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const id = common.searchOfEnv(&#x27;app&#x27;, &#x27;run&#x27;, &#x27;id&#x27;);\nlet count = 1;\nconst file = path.join(path.resolve(), &#x27;/resource/pipeline.json&#x27;);\nfor (let index = 0; index &lt; count; index++) {\n    await app.pipelineRun(&#x27;/&#x27; + id)\n        .then((res) =&gt; {\n            if (res.statusCode !== 200)\n                logs.getApiResponse(res);\n            elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n            // Add delay time 5s\n            common.tryDelay(5000);\n            let status = res.body.tektonPipelineRun.object.status;\n            // get the pipeline start time\n            let flag = 1, startTime = &#x27;&#x27;;\n            if (flag) {\n                startTime = status.startTime instanceof Date ? status.startTime : new Date(status.startTime);\n                flag = 0;\n            }\n            // Set running pipeline status response in json file\n            common.writeJsonFlie(file, status);\n            // get pipeline response in json file through\n            const pipelineResponse = common.readJsonFile(file);\n            const cTime = pipelineResponse.completionTime;\n            // set value param in completion time\n            const value = cTime ? cTime : null;\n            if (value) {\n                const completionTime = cTime instanceof Date ? cTime : new Date(cTime);\n                seconds = Math.abs(completionTime - startTime) / 1000;\n                console.log(&#x27;StartTime: &#x27;, startTime);\n                console.log(&#x27;CompletionTime: &#x27;, cTime);\n                console.log(&#x27;Pipeline completion time in second: &#x27;, seconds + &#x27;s&#x27;);\n                console.log(&#x27;Pipeline status: &#x27;, pipelineResponse.conditions[0].reason);\n            } else {\n                count += 1;\n                console.log(&#x27;Pipeline still running.......&#x27;);\n            }\n        });\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ec453106-b5eb-44a3-a355-67c359ec6123&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;ec453106-b5eb-44a3-a355-67c359ec6123&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:100000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;8.3.2&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:false,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;6.2.2&quot;},&quot;marge&quot;:{&quot;options&quot;:{&quot;overwrite&quot;:&quot;true&quot;,&quot;showPassed&quot;:&quot;true&quot;,&quot;html&quot;:&quot;true&quot;,&quot;json&quot;:&quot;false&quot;,&quot;timestamp&quot;:&quot;1635425086921&quot;,&quot;autoOpen&quot;:&quot;false&quot;,&quot;howHooks&quot;:&quot;true&quot;,&quot;charts&quot;:&quot;true&quot;,&quot;cdn&quot;:&quot;true&quot;,&quot;inline&quot;:&quot;true&quot;,&quot;colors&quot;:&quot;true&quot;},&quot;version&quot;:&quot;5.2.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;mochawesome-report&quot;,&quot;reportTitle&quot;:&quot;ozone-api-automation&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:true,&quot;inlineAssets&quot;:true,&quot;cdn&quot;:true,&quot;charts&quot;:true,&quot;enableCharts&quot;:true,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:&quot;1635425086921&quot;,&quot;ts&quot;:&quot;1635425086921&quot;,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:false,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;mochawesome-report/assets&quot;,&quot;htmlFile&quot;:&quot;/home/dell/Music/ozone-api-automation/mochawesome-report/mochawesome_1635425086921.html&quot;}"><div id="report"></div><script src="https://unpkg.com/mochawesome-report-generator@5.2.0/dist/app.js"></script></body></html>