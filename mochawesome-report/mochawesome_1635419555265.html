<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="https://unpkg.com/mochawesome-report-generator@5.2.0/dist/app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:31,&quot;tests&quot;:28,&quot;passes&quot;:27,&quot;pending&quot;:0,&quot;failures&quot;:1,&quot;start&quot;:&quot;2021-10-28T11:12:35.503Z&quot;,&quot;end&quot;:&quot;2021-10-28T11:16:38.066Z&quot;,&quot;duration&quot;:242563,&quot;testsRegistered&quot;:28,&quot;passPercent&quot;:96.42857142857143,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;032a1992-b810-4394-a2c6-5e4a6413a9f5&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;fullTitle&quot;:&quot;\&quot;before each\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:437,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = common.searchOfEnv(&#x27;login&#x27;, &#x27;login&#x27;, &#x27;token&#x27;);\nlogin.check()\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toBeEqual(res.body.email_verified, constants.email_verified);\n        elementHandler.schemaValidate(res.body, checkSuccess);\n        elementHandler.toBeEqual(res.body.token, token);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7e30b33d-356f-4e34-bf17-efa504906bdc&quot;,&quot;parentUUID&quot;:&quot;032a1992-b810-4394-a2c6-5e4a6413a9f5&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;fullTitle&quot;:&quot;\&quot;before each\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:379,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = common.searchOfEnv(&#x27;login&#x27;, &#x27;login&#x27;, &#x27;token&#x27;);\nlogin.check()\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toBeEqual(res.body.email_verified, constants.email_verified);\n        elementHandler.schemaValidate(res.body, checkSuccess);\n        elementHandler.toBeEqual(res.body.token, token);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e5385adc-d6ae-4fd1-a878-8a024bfcf6b0&quot;,&quot;parentUUID&quot;:&quot;032a1992-b810-4394-a2c6-5e4a6413a9f5&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;fullTitle&quot;:&quot;\&quot;before each\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:547,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = common.searchOfEnv(&#x27;login&#x27;, &#x27;login&#x27;, &#x27;token&#x27;);\nlogin.check()\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toBeEqual(res.body.email_verified, constants.email_verified);\n        elementHandler.schemaValidate(res.body, checkSuccess);\n        elementHandler.toBeEqual(res.body.token, token);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;71dc6cf0-3a23-465e-bc11-e95b216233c2&quot;,&quot;parentUUID&quot;:&quot;032a1992-b810-4394-a2c6-5e4a6413a9f5&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;fullTitle&quot;:&quot;\&quot;before each\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:427,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = common.searchOfEnv(&#x27;login&#x27;, &#x27;login&#x27;, &#x27;token&#x27;);\nlogin.check()\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toBeEqual(res.body.message, constants.CHECK);\n        elementHandler.schemaValidate(res.body, checkSuccess);\n        elementHandler.toBeEqual(res.body.token, token);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;88744489-075d-402d-a900-1f776b5e3b26&quot;,&quot;parentUUID&quot;:&quot;032a1992-b810-4394-a2c6-5e4a6413a9f5&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;fullTitle&quot;:&quot;\&quot;before each\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:801,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = common.searchOfEnv(&#x27;login&#x27;, &#x27;login&#x27;, &#x27;token&#x27;);\nlogin.check()\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toBeEqual(res.body.email_verified, constants.email_verified);\n        elementHandler.schemaValidate(res.body, checkSuccess);\n        elementHandler.toBeEqual(res.body.token, token);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5ad4ed42-7b18-4cd5-8e19-08b8ef980c37&quot;,&quot;parentUUID&quot;:&quot;032a1992-b810-4394-a2c6-5e4a6413a9f5&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;ecae3dc2-4e18-4256-b0f7-92ccd9304209&quot;,&quot;title&quot;:&quot;Login test case&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /accounts/oauth&quot;,&quot;fullTitle&quot;:&quot;Login test case GET /accounts/oauth&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:396,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;Account id and name: 0,Username/Password\&quot;&quot;,&quot;code&quot;:&quot;login.accountName(&#x27;?id=&#x27; + process.env.account_name)\n    .end((err, res) =&gt; {\n        if (err) {\n            console.log(err);\n            addContext(this, &#x27;Error: &#x27; + err);\n        }\n        if (res.statusCode !== 200) {\n            logs.postApiResponse(res);\n            addContext(this, &#x27;Login error: &#x27; + logs.postApiResponse(res));\n        }\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.schemaValidate(res.body, accountSuccess);\n        for (const obj of res.body) {\n            if (obj.id == constants.ACCOUNT_ID) {\n                common.readOrWriteJsonFile(&#x27;login&#x27;, &#x27;account_name&#x27;, &#x27;id&#x27;, obj.id);\n                common.readOrWriteJsonFile(&#x27;login&#x27;, &#x27;account_name&#x27;, &#x27;name&#x27;, obj.provider_name);\n                common.readOrWriteJsonFile(&#x27;login&#x27;, &#x27;account_name&#x27;, &#x27;url&#x27;, obj.login_url);\n                console.log(&#x27;Account id and name: &#x27;, [obj.id, obj.provider_name]);\n                addContext(this, &#x27;Account id and name: &#x27; + [obj.id, obj.provider_name]);\n            }\n        }\n        done();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5325d40a-febb-4df8-a104-562b02fd059c&quot;,&quot;parentUUID&quot;:&quot;ecae3dc2-4e18-4256-b0f7-92ccd9304209&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;POST /api/auth/login&quot;,&quot;fullTitle&quot;:&quot;Login test case POST /api/auth/login&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2448,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;Login details: https://staging.in2tive.xyz/api/auth/login,admin@ozone.one,9864ea9caaa78925de0f3464d1fcb585b287623f70aadcf327df42a2d706e8a1,true\&quot;&quot;,&quot;code&quot;:&quot;login.login(api.login)\n    .end((err, res) =&gt; {\n        if (err)\n            console.log(err);\n        if (res.statusCode !== 200) {\n            logs.postApiResponse(res);\n            addContext(this, &#x27;Login response: &#x27; + [res.body.message, res.res.statusMessage,]);\n        }\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.schemaValidate(res.body, loginSuccess);\n        // set token value in the env variable \n        common.readOrWriteJsonFile(&#x27;login&#x27;, &#x27;login&#x27;, &#x27;token&#x27;, res.body.token);\n        console.log(&#x27;Login details: &#x27;, [res.request.url, res.body.username, res.body.token, res.body.email_verified]);\n        addContext(this, &#x27;Login details: &#x27; + [res.request.url, res.body.username, res.body.token, res.body.email_verified]);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fe11c2b2-6f5f-4581-ace2-aa4fb21b0ea9&quot;,&quot;parentUUID&quot;:&quot;ecae3dc2-4e18-4256-b0f7-92ccd9304209&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;GET /defaultworkspace&quot;,&quot;fullTitle&quot;:&quot;Login test case GET /defaultworkspace&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:389,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;Project id and name: 10,barry\&quot;&quot;,&quot;code&quot;:&quot;login.workspace(query.queryParam)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200) {\n            logs.getApiResponse(res);\n            addContext(this, &#x27;Login response: &#x27; + [res.body.message, res.res.statusMessage,]);\n        }\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.schemaValidate(res.body, workspaceSuccess);\n        // set workspace id and name in the env variable \n        for (const obj of res.body) {\n            if (obj.name === constants.WORKSPACE) {\n                elementHandler.toBeEqual(obj.name, constants.WORKSPACE);\n                common.readOrWriteJsonFile(&#x27;login&#x27;, &#x27;workspace&#x27;, &#x27;id&#x27;, obj.id);\n                common.readOrWriteJsonFile(&#x27;login&#x27;, &#x27;workspace&#x27;, &#x27;name&#x27;, obj.name);\n                console.log(&#x27;Project id and name: &#x27;, [obj.id, obj.name]);\n                addContext(this, &#x27;Project id and name: &#x27; + [obj.id, obj.name]);\n                continue\n            }\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cd58723b-2aba-4d29-a354-ec044caf64c7&quot;,&quot;parentUUID&quot;:&quot;ecae3dc2-4e18-4256-b0f7-92ccd9304209&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;5325d40a-febb-4df8-a104-562b02fd059c&quot;,&quot;fe11c2b2-6f5f-4581-ace2-aa4fb21b0ea9&quot;,&quot;cd58723b-2aba-4d29-a354-ec044caf64c7&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3233,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;a0d946a1-3681-4ad9-8fe1-8e62d48aa7db&quot;,&quot;title&quot;:&quot;ozone-git-pull-docker-image-build-and-template-deploy-v-1 test case&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;e1045e2c-9f2c-4c2e-92fc-01b16baef868&quot;,&quot;title&quot;:&quot;Pipeline Environment&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Pipeline Environment\&quot;&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-template-deploy-v-1 test case Pipeline Environment \&quot;after all\&quot; hook in \&quot;Pipeline Environment\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:352,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const env_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;env_id&#x27;);\napp.appEnv(&#x27;?id=&#x27; + env_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toArray(res.body, &#x27;Pipeline env response type should be array.&#x27;);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === env_id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline env single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline env id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline env name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, env_id);\n                console.log(&#x27;Pipeline env id and name: &#x27;, [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            elementHandler.toBeTrueMsg(flag, &#x27;Environment not found..&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;274c62f2-38c9-4c71-9024-46b6a084d295&quot;,&quot;parentUUID&quot;:&quot;e1045e2c-9f2c-4c2e-92fc-01b16baef868&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /env&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-template-deploy-v-1 test case Pipeline Environment GET /env&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:308,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;Pipeline env id and name: 6149c0b617de71c6ac6a634f,UAT\&quot;&quot;,&quot;code&quot;:&quot;const app_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;id&#x27;);\nconst env_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;env_id&#x27;);\napp.appEnv(query.queryParam + &#x27;&amp;application_id=&#x27; + app_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toArray(res.body, &#x27;Pipeline env response type should be array.&#x27;);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === env_id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline env single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline env id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline env name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, env_id);\n                addContext(this, &#x27;Pipeline env id and name: &#x27; + [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            addContext(this, &#x27;Environment name not found.&#x27;);\n            elementHandler.toBeTrueMsg(flag, &#x27;Environment name not found.&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bc1fc5dd-c47f-468c-9d59-1bf733cb35bb&quot;,&quot;parentUUID&quot;:&quot;e1045e2c-9f2c-4c2e-92fc-01b16baef868&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;bc1fc5dd-c47f-468c-9d59-1bf733cb35bb&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:308,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;3a7ac887-57d2-4436-a8cc-fe9bdb937a8c&quot;,&quot;title&quot;:&quot;Pipeline Cluster&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Pipeline Cluster\&quot;&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-template-deploy-v-1 test case Pipeline Cluster \&quot;after all\&quot; hook in \&quot;Pipeline Cluster\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:402,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const id = common.searchOfEnv(&#x27;app&#x27;, &#x27;cluster&#x27;, &#x27;id&#x27;);\napp.cluster(&#x27;?id=&#x27; + id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline cluster single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline cluster id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline cluster name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, id);\n                console.log(&#x27;Pipeline cluster id and name: &#x27;, [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            elementHandler.toBeTrueMsg(flag, &#x27;Cluster name not found.&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f744688e-f5f5-43e7-935e-148a015d55e3&quot;,&quot;parentUUID&quot;:&quot;3a7ac887-57d2-4436-a8cc-fe9bdb937a8c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /cluster&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-template-deploy-v-1 test case Pipeline Cluster GET /cluster&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:581,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;Pipeline cluster id and name: 617a6874df85a15f0a45a187,pks-attach2\&quot;&quot;,&quot;code&quot;:&quot;const env_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;env_id&#x27;);\napp.cluster(query.queryParam + &#x27;&amp;env_id=&#x27; + env_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.name === constants.CLUSTER_NAME) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline cluster single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline cluster id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline cluster name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.name, constants.CLUSTER_NAME);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;cluster&#x27;, &#x27;id&#x27;, obj.id);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;cluster&#x27;, &#x27;name&#x27;, obj.name);\n                addContext(this, &#x27;Pipeline cluster id and name: &#x27; + [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            addContext(this, &#x27;Cluster name not found.&#x27; + [constants.CLUSTER_NAME]);\n            elementHandler.toBeTrueMsg(flag, &#x27;Cluster name not found: &#x27; + constants.CLUSTER_NAME);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;54536190-f277-43fe-9585-008a013e4e8d&quot;,&quot;parentUUID&quot;:&quot;3a7ac887-57d2-4436-a8cc-fe9bdb937a8c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;54536190-f277-43fe-9585-008a013e4e8d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:581,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;dcadd903-7878-47fd-9835-63487df42205&quot;,&quot;title&quot;:&quot;Pipeline Tamplate&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Pipeline Tamplate\&quot;&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-template-deploy-v-1 test case Pipeline Tamplate \&quot;after all\&quot; hook in \&quot;Pipeline Tamplate\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:340,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const id = common.searchOfEnv(&#x27;app&#x27;, &#x27;template&#x27;, &#x27;id&#x27;);\napp.appTemplate(&#x27;?id=&#x27; + id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toArray(res.body, &#x27;Pipeline templates response type should be array.&#x27;);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline env single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline env id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline env name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.name, constants.NAMESPACE_NAME);\n                console.log(&#x27;Pipeline template id and name: &#x27;, [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            elementHandler.toBeTrueMsg(flag, &#x27;Templates name not found: &#x27; + constants.NAMESPACE_NAME);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2a436375-a0b4-4003-a235-8c9a53a31b9d&quot;,&quot;parentUUID&quot;:&quot;dcadd903-7878-47fd-9835-63487df42205&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /app/templates&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-template-deploy-v-1 test case Pipeline Tamplate GET /app/templates&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:398,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;Pipeline template id and name: 617a8088316caf656c61bc20,default\&quot;&quot;,&quot;code&quot;:&quot;const app_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;id&#x27;);\napp.appTemplate(query.queryParam + &#x27;&amp;application_id=&#x27; + app_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toArray(res.body, &#x27;Pipeline templates response type should be array.&#x27;);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.name === constants.NAMESPACE_NAME) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline env single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline env id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline env name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.name, constants.NAMESPACE_NAME);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;template&#x27;, &#x27;id&#x27;, obj.id);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;template&#x27;, &#x27;name&#x27;, obj.name);\n                addContext(this, &#x27;Pipeline template id and name: &#x27; + [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            addContext(this, &#x27;Template name not found: &#x27; + [constants.NAMESPACE_NAME]);\n            elementHandler.toBeTrueMsg(flag, &#x27;Template name not found: &#x27; + constants.NAMESPACE_NAME);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d65cb5ad-02df-4583-b597-08836029432d&quot;,&quot;parentUUID&quot;:&quot;dcadd903-7878-47fd-9835-63487df42205&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d65cb5ad-02df-4583-b597-08836029432d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:398,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;7dc9dda3-3dea-418a-a73c-25e749c69ab2&quot;,&quot;title&quot;:&quot;Pipeline Branch&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Pipeline Branch\&quot;&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-template-deploy-v-1 test case Pipeline Branch \&quot;after all\&quot; hook in \&quot;Pipeline Branch\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:667,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const id = common.searchOfEnv(&#x27;app&#x27;, &#x27;branch&#x27;, &#x27;id&#x27;);\napp.branchs(&#x27;?id=&#x27; + id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline branch single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline branch id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline branch name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, id);\n                console.log(&#x27;Pipeline branch id and name: &#x27;, [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            elementHandler.toBeTrueMsg(flag, &#x27;Branch name not found.&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;73776c87-2478-4cdc-b32e-b4b0dba488e7&quot;,&quot;parentUUID&quot;:&quot;7dc9dda3-3dea-418a-a73c-25e749c69ab2&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /repository/branches&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-template-deploy-v-1 test case Pipeline Branch GET /repository/branches&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:914,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;Pipeline branch id and name: 6114f9889ee862c2e1cea31b:::master,master\&quot;&quot;,&quot;code&quot;:&quot;const repo_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;repository_id&#x27;);\napp.branchs(query.queryParam + &#x27;&amp;repository_id=&#x27; + repo_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.name === constants.MASTER) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline branch single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline branch id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline branch name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.name, constants.MASTER);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;branch&#x27;, &#x27;id&#x27;, obj.id);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;branch&#x27;, &#x27;name&#x27;, obj.name);\n                addContext(this, &#x27;Pipeline branch id and name: &#x27; + [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            addContext(this, &#x27;Branch name not found: &#x27; + [constants.GITHUB_BRANCH_NAME]);\n            elementHandler.toBeTrueMsg(flag, &#x27;Branch name not found: &#x27; + constants.GITHUB_BRANCH_NAME);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2f4fba5e-520b-4a22-ab24-6b76e150dd05&quot;,&quot;parentUUID&quot;:&quot;7dc9dda3-3dea-418a-a73c-25e749c69ab2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;2f4fba5e-520b-4a22-ab24-6b76e150dd05&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:914,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;12695e8d-9a9c-4d6b-9922-00e9dbd320b4&quot;,&quot;title&quot;:&quot;Create Pipeline&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;POST /newdeploy&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-template-deploy-v-1 test case Create Pipeline POST /newdeploy&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:568,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;New deploy id: 617a85be316caf656c61bc46\&quot;&quot;,&quot;code&quot;:&quot;const app_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;id&#x27;);\nconst pipe_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;pipelines&#x27;, &#x27;2&#x27;);\napp.newdeploy(param.templateDeploy())\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.postApiResponse(res);\n        let obj = res.body;\n        elementHandler.responseExpect(obj, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toObject(obj, &#x27;Pipeline response type should be object.&#x27;);\n        if (obj.applicationID === app_id) {\n            elementHandler.toBeEqual(obj.pipelineID, pipe_id);\n            elementHandler.toString(obj.id, &#x27;Pipeline id type should be string.&#x27;);\n            common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;run&#x27;, &#x27;id&#x27;, obj.id);\n            console.log(&#x27;New deploy id: &#x27;, [obj.id]);\n            addContext(this, &#x27;New deploy id: &#x27; + obj.id);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1286b4de-5031-46c6-8409-6778b59d91ea&quot;,&quot;parentUUID&quot;:&quot;12695e8d-9a9c-4d6b-9922-00e9dbd320b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1286b4de-5031-46c6-8409-6778b59d91ea&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:568,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;6916ad4a-aaa2-49ff-b40f-7585ef5b60f5&quot;,&quot;title&quot;:&quot;Pipeline Run&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /pipelineruns&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-template-deploy-v-1 test case Pipeline Run GET /pipelineruns&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:56243,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const id = common.searchOfEnv(&#x27;app&#x27;, &#x27;run&#x27;, &#x27;id&#x27;);\nlet count = 1;\nconst file = path.join(path.resolve(), &#x27;/resource/pipeline.json&#x27;);\nfor (let index = 0; index &lt; count; index++) {\n    await app.pipelineRun(&#x27;/&#x27; + id)\n        .then((res) =&gt; {\n            if (res.statusCode !== 200)\n                logs.getApiResponse(res);\n            elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n            // Add delay time 5s\n            common.tryDelay(5000);\n            let status = res.body.tektonPipelineRun.object.status;\n            // get the pipeline start time\n            let flag = 1, startTime = &#x27;&#x27;;\n            if (flag) {\n                startTime = status.startTime instanceof Date ? status.startTime : new Date(status.startTime);\n                flag = 0;\n            }\n            // Set running pipeline status response in json file\n            common.writeJsonFlie(file, status);\n            // get pipeline response in json file through\n            const pipelineResponse = common.readJsonFile(file);\n            const cTime = pipelineResponse.completionTime;\n            // set value param in completion time\n            const value = cTime ? cTime : null;\n            if (value) {\n                const completionTime = cTime instanceof Date ? cTime : new Date(cTime);\n                seconds = Math.abs(completionTime - startTime) / 1000;\n                console.log(&#x27;StartTime: &#x27;, startTime);\n                console.log(&#x27;CompletionTime: &#x27;, cTime);\n                console.log(&#x27;Pipeline completion time in second: &#x27;, seconds + &#x27;s&#x27;);\n                console.log(&#x27;Pipeline status: &#x27;, pipelineResponse.conditions[0].reason);\n            } else {\n                count += 1;\n                console.log(&#x27;Pipeline still running.......&#x27;);\n            }\n        });\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;edc3cf32-448c-4bb1-8718-01af0e0ad7fe&quot;,&quot;parentUUID&quot;:&quot;6916ad4a-aaa2-49ff-b40f-7585ef5b60f5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;edc3cf32-448c-4bb1-8718-01af0e0ad7fe&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:56243,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;ab7826ed-7c57-4d83-89ca-e23a8d8f1993&quot;,&quot;title&quot;:&quot;ozone-git-pull-docker-image-build-and-push-set-deployment-image-v-1 test case&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;8ec9a3be-ba65-4ade-ad86-54283af644da&quot;,&quot;title&quot;:&quot;Pipeline Environment&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Pipeline Environment\&quot;&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-push-set-deployment-image-v-1 test case Pipeline Environment \&quot;after all\&quot; hook in \&quot;Pipeline Environment\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:639,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const env_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;env_id&#x27;);\napp.appEnv(&#x27;?id=&#x27; + env_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toArray(res.body, &#x27;Pipeline env response type should be array.&#x27;);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === env_id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline env single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline env id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline env name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, env_id);\n                console.log(&#x27;Pipeline env id and name: &#x27;, [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            elementHandler.toBeTrueMsg(flag, &#x27;Environment not found..&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;42332e29-c6b6-48f1-a967-6a284d41da3c&quot;,&quot;parentUUID&quot;:&quot;8ec9a3be-ba65-4ade-ad86-54283af644da&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /env&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-push-set-deployment-image-v-1 test case Pipeline Environment GET /env&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:366,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;Pipeline env id and name: 6149c0b617de71c6ac6a634f,UAT\&quot;&quot;,&quot;code&quot;:&quot;const app_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;id&#x27;);\nconst env_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;env_id&#x27;);\napp.appEnv(query.queryParam + &#x27;&amp;application_id=&#x27; + app_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toArray(res.body, &#x27;Pipeline env response type should be array.&#x27;);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === env_id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline env single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline env id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline env name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, env_id);\n                addContext(this, &#x27;Pipeline env id and name: &#x27; + [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            addContext(this, &#x27;Environment name not found.&#x27;);\n            elementHandler.toBeTrueMsg(flag, &#x27;Environment name not found.&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2a058541-021d-47cb-862a-e6f1b94592ae&quot;,&quot;parentUUID&quot;:&quot;8ec9a3be-ba65-4ade-ad86-54283af644da&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;2a058541-021d-47cb-862a-e6f1b94592ae&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:366,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;08226223-a930-43d6-b3f3-eb6a892685cc&quot;,&quot;title&quot;:&quot;Pipeline Cluster&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Pipeline Cluster\&quot;&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-push-set-deployment-image-v-1 test case Pipeline Cluster \&quot;after all\&quot; hook in \&quot;Pipeline Cluster\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:568,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const id = common.searchOfEnv(&#x27;app&#x27;, &#x27;cluster&#x27;, &#x27;id&#x27;);\napp.cluster(&#x27;?id=&#x27; + id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline cluster single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline cluster id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline cluster name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, id);\n                console.log(&#x27;Pipeline cluster id and name: &#x27;, [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            elementHandler.toBeTrueMsg(flag, &#x27;Cluster name not found.&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;933b37bd-2e17-4bf9-ad89-f69f9a001339&quot;,&quot;parentUUID&quot;:&quot;08226223-a930-43d6-b3f3-eb6a892685cc&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /cluster&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-push-set-deployment-image-v-1 test case Pipeline Cluster GET /cluster&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:673,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;Pipeline cluster id and name: 617a6874df85a15f0a45a187,pks-attach2\&quot;&quot;,&quot;code&quot;:&quot;const env_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;env_id&#x27;);\napp.cluster(query.queryParam + &#x27;&amp;env_id=&#x27; + env_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.name === constants.CLUSTER_NAME) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline cluster single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline cluster id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline cluster name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.name, constants.CLUSTER_NAME);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;cluster&#x27;, &#x27;id&#x27;, obj.id);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;cluster&#x27;, &#x27;name&#x27;, obj.name);\n                addContext(this, &#x27;Pipeline cluster id and name: &#x27; + [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            addContext(this, &#x27;Cluster name not found.&#x27; + [constants.CLUSTER_NAME]);\n            elementHandler.toBeTrueMsg(flag, &#x27;Cluster name not found: &#x27; + constants.CLUSTER_NAME);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;30bc6c63-f424-45c2-980f-e2dcce4e1b72&quot;,&quot;parentUUID&quot;:&quot;08226223-a930-43d6-b3f3-eb6a892685cc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;30bc6c63-f424-45c2-980f-e2dcce4e1b72&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:673,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;3d08ee4b-c3f4-4f22-b67a-481419eaa6de&quot;,&quot;title&quot;:&quot;Pipeline Branch&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Pipeline Branch\&quot;&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-push-set-deployment-image-v-1 test case Pipeline Branch \&quot;after all\&quot; hook in \&quot;Pipeline Branch\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:667,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const id = common.searchOfEnv(&#x27;app&#x27;, &#x27;branch&#x27;, &#x27;id&#x27;);\napp.branchs(&#x27;?id=&#x27; + id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline branch single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline branch id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline branch name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, id);\n                console.log(&#x27;Pipeline branch id and name: &#x27;, [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            elementHandler.toBeTrueMsg(flag, &#x27;Branch name not found.&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;254355c2-da8d-4494-baa9-7fb26ef6aad7&quot;,&quot;parentUUID&quot;:&quot;3d08ee4b-c3f4-4f22-b67a-481419eaa6de&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /repository/branches&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-push-set-deployment-image-v-1 test case Pipeline Branch GET /repository/branches&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:815,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;Pipeline branch id and name: 6114f9889ee862c2e1cea31b:::v1,v1\&quot;&quot;,&quot;code&quot;:&quot;const repo_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;repository_id&#x27;);\napp.branchs(query.queryParam + &#x27;&amp;repository_id=&#x27; + repo_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.name === constants.V1) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline branch single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline branch id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline branch name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.name, constants.V1);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;branch&#x27;, &#x27;id&#x27;, obj.id);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;branch&#x27;, &#x27;name&#x27;, obj.name);\n                addContext(this, &#x27;Pipeline branch id and name: &#x27; + [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            addContext(this, &#x27;Branch name not found: &#x27; + [constants.GITHUB_BRANCH_NAME]);\n            elementHandler.toBeTrueMsg(flag, &#x27;Branch name not found: &#x27; + constants.GITHUB_BRANCH_NAME);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;525dc67b-9e79-4178-86e4-e34ab88fe4a4&quot;,&quot;parentUUID&quot;:&quot;3d08ee4b-c3f4-4f22-b67a-481419eaa6de&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;525dc67b-9e79-4178-86e4-e34ab88fe4a4&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:815,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;fa65bf9b-31c4-4843-bcb6-d580994e2624&quot;,&quot;title&quot;:&quot;Create Pipeline&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;POST /newdeploy&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-push-set-deployment-image-v-1 test case Create Pipeline POST /newdeploy&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:834,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;New deploy id: 617a8606316caf656c61bc49\&quot;&quot;,&quot;code&quot;:&quot;const app_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;id&#x27;);\nconst pipe_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;pipelines&#x27;, &#x27;1&#x27;);\napp.newdeploy(param.pushSetDeploymentImg())\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.postApiResponse(res);\n        let obj = res.body;\n        elementHandler.responseExpect(obj, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toObject(obj, &#x27;Pipeline response type should be object.&#x27;);\n        if (obj.applicationID === app_id) {\n            elementHandler.toBeEqual(obj.pipelineID, pipe_id);\n            elementHandler.toString(obj.id, &#x27;Pipeline id type should be string.&#x27;);\n            common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;run&#x27;, &#x27;id&#x27;, obj.id);\n            console.log(&#x27;New deploy id: &#x27;, [obj.id]);\n            addContext(this, &#x27;New deploy id: &#x27; + obj.id);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;afdd725d-dd77-4383-a51d-ba39c81012a0&quot;,&quot;parentUUID&quot;:&quot;fa65bf9b-31c4-4843-bcb6-d580994e2624&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;afdd725d-dd77-4383-a51d-ba39c81012a0&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:834,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;b6f858c5-cbfb-4083-8890-9279c1340830&quot;,&quot;title&quot;:&quot;Pipeline Run&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /pipelineruns&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-push-set-deployment-image-v-1 test case Pipeline Run GET /pipelineruns&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5539,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const id = common.searchOfEnv(&#x27;app&#x27;, &#x27;run&#x27;, &#x27;id&#x27;);\nlet count = 1;\nconst file = path.join(path.resolve(), &#x27;/resource/pipeline.json&#x27;);\nfor (let index = 0; index &lt; count; index++) {\n    await app.pipelineRun(&#x27;/&#x27; + id)\n        .then((res) =&gt; {\n            if (res.statusCode !== 200)\n                logs.getApiResponse(res);\n            elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n            // Add delay time 5s\n            common.tryDelay(5000);\n            let status = res.body.tektonPipelineRun.object.status;\n            // get the pipeline start time\n            let flag = 1, startTime = &#x27;&#x27;;\n            if (flag) {\n                startTime = status.startTime instanceof Date ? status.startTime : new Date(status.startTime);\n                flag = 0;\n            }\n            // Set running pipeline status response in json file\n            common.writeJsonFlie(file, status);\n            // get pipeline response in json file through\n            const pipelineResponse = common.readJsonFile(file);\n            const cTime = pipelineResponse.completionTime;\n            // set value param in completion time\n            const value = cTime ? cTime : null;\n            if (value) {\n                const completionTime = cTime instanceof Date ? cTime : new Date(cTime);\n                seconds = Math.abs(completionTime - startTime) / 1000;\n                console.log(&#x27;StartTime: &#x27;, startTime);\n                console.log(&#x27;CompletionTime: &#x27;, cTime);\n                console.log(&#x27;Pipeline completion time in second: &#x27;, seconds + &#x27;s&#x27;);\n                console.log(&#x27;Pipeline status: &#x27;, pipelineResponse.conditions[0].reason);\n            } else {\n                count += 1;\n                console.log(&#x27;Pipeline still running.......&#x27;);\n            }\n        });\n}&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;TypeError: Cannot read property &#x27;startTime&#x27; of undefined&quot;,&quot;estack&quot;:&quot;TypeError: Cannot read property &#x27;startTime&#x27; of undefined\n    at /home/dell/Music/ozone-api-automation/test/pipelines/push-set-deployment-image.test.js:267:48\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)\n    at async Context.&lt;anonymous&gt; (test/pipelines/push-set-deployment-image.test.js:253:17)&quot;},&quot;uuid&quot;:&quot;0b5c44d5-48b2-4f27-87a0-54db6412e59f&quot;,&quot;parentUUID&quot;:&quot;b6f858c5-cbfb-4083-8890-9279c1340830&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[&quot;0b5c44d5-48b2-4f27-87a0-54db6412e59f&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:5539,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;7512d134-360a-4313-9fcc-414e95ae6dd0&quot;,&quot;title&quot;:&quot;ozone-git-pull-docker-image-build-and-push-pipeline-v-1 test case&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;2e3bd861-2a07-4a21-b79e-95e04f0fcc2d&quot;,&quot;title&quot;:&quot;Pipeline Environment&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Pipeline Environment\&quot;&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-push-pipeline-v-1 test case Pipeline Environment \&quot;after all\&quot; hook in \&quot;Pipeline Environment\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:510,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const env_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;env_id&#x27;);\napp.appEnv(&#x27;?id=&#x27; + env_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toArray(res.body, &#x27;Pipeline env response type should be array.&#x27;);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === env_id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline env single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline env id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline env name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, env_id);\n                console.log(&#x27;Pipeline env id and name: &#x27;, [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            elementHandler.toBeTrueMsg(flag, &#x27;Environment not found..&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b247b017-104c-4433-b2b2-6444f01abd38&quot;,&quot;parentUUID&quot;:&quot;2e3bd861-2a07-4a21-b79e-95e04f0fcc2d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /env&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-push-pipeline-v-1 test case Pipeline Environment GET /env&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:534,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;Pipeline env id and name: 6149c0b617de71c6ac6a634f,UAT\&quot;&quot;,&quot;code&quot;:&quot;const app_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;id&#x27;);\nconst env_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;env_id&#x27;);\napp.appEnv(query.queryParam + &#x27;&amp;application_id=&#x27; + app_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toArray(res.body, &#x27;Pipeline env response type should be array.&#x27;);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === env_id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline env single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline env id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline env name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, env_id);\n                addContext(this, &#x27;Pipeline env id and name: &#x27; + [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            addContext(this, &#x27;Environment name not found.&#x27;);\n            elementHandler.toBeTrueMsg(flag, &#x27;Environment name not found.&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;785c974d-d9cc-40b0-8de8-19f920f422fe&quot;,&quot;parentUUID&quot;:&quot;2e3bd861-2a07-4a21-b79e-95e04f0fcc2d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;785c974d-d9cc-40b0-8de8-19f920f422fe&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:534,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;4f5e3d22-fd03-4c4a-9d05-35ccf9662aa8&quot;,&quot;title&quot;:&quot;Pipeline Cluster&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Pipeline Cluster\&quot;&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-push-pipeline-v-1 test case Pipeline Cluster \&quot;after all\&quot; hook in \&quot;Pipeline Cluster\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:519,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const id = common.searchOfEnv(&#x27;app&#x27;, &#x27;cluster&#x27;, &#x27;id&#x27;);\napp.cluster(&#x27;?id=&#x27; + id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline cluster single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline cluster id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline cluster name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, id);\n                console.log(&#x27;Pipeline cluster id and name: &#x27;, [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            elementHandler.toBeTrueMsg(flag, &#x27;Cluster name not found.&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;23ccc2be-6dbf-40fe-b2aa-0b8b78f173b3&quot;,&quot;parentUUID&quot;:&quot;4f5e3d22-fd03-4c4a-9d05-35ccf9662aa8&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /cluster&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-push-pipeline-v-1 test case Pipeline Cluster GET /cluster&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:734,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;Pipeline cluster id and name: 617a6874df85a15f0a45a187,pks-attach2\&quot;&quot;,&quot;code&quot;:&quot;const env_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;env_id&#x27;);\napp.cluster(query.queryParam + &#x27;&amp;env_id=&#x27; + env_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.name === constants.CLUSTER_NAME) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline cluster single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline cluster id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline cluster name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.name, constants.CLUSTER_NAME);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;cluster&#x27;, &#x27;id&#x27;, obj.id);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;cluster&#x27;, &#x27;name&#x27;, obj.name);\n                addContext(this, &#x27;Pipeline cluster id and name: &#x27; + [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            addContext(this, &#x27;Cluster name not found.&#x27; + [constants.CLUSTER_NAME]);\n            elementHandler.toBeTrueMsg(flag, &#x27;Cluster name not found: &#x27; + constants.CLUSTER_NAME);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;db40ef3c-8629-42e5-a461-8e855dabb1a1&quot;,&quot;parentUUID&quot;:&quot;4f5e3d22-fd03-4c4a-9d05-35ccf9662aa8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;db40ef3c-8629-42e5-a461-8e855dabb1a1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:734,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;97d4a50d-40bd-4ed9-b0a0-b77badb4630c&quot;,&quot;title&quot;:&quot;Pipeline Branch&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Pipeline Branch\&quot;&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-push-pipeline-v-1 test case Pipeline Branch \&quot;after all\&quot; hook in \&quot;Pipeline Branch\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:918,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const id = common.searchOfEnv(&#x27;app&#x27;, &#x27;branch&#x27;, &#x27;id&#x27;);\napp.branchs(&#x27;?id=&#x27; + id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline branch single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline branch id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline branch name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, id);\n                console.log(&#x27;Pipeline branch id and name: &#x27;, [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            elementHandler.toBeTrueMsg(flag, &#x27;Branch name not found.&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4b91d1e0-4c9f-4377-9131-45111d7a00f4&quot;,&quot;parentUUID&quot;:&quot;97d4a50d-40bd-4ed9-b0a0-b77badb4630c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /repository/branches&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-push-pipeline-v-1 test case Pipeline Branch GET /repository/branches&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:961,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;Pipeline branch id and name: 6114f9889ee862c2e1cea31b:::master,master\&quot;&quot;,&quot;code&quot;:&quot;const repo_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;repository_id&#x27;);\napp.branchs(query.queryParam + &#x27;&amp;repository_id=&#x27; + repo_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.name === constants.MASTER) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline branch single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline branch id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline branch name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.name, constants.MASTER);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;branch&#x27;, &#x27;id&#x27;, obj.id);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;branch&#x27;, &#x27;name&#x27;, obj.name);\n                addContext(this, &#x27;Pipeline branch id and name: &#x27; + [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            addContext(this, &#x27;Branch name not found: &#x27; + [constants.GITHUB_BRANCH_NAME]);\n            elementHandler.toBeTrueMsg(flag, &#x27;Branch name not found: &#x27; + constants.GITHUB_BRANCH_NAME);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2f0cca02-7d93-40d1-95e8-808ad32c5516&quot;,&quot;parentUUID&quot;:&quot;97d4a50d-40bd-4ed9-b0a0-b77badb4630c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;2f0cca02-7d93-40d1-95e8-808ad32c5516&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:961,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;8948b6af-456c-4c27-8017-f580912ce572&quot;,&quot;title&quot;:&quot;Create Pipeline&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;POST /newdeploy&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-push-pipeline-v-1 test case Create Pipeline POST /newdeploy&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:513,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;New deploy id: 617a861d2277e90efcc37088\&quot;&quot;,&quot;code&quot;:&quot;const app_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;id&#x27;);\nconst pipe_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;pipelines&#x27;, &#x27;0&#x27;);\napp.newdeploy(param.pushPipeline())\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.postApiResponse(res);\n        let obj = res.body;\n        elementHandler.responseExpect(obj, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toObject(obj, &#x27;Pipeline response type should be object.&#x27;);\n        if (obj.applicationID === app_id) {\n            elementHandler.toBeEqual(obj.pipelineID, pipe_id);\n            elementHandler.toString(obj.id, &#x27;Pipeline id type should be string.&#x27;);\n            common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;run&#x27;, &#x27;id&#x27;, obj.id);\n            console.log(&#x27;New deploy id: &#x27;, [obj.id]);\n            addContext(this, &#x27;New deploy id: &#x27; + obj.id);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4fce2b28-5c0a-4696-8433-2a09cf27e797&quot;,&quot;parentUUID&quot;:&quot;8948b6af-456c-4c27-8017-f580912ce572&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4fce2b28-5c0a-4696-8433-2a09cf27e797&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:513,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;1ec3f0b2-610a-4728-b8da-897e4a709bd0&quot;,&quot;title&quot;:&quot;Pipeline Run&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /pipelineruns&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-push-pipeline-v-1 test case Pipeline Run GET /pipelineruns&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:46188,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const id = common.searchOfEnv(&#x27;app&#x27;, &#x27;run&#x27;, &#x27;id&#x27;);\nlet count = 1;\nconst file = path.join(path.resolve(), &#x27;/resource/pipeline.json&#x27;);\nfor (let index = 0; index &lt; count; index++) {\n    await app.pipelineRun(&#x27;/&#x27; + id)\n        .then((res) =&gt; {\n            if (res.statusCode !== 200)\n                logs.getApiResponse(res);\n            elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n            // Add delay time 5s\n            common.tryDelay(5000);\n            let status = res.body.tektonPipelineRun.object.status;\n            // get the pipeline start time\n            let flag = 1, startTime = &#x27;&#x27;;\n            if (flag) {\n                startTime = status.startTime instanceof Date ? status.startTime : new Date(status.startTime);\n                flag = 0;\n            }\n            // Set running pipeline status response in json file\n            common.writeJsonFlie(file, status);\n            // get pipeline response in json file through\n            const pipelineResponse = common.readJsonFile(file);\n            const cTime = pipelineResponse.completionTime;\n            // set value param in completion time\n            const value = cTime ? cTime : null;\n            if (value) {\n                const completionTime = cTime instanceof Date ? cTime : new Date(cTime);\n                seconds = Math.abs(completionTime - startTime) / 1000;\n                console.log(&#x27;StartTime: &#x27;, startTime);\n                console.log(&#x27;CompletionTime: &#x27;, cTime);\n                console.log(&#x27;Pipeline completion time in second: &#x27;, seconds + &#x27;s&#x27;);\n                console.log(&#x27;Pipeline status: &#x27;, pipelineResponse.conditions[0].reason);\n            } else {\n                count += 1;\n                console.log(&#x27;Pipeline still running.......&#x27;);\n            }\n        });\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;522631da-aed0-443e-8898-fc41a7134d7b&quot;,&quot;parentUUID&quot;:&quot;1ec3f0b2-610a-4728-b8da-897e4a709bd0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;522631da-aed0-443e-8898-fc41a7134d7b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:46188,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;6b2c93ac-9164-42cf-9398-45b4b7e7255e&quot;,&quot;title&quot;:&quot;ozone-templates-deploy-pipeline-v-1 test case&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;a5926b7d-af55-497d-85ed-0c3b6548c243&quot;,&quot;title&quot;:&quot;Pipeline Environment&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Pipeline Environment\&quot;&quot;,&quot;fullTitle&quot;:&quot;ozone-templates-deploy-pipeline-v-1 test case Pipeline Environment \&quot;after all\&quot; hook in \&quot;Pipeline Environment\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:378,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const env_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;env_id&#x27;);\napp.appEnv(&#x27;?id=&#x27; + env_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toArray(res.body, &#x27;Pipeline env response type should be array.&#x27;);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === env_id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline env single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline env id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline env name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, env_id);\n                console.log(&#x27;Pipeline env id and name: &#x27;, [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            elementHandler.toBeTrueMsg(flag, &#x27;Environment not found..&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b3b62595-db55-4c86-abf3-444f39b399f9&quot;,&quot;parentUUID&quot;:&quot;a5926b7d-af55-497d-85ed-0c3b6548c243&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /env&quot;,&quot;fullTitle&quot;:&quot;ozone-templates-deploy-pipeline-v-1 test case Pipeline Environment GET /env&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:405,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;Pipeline env id and name: 6149c0b617de71c6ac6a634f,UAT\&quot;&quot;,&quot;code&quot;:&quot;const app_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;id&#x27;);\nconst env_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;env_id&#x27;);\napp.appEnv(query.queryParam + &#x27;&amp;application_id=&#x27; + app_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toArray(res.body, &#x27;Pipeline env response type should be array.&#x27;);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === env_id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline env single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline env id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline env name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, env_id);\n                addContext(this, &#x27;Pipeline env id and name: &#x27; + [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            addContext(this, &#x27;Environment name not found.&#x27;);\n            elementHandler.toBeTrueMsg(flag, &#x27;Environment name not found.&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b3b34f4d-2a53-46b3-bc7f-47cb64029366&quot;,&quot;parentUUID&quot;:&quot;a5926b7d-af55-497d-85ed-0c3b6548c243&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b3b34f4d-2a53-46b3-bc7f-47cb64029366&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:405,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;e84160ce-aef0-4e18-a0ed-b8d3291fbc3b&quot;,&quot;title&quot;:&quot;Pipeline Cluster&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Pipeline Cluster\&quot;&quot;,&quot;fullTitle&quot;:&quot;ozone-templates-deploy-pipeline-v-1 test case Pipeline Cluster \&quot;after all\&quot; hook in \&quot;Pipeline Cluster\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:470,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const id = common.searchOfEnv(&#x27;app&#x27;, &#x27;cluster&#x27;, &#x27;id&#x27;);\napp.cluster(&#x27;?id=&#x27; + id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline cluster single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline cluster id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline cluster name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, id);\n                console.log(&#x27;Pipeline cluster id and name: &#x27;, [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            elementHandler.toBeTrueMsg(flag, &#x27;Cluster name not found.&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ef9f695a-5bd8-4a27-af17-a33ee4ff28e5&quot;,&quot;parentUUID&quot;:&quot;e84160ce-aef0-4e18-a0ed-b8d3291fbc3b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /cluster&quot;,&quot;fullTitle&quot;:&quot;ozone-templates-deploy-pipeline-v-1 test case Pipeline Cluster GET /cluster&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:374,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;Pipeline cluster id and name: 617a6874df85a15f0a45a187,pks-attach2\&quot;&quot;,&quot;code&quot;:&quot;const env_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;env_id&#x27;);\napp.cluster(query.queryParam + &#x27;&amp;env_id=&#x27; + env_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.name === constants.CLUSTER_NAME) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline cluster single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline cluster id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline cluster name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.name, constants.CLUSTER_NAME);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;cluster&#x27;, &#x27;id&#x27;, obj.id);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;cluster&#x27;, &#x27;name&#x27;, obj.name);\n                addContext(this, &#x27;Pipeline cluster id and name: &#x27; + [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            addContext(this, &#x27;Cluster name not found.&#x27; + [constants.CLUSTER_NAME]);\n            elementHandler.toBeTrueMsg(flag, &#x27;Cluster name not found: &#x27; + constants.CLUSTER_NAME);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cfc7f31c-ea68-4285-b977-e95d401ad93c&quot;,&quot;parentUUID&quot;:&quot;e84160ce-aef0-4e18-a0ed-b8d3291fbc3b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;cfc7f31c-ea68-4285-b977-e95d401ad93c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:374,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;c5b415d4-d799-4b70-a0e6-5492b7e18020&quot;,&quot;title&quot;:&quot;Pipeline Tamplate&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Pipeline Tamplate\&quot;&quot;,&quot;fullTitle&quot;:&quot;ozone-templates-deploy-pipeline-v-1 test case Pipeline Tamplate \&quot;after all\&quot; hook in \&quot;Pipeline Tamplate\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:482,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const id = common.searchOfEnv(&#x27;app&#x27;, &#x27;template&#x27;, &#x27;id&#x27;);\napp.appTemplate(&#x27;?id=&#x27; + id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toArray(res.body, &#x27;Pipeline templates response type should be array.&#x27;);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline env single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline env id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline env name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.name, constants.NAMESPACE_NAME);\n                console.log(&#x27;Pipeline template id and name: &#x27;, [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            elementHandler.toBeTrueMsg(flag, &#x27;Templates name not found: &#x27; + constants.NAMESPACE_NAME);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ee48d359-8cee-4b98-a87e-e9ab877b514e&quot;,&quot;parentUUID&quot;:&quot;c5b415d4-d799-4b70-a0e6-5492b7e18020&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /app/templates&quot;,&quot;fullTitle&quot;:&quot;ozone-templates-deploy-pipeline-v-1 test case Pipeline Tamplate GET /app/templates&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:505,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;Pipeline template id and name: 617a8088316caf656c61bc20,default\&quot;&quot;,&quot;code&quot;:&quot;const app_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;id&#x27;);\napp.appTemplate(query.queryParam + &#x27;&amp;application_id=&#x27; + app_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toArray(res.body, &#x27;Pipeline templates response type should be array.&#x27;);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.name === constants.NAMESPACE_NAME) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline env single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline env id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline env name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.name, constants.NAMESPACE_NAME);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;template&#x27;, &#x27;id&#x27;, obj.id);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;template&#x27;, &#x27;name&#x27;, obj.name);\n                addContext(this, &#x27;Pipeline template id and name: &#x27; + [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            addContext(this, &#x27;Template name not found: &#x27; + [constants.NAMESPACE_NAME]);\n            elementHandler.toBeTrueMsg(flag, &#x27;Template name not found: &#x27; + constants.NAMESPACE_NAME);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f7162c48-5d4b-4dd1-a4f7-d4f3f17c3da9&quot;,&quot;parentUUID&quot;:&quot;c5b415d4-d799-4b70-a0e6-5492b7e18020&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f7162c48-5d4b-4dd1-a4f7-d4f3f17c3da9&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:505,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;7ce3de24-e103-4f87-ae0a-761ecbb19df6&quot;,&quot;title&quot;:&quot;Create Pipeline&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;POST /newdeploy&quot;,&quot;fullTitle&quot;:&quot;ozone-templates-deploy-pipeline-v-1 test case Create Pipeline POST /newdeploy&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:518,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;New deploy id: 617a865a2277e90efcc3708b\&quot;&quot;,&quot;code&quot;:&quot;const app_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;id&#x27;);\nconst pipe_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;pipelines&#x27;, &#x27;4&#x27;);\napp.newdeploy(param.templatesDeployPipeline())\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.postApiResponse(res);\n        let obj = res.body;\n        elementHandler.responseExpect(obj, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toObject(obj, &#x27;Pipeline response type should be object.&#x27;);\n        if (obj.applicationID === app_id) {\n            elementHandler.toBeEqual(obj.pipelineID, pipe_id);\n            elementHandler.toString(obj.id, &#x27;Pipeline id type should be string.&#x27;);\n            common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;run&#x27;, &#x27;id&#x27;, obj.id);\n            console.log(&#x27;New deploy id: &#x27;, [obj.id]);\n            addContext(this, &#x27;New deploy id: &#x27; + obj.id);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7897d785-741c-413f-a470-5a1185e00fee&quot;,&quot;parentUUID&quot;:&quot;7ce3de24-e103-4f87-ae0a-761ecbb19df6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7897d785-741c-413f-a470-5a1185e00fee&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:518,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;fdbd086f-0674-4d1c-b325-1a17b07a59ad&quot;,&quot;title&quot;:&quot;Pipeline Run&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /pipelineruns&quot;,&quot;fullTitle&quot;:&quot;ozone-templates-deploy-pipeline-v-1 test case Pipeline Run GET /pipelineruns&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:27659,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const id = common.searchOfEnv(&#x27;app&#x27;, &#x27;run&#x27;, &#x27;id&#x27;);\nlet count = 1;\nconst file = path.join(path.resolve(), &#x27;/resource/pipeline.json&#x27;);\nfor (let index = 0; index &lt; count; index++) {\n    await app.pipelineRun(&#x27;/&#x27; + id)\n        .then((res) =&gt; {\n            if (res.statusCode !== 200)\n                logs.getApiResponse(res);\n            elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n            // Add delay time 5s\n            common.tryDelay(5000);\n            let status = res.body.tektonPipelineRun.object.status;\n            // get the pipeline start time\n            let flag = 1, startTime = &#x27;&#x27;;\n            if (flag) {\n                startTime = status.startTime instanceof Date ? status.startTime : new Date(status.startTime);\n                flag = 0;\n            }\n            // Set running pipeline status response in json file\n            common.writeJsonFlie(file, status);\n            // get pipeline response in json file through\n            const pipelineResponse = common.readJsonFile(file);\n            const cTime = pipelineResponse.completionTime;\n            // set value param in completion time\n            const value = cTime ? cTime : null;\n            if (value) {\n                const completionTime = cTime instanceof Date ? cTime : new Date(cTime);\n                seconds = Math.abs(completionTime - startTime) / 1000;\n                console.log(&#x27;StartTime: &#x27;, startTime);\n                console.log(&#x27;CompletionTime: &#x27;, cTime);\n                console.log(&#x27;Pipeline completion time in second: &#x27;, seconds + &#x27;s&#x27;);\n                console.log(&#x27;Pipeline status: &#x27;, pipelineResponse.conditions[0].reason);\n            } else {\n                count += 1;\n                console.log(&#x27;Pipeline still running.......&#x27;);\n            }\n        });\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;14fde830-5344-4ffd-8502-a304300bd275&quot;,&quot;parentUUID&quot;:&quot;fdbd086f-0674-4d1c-b325-1a17b07a59ad&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;14fde830-5344-4ffd-8502-a304300bd275&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:27659,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;ce571f18-d4f9-4f41-a064-9fda5cf01924&quot;,&quot;title&quot;:&quot;ozone-set-deployment-image-v-1 test case&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;3cb8744c-b852-4ee4-9ea0-db23a3eaba56&quot;,&quot;title&quot;:&quot;Pipeline Environment&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Pipeline Environment\&quot;&quot;,&quot;fullTitle&quot;:&quot;ozone-set-deployment-image-v-1 test case Pipeline Environment \&quot;after all\&quot; hook in \&quot;Pipeline Environment\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:231,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const env_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;env_id&#x27;);\napp.appEnv(&#x27;?id=&#x27; + env_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toArray(res.body, &#x27;Pipeline env response type should be array.&#x27;);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === env_id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline env single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline env id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline env name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, env_id);\n                console.log(&#x27;Pipeline env id and name: &#x27;, [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            elementHandler.toBeTrueMsg(flag, &#x27;Environment not found..&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5fb06c4c-9f14-4231-9cb7-1c1d4a051262&quot;,&quot;parentUUID&quot;:&quot;3cb8744c-b852-4ee4-9ea0-db23a3eaba56&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /env&quot;,&quot;fullTitle&quot;:&quot;ozone-set-deployment-image-v-1 test case Pipeline Environment GET /env&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:561,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;Pipeline env id and name: 6149c0b617de71c6ac6a634f,UAT\&quot;&quot;,&quot;code&quot;:&quot;const app_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;id&#x27;);\nconst env_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;env_id&#x27;);\napp.appEnv(query.queryParam + &#x27;&amp;application_id=&#x27; + app_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toArray(res.body, &#x27;Pipeline env response type should be array.&#x27;);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === env_id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline env single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline env id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline env name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, env_id);\n                addContext(this, &#x27;Pipeline env id and name: &#x27; + [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            addContext(this, &#x27;Environment name not found.&#x27;);\n            elementHandler.toBeTrueMsg(flag, &#x27;Environment name not found.&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6f1f5ab8-1ff3-4b06-acfe-1012e839f284&quot;,&quot;parentUUID&quot;:&quot;3cb8744c-b852-4ee4-9ea0-db23a3eaba56&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6f1f5ab8-1ff3-4b06-acfe-1012e839f284&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:561,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;2788dcdd-a77f-4010-8923-8599687ea42c&quot;,&quot;title&quot;:&quot;Pipeline Cluster&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Pipeline Cluster\&quot;&quot;,&quot;fullTitle&quot;:&quot;ozone-set-deployment-image-v-1 test case Pipeline Cluster \&quot;after all\&quot; hook in \&quot;Pipeline Cluster\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:592,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const id = common.searchOfEnv(&#x27;app&#x27;, &#x27;cluster&#x27;, &#x27;id&#x27;);\napp.cluster(&#x27;?id=&#x27; + id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline cluster single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline cluster id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline cluster name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, id);\n                console.log(&#x27;Pipeline cluster id and name: &#x27;, [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            elementHandler.toBeTrueMsg(flag, &#x27;Cluster name not found.&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6ed2c190-9e66-404b-b161-f3b7fc0f9397&quot;,&quot;parentUUID&quot;:&quot;2788dcdd-a77f-4010-8923-8599687ea42c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /cluster&quot;,&quot;fullTitle&quot;:&quot;ozone-set-deployment-image-v-1 test case Pipeline Cluster GET /cluster&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:820,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;Pipeline cluster id and name: 617a6874df85a15f0a45a187,pks-attach2\&quot;&quot;,&quot;code&quot;:&quot;const env_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;env_id&#x27;);\napp.cluster(query.queryParam + &#x27;&amp;env_id=&#x27; + env_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.name === constants.CLUSTER_NAME) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline cluster single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline cluster id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline cluster name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.name, constants.CLUSTER_NAME);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;cluster&#x27;, &#x27;id&#x27;, obj.id);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;cluster&#x27;, &#x27;name&#x27;, obj.name);\n                addContext(this, &#x27;Pipeline cluster id and name: &#x27; + [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            addContext(this, &#x27;Cluster name not found.&#x27; + [constants.CLUSTER_NAME]);\n            elementHandler.toBeTrueMsg(flag, &#x27;Cluster name not found: &#x27; + constants.CLUSTER_NAME);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;af5c48c7-4377-49bf-a0ee-04cfa196fca7&quot;,&quot;parentUUID&quot;:&quot;2788dcdd-a77f-4010-8923-8599687ea42c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;af5c48c7-4377-49bf-a0ee-04cfa196fca7&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:820,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;cad6fee8-d0c1-459c-9527-8ab856ea5512&quot;,&quot;title&quot;:&quot;Create Pipeline&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;POST /newdeploy&quot;,&quot;fullTitle&quot;:&quot;ozone-set-deployment-image-v-1 test case Create Pipeline POST /newdeploy&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:451,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;New deploy id: 617a86822277e90efcc3708e\&quot;&quot;,&quot;code&quot;:&quot;const app_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;id&#x27;);\nconst pipe_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;pipelines&#x27;, &#x27;3&#x27;);\napp.newdeploy(param.setDeploymentImg())\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.postApiResponse(res);\n        let obj = res.body;\n        elementHandler.responseExpect(obj, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toObject(obj, &#x27;Pipeline response type should be object.&#x27;);\n        if (obj.applicationID === app_id) {\n            elementHandler.toBeEqual(obj.pipelineID, pipe_id);\n            elementHandler.toString(obj.id, &#x27;Pipeline id type should be string.&#x27;);\n            common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;run&#x27;, &#x27;id&#x27;, obj.id);\n            console.log(&#x27;New deploy id: &#x27;, [obj.id]);\n            addContext(this, &#x27;New deploy id: &#x27; + obj.id);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;40952533-21d8-4c52-a377-d51dcdef496a&quot;,&quot;parentUUID&quot;:&quot;cad6fee8-d0c1-459c-9527-8ab856ea5512&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;40952533-21d8-4c52-a377-d51dcdef496a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:451,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;53d21241-0ea8-493d-9200-a73a47d25548&quot;,&quot;title&quot;:&quot;Pipeline Run&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /pipelineruns&quot;,&quot;fullTitle&quot;:&quot;ozone-set-deployment-image-v-1 test case Pipeline Run GET /pipelineruns&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16671,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const id = common.searchOfEnv(&#x27;app&#x27;, &#x27;run&#x27;, &#x27;id&#x27;);\nlet count = 1;\nconst file = path.join(path.resolve(), &#x27;/resource/pipeline.json&#x27;);\nfor (let index = 0; index &lt; count; index++) {\n    await app.pipelineRun(&#x27;/&#x27; + id)\n        .then((res) =&gt; {\n            if (res.statusCode !== 200)\n                logs.getApiResponse(res);\n            elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n            // Add delay time 5s\n            common.tryDelay(5000);\n            let status = res.body.tektonPipelineRun.object.status;\n            // get the pipeline start time\n            let flag = 1, startTime = &#x27;&#x27;;\n            if (flag) {\n                startTime = status.startTime instanceof Date ? status.startTime : new Date(status.startTime);\n                flag = 0;\n            }\n            // Set running pipeline status response in json file\n            common.writeJsonFlie(file, status);\n            // get pipeline response in json file through\n            const pipelineResponse = common.readJsonFile(file);\n            const cTime = pipelineResponse.completionTime;\n            // set value param in completion time\n            const value = cTime ? cTime : null;\n            if (value) {\n                const completionTime = cTime instanceof Date ? cTime : new Date(cTime);\n                seconds = Math.abs(completionTime - startTime) / 1000;\n                console.log(&#x27;StartTime: &#x27;, startTime);\n                console.log(&#x27;CompletionTime: &#x27;, cTime);\n                console.log(&#x27;Pipeline completion time in second: &#x27;, seconds + &#x27;s&#x27;);\n                console.log(&#x27;Pipeline status: &#x27;, pipelineResponse.conditions[0].reason);\n            } else {\n                count += 1;\n                console.log(&#x27;Pipeline still running.......&#x27;);\n            }\n        });\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;33b72726-a783-44bb-8c0c-50645f750f93&quot;,&quot;parentUUID&quot;:&quot;53d21241-0ea8-493d-9200-a73a47d25548&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;33b72726-a783-44bb-8c0c-50645f750f93&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:16671,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:100000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;8.3.2&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:false,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;6.2.2&quot;},&quot;marge&quot;:{&quot;options&quot;:{&quot;overwrite&quot;:&quot;true&quot;,&quot;showPassed&quot;:&quot;true&quot;,&quot;html&quot;:&quot;true&quot;,&quot;json&quot;:&quot;false&quot;,&quot;timestamp&quot;:&quot;1635419555265&quot;,&quot;autoOpen&quot;:&quot;false&quot;,&quot;howHooks&quot;:&quot;true&quot;,&quot;charts&quot;:&quot;true&quot;,&quot;cdn&quot;:&quot;true&quot;,&quot;inline&quot;:&quot;true&quot;,&quot;colors&quot;:&quot;true&quot;},&quot;version&quot;:&quot;5.2.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;mochawesome-report&quot;,&quot;reportTitle&quot;:&quot;ozone-api-automation&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:true,&quot;inlineAssets&quot;:true,&quot;cdn&quot;:true,&quot;charts&quot;:true,&quot;enableCharts&quot;:true,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:&quot;1635419555265&quot;,&quot;ts&quot;:&quot;1635419555265&quot;,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:false,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;mochawesome-report/assets&quot;,&quot;htmlFile&quot;:&quot;/home/dell/Music/ozone-api-automation/mochawesome-report/mochawesome_1635419555265.html&quot;}"><div id="report"></div><script src="https://unpkg.com/mochawesome-report-generator@5.2.0/dist/app.js"></script></body></html>