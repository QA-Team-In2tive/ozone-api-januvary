<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="https://unpkg.com/mochawesome-report-generator@5.2.0/dist/app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:31,&quot;tests&quot;:28,&quot;passes&quot;:28,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;start&quot;:&quot;2021-10-28T11:59:10.453Z&quot;,&quot;end&quot;:&quot;2021-10-28T12:04:40.592Z&quot;,&quot;duration&quot;:330139,&quot;testsRegistered&quot;:28,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;ef060532-4846-426e-92ef-7499e6e98c02&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;fullTitle&quot;:&quot;\&quot;before each\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:599,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = common.searchOfEnv(&#x27;login&#x27;, &#x27;login&#x27;, &#x27;token&#x27;);\nlogin.check()\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toBeEqual(res.body.email_verified, constants.email_verified);\n        elementHandler.schemaValidate(res.body, checkSuccess);\n        elementHandler.toBeEqual(res.body.token, token);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2e209e87-fdb0-4367-81e1-f70c02fdef95&quot;,&quot;parentUUID&quot;:&quot;ef060532-4846-426e-92ef-7499e6e98c02&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;fullTitle&quot;:&quot;\&quot;before each\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:641,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = common.searchOfEnv(&#x27;login&#x27;, &#x27;login&#x27;, &#x27;token&#x27;);\nlogin.check()\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toBeEqual(res.body.email_verified, constants.email_verified);\n        elementHandler.schemaValidate(res.body, checkSuccess);\n        elementHandler.toBeEqual(res.body.token, token);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0dc364e1-ee94-4606-9c59-fca5dee6ca24&quot;,&quot;parentUUID&quot;:&quot;ef060532-4846-426e-92ef-7499e6e98c02&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;fullTitle&quot;:&quot;\&quot;before each\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:769,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = common.searchOfEnv(&#x27;login&#x27;, &#x27;login&#x27;, &#x27;token&#x27;);\nlogin.check()\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toBeEqual(res.body.email_verified, constants.email_verified);\n        elementHandler.schemaValidate(res.body, checkSuccess);\n        elementHandler.toBeEqual(res.body.token, token);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4eebcee5-7e46-488f-ae60-47bef48d5b4e&quot;,&quot;parentUUID&quot;:&quot;ef060532-4846-426e-92ef-7499e6e98c02&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;fullTitle&quot;:&quot;\&quot;before each\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:588,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = common.searchOfEnv(&#x27;login&#x27;, &#x27;login&#x27;, &#x27;token&#x27;);\nlogin.check()\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toBeEqual(res.body.message, constants.CHECK);\n        elementHandler.schemaValidate(res.body, checkSuccess);\n        elementHandler.toBeEqual(res.body.token, token);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;726fffac-f69f-4681-a33b-e6568ac1f35f&quot;,&quot;parentUUID&quot;:&quot;ef060532-4846-426e-92ef-7499e6e98c02&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;fullTitle&quot;:&quot;\&quot;before each\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:772,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = common.searchOfEnv(&#x27;login&#x27;, &#x27;login&#x27;, &#x27;token&#x27;);\nlogin.check()\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toBeEqual(res.body.email_verified, constants.email_verified);\n        elementHandler.schemaValidate(res.body, checkSuccess);\n        elementHandler.toBeEqual(res.body.token, token);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;57ff61dc-06ac-4bf0-b541-3a2b50538323&quot;,&quot;parentUUID&quot;:&quot;ef060532-4846-426e-92ef-7499e6e98c02&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;241d121e-8f45-4acb-91f2-7f0e897e032e&quot;,&quot;title&quot;:&quot;Login test case&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /accounts/oauth&quot;,&quot;fullTitle&quot;:&quot;Login test case GET /accounts/oauth&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:600,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;Account id and name: 0,Username/Password\&quot;&quot;,&quot;code&quot;:&quot;login.accountName(&#x27;?id=&#x27; + process.env.account_name)\n    .end((err, res) =&gt; {\n        if (err) {\n            console.log(err);\n            addContext(this, &#x27;Error: &#x27; + err);\n        }\n        if (res.statusCode !== 200) {\n            logs.postApiResponse(res);\n            addContext(this, &#x27;Login error: &#x27; + logs.postApiResponse(res));\n        }\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.schemaValidate(res.body, accountSuccess);\n        for (const obj of res.body) {\n            if (obj.id == constants.ACCOUNT_ID) {\n                common.readOrWriteJsonFile(&#x27;login&#x27;, &#x27;account_name&#x27;, &#x27;id&#x27;, obj.id);\n                common.readOrWriteJsonFile(&#x27;login&#x27;, &#x27;account_name&#x27;, &#x27;name&#x27;, obj.provider_name);\n                common.readOrWriteJsonFile(&#x27;login&#x27;, &#x27;account_name&#x27;, &#x27;url&#x27;, obj.login_url);\n                console.log(&#x27;Account id and name: &#x27;, [obj.id, obj.provider_name]);\n                addContext(this, &#x27;Account id and name: &#x27; + [obj.id, obj.provider_name]);\n            }\n        }\n        done();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2add3ac0-f548-4fb9-9ea5-543665c3bc7c&quot;,&quot;parentUUID&quot;:&quot;241d121e-8f45-4acb-91f2-7f0e897e032e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;POST /api/auth/login&quot;,&quot;fullTitle&quot;:&quot;Login test case POST /api/auth/login&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1627,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;Login details: https://staging.in2tive.xyz/api/auth/login,admin@ozone.one,aff65a9aa80b3b86fabc33f68b0adeed634ab68a7fddff3871f2c6ae73266a00,true\&quot;&quot;,&quot;code&quot;:&quot;login.login(api.login)\n    .end((err, res) =&gt; {\n        if (err)\n            console.log(err);\n        if (res.statusCode !== 200) {\n            logs.postApiResponse(res);\n            addContext(this, &#x27;Login response: &#x27; + [res.body.message, res.res.statusMessage,]);\n        }\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.schemaValidate(res.body, loginSuccess);\n        // set token value in the env variable \n        common.readOrWriteJsonFile(&#x27;login&#x27;, &#x27;login&#x27;, &#x27;token&#x27;, res.body.token);\n        console.log(&#x27;Login details: &#x27;, [res.request.url, res.body.username, res.body.token, res.body.email_verified]);\n        addContext(this, &#x27;Login details: &#x27; + [res.request.url, res.body.username, res.body.token, res.body.email_verified]);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;11246707-0ca8-4e8e-96f2-665335f27f02&quot;,&quot;parentUUID&quot;:&quot;241d121e-8f45-4acb-91f2-7f0e897e032e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;GET /defaultworkspace&quot;,&quot;fullTitle&quot;:&quot;Login test case GET /defaultworkspace&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:671,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;Project id and name: 10,barry\&quot;&quot;,&quot;code&quot;:&quot;login.workspace(query.queryParam)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200) {\n            logs.getApiResponse(res);\n            addContext(this, &#x27;Login response: &#x27; + [res.body.message, res.res.statusMessage,]);\n        }\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.schemaValidate(res.body, workspaceSuccess);\n        // set workspace id and name in the env variable \n        for (const obj of res.body) {\n            if (obj.name === constants.WORKSPACE) {\n                elementHandler.toBeEqual(obj.name, constants.WORKSPACE);\n                common.readOrWriteJsonFile(&#x27;login&#x27;, &#x27;workspace&#x27;, &#x27;id&#x27;, obj.id);\n                common.readOrWriteJsonFile(&#x27;login&#x27;, &#x27;workspace&#x27;, &#x27;name&#x27;, obj.name);\n                console.log(&#x27;Project id and name: &#x27;, [obj.id, obj.name]);\n                addContext(this, &#x27;Project id and name: &#x27; + [obj.id, obj.name]);\n                continue\n            }\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e1dc80b2-4b87-40bc-9ad4-9a3175bff295&quot;,&quot;parentUUID&quot;:&quot;241d121e-8f45-4acb-91f2-7f0e897e032e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;2add3ac0-f548-4fb9-9ea5-543665c3bc7c&quot;,&quot;11246707-0ca8-4e8e-96f2-665335f27f02&quot;,&quot;e1dc80b2-4b87-40bc-9ad4-9a3175bff295&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2898,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;a653212a-46ff-4d83-a560-fc534ca08bae&quot;,&quot;title&quot;:&quot;ozone-git-pull-docker-image-build-and-template-deploy-v-1 test case&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;ec96946b-f4d3-48b8-8b27-c013cf52bdac&quot;,&quot;title&quot;:&quot;Pipeline Environment&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Pipeline Environment\&quot;&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-template-deploy-v-1 test case Pipeline Environment \&quot;after all\&quot; hook in \&quot;Pipeline Environment\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:519,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const env_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;env_id&#x27;);\napp.appEnv(&#x27;?id=&#x27; + env_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toArray(res.body, &#x27;Pipeline env response type should be array.&#x27;);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === env_id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline env single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline env id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline env name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, env_id);\n                console.log(&#x27;Pipeline env id and name: &#x27;, [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            elementHandler.toBeTrueMsg(flag, &#x27;Environment not found..&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cece3359-7b7b-49c6-86b5-1ff98b9bf910&quot;,&quot;parentUUID&quot;:&quot;ec96946b-f4d3-48b8-8b27-c013cf52bdac&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /env&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-template-deploy-v-1 test case Pipeline Environment GET /env&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:667,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;Pipeline env id and name: 6149c0b617de71c6ac6a634f,UAT\&quot;&quot;,&quot;code&quot;:&quot;const app_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;id&#x27;);\nconst env_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;env_id&#x27;);\napp.appEnv(query.queryParam + &#x27;&amp;application_id=&#x27; + app_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toArray(res.body, &#x27;Pipeline env response type should be array.&#x27;);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === env_id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline env single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline env id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline env name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, env_id);\n                addContext(this, &#x27;Pipeline env id and name: &#x27; + [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            addContext(this, &#x27;Environment name not found.&#x27;);\n            elementHandler.toBeTrueMsg(flag, &#x27;Environment name not found.&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2efce93e-9beb-43e9-b56c-90d49a9b6459&quot;,&quot;parentUUID&quot;:&quot;ec96946b-f4d3-48b8-8b27-c013cf52bdac&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;2efce93e-9beb-43e9-b56c-90d49a9b6459&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:667,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;43ad3623-de09-462c-8fbf-186b915d3498&quot;,&quot;title&quot;:&quot;Pipeline Cluster&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Pipeline Cluster\&quot;&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-template-deploy-v-1 test case Pipeline Cluster \&quot;after all\&quot; hook in \&quot;Pipeline Cluster\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:928,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const id = common.searchOfEnv(&#x27;app&#x27;, &#x27;cluster&#x27;, &#x27;id&#x27;);\napp.cluster(&#x27;?id=&#x27; + id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline cluster single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline cluster id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline cluster name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, id);\n                console.log(&#x27;Pipeline cluster id and name: &#x27;, [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            elementHandler.toBeTrueMsg(flag, &#x27;Cluster name not found.&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cf517b2f-0f75-4f09-8541-5c4a67e2d537&quot;,&quot;parentUUID&quot;:&quot;43ad3623-de09-462c-8fbf-186b915d3498&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /cluster&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-template-deploy-v-1 test case Pipeline Cluster GET /cluster&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:859,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;Pipeline cluster id and name: 617a6874df85a15f0a45a187,pks-attach2\&quot;&quot;,&quot;code&quot;:&quot;const env_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;env_id&#x27;);\napp.cluster(query.queryParam + &#x27;&amp;env_id=&#x27; + env_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.name === constants.CLUSTER_NAME) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline cluster single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline cluster id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline cluster name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.name, constants.CLUSTER_NAME);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;cluster&#x27;, &#x27;id&#x27;, obj.id);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;cluster&#x27;, &#x27;name&#x27;, obj.name);\n                addContext(this, &#x27;Pipeline cluster id and name: &#x27; + [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            addContext(this, &#x27;Cluster name not found.&#x27; + [constants.CLUSTER_NAME]);\n            elementHandler.toBeTrueMsg(flag, &#x27;Cluster name not found: &#x27; + constants.CLUSTER_NAME);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8f2ccc5e-2fb4-4e0f-b121-ee7c8430b379&quot;,&quot;parentUUID&quot;:&quot;43ad3623-de09-462c-8fbf-186b915d3498&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8f2ccc5e-2fb4-4e0f-b121-ee7c8430b379&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:859,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;38f8f273-3d81-4e34-b2a0-84ad137410c0&quot;,&quot;title&quot;:&quot;Pipeline Tamplate&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Pipeline Tamplate\&quot;&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-template-deploy-v-1 test case Pipeline Tamplate \&quot;after all\&quot; hook in \&quot;Pipeline Tamplate\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:836,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const id = common.searchOfEnv(&#x27;app&#x27;, &#x27;template&#x27;, &#x27;id&#x27;);\napp.appTemplate(&#x27;?id=&#x27; + id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toArray(res.body, &#x27;Pipeline templates response type should be array.&#x27;);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline env single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline env id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline env name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.name, constants.NAMESPACE_NAME);\n                console.log(&#x27;Pipeline template id and name: &#x27;, [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            elementHandler.toBeTrueMsg(flag, &#x27;Templates name not found: &#x27; + constants.NAMESPACE_NAME);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a3103bbc-ba0f-495c-9515-e2f6144c6b4f&quot;,&quot;parentUUID&quot;:&quot;38f8f273-3d81-4e34-b2a0-84ad137410c0&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /app/templates&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-template-deploy-v-1 test case Pipeline Tamplate GET /app/templates&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:553,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;Pipeline template id and name: 617a8088316caf656c61bc20,default\&quot;&quot;,&quot;code&quot;:&quot;const app_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;id&#x27;);\napp.appTemplate(query.queryParam + &#x27;&amp;application_id=&#x27; + app_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toArray(res.body, &#x27;Pipeline templates response type should be array.&#x27;);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.name === constants.NAMESPACE_NAME) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline env single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline env id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline env name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.name, constants.NAMESPACE_NAME);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;template&#x27;, &#x27;id&#x27;, obj.id);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;template&#x27;, &#x27;name&#x27;, obj.name);\n                addContext(this, &#x27;Pipeline template id and name: &#x27; + [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            addContext(this, &#x27;Template name not found: &#x27; + [constants.NAMESPACE_NAME]);\n            elementHandler.toBeTrueMsg(flag, &#x27;Template name not found: &#x27; + constants.NAMESPACE_NAME);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0e2a8876-5698-4717-aefc-38244bfc3b6d&quot;,&quot;parentUUID&quot;:&quot;38f8f273-3d81-4e34-b2a0-84ad137410c0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0e2a8876-5698-4717-aefc-38244bfc3b6d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:553,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;9ee9210b-620e-4e60-a222-b68d46f2ca4b&quot;,&quot;title&quot;:&quot;Pipeline Branch&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Pipeline Branch\&quot;&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-template-deploy-v-1 test case Pipeline Branch \&quot;after all\&quot; hook in \&quot;Pipeline Branch\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:919,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const id = common.searchOfEnv(&#x27;app&#x27;, &#x27;branch&#x27;, &#x27;id&#x27;);\napp.branchs(&#x27;?id=&#x27; + id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline branch single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline branch id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline branch name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, id);\n                console.log(&#x27;Pipeline branch id and name: &#x27;, [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            elementHandler.toBeTrueMsg(flag, &#x27;Branch name not found.&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cb573519-83b3-45ee-888f-88d13396cc87&quot;,&quot;parentUUID&quot;:&quot;9ee9210b-620e-4e60-a222-b68d46f2ca4b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /repository/branches&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-template-deploy-v-1 test case Pipeline Branch GET /repository/branches&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1024,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;Pipeline branch id and name: 6114f9889ee862c2e1cea31b:::master,master\&quot;&quot;,&quot;code&quot;:&quot;const repo_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;repository_id&#x27;);\napp.branchs(query.queryParam + &#x27;&amp;repository_id=&#x27; + repo_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.name === constants.MASTER) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline branch single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline branch id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline branch name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.name, constants.MASTER);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;branch&#x27;, &#x27;id&#x27;, obj.id);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;branch&#x27;, &#x27;name&#x27;, obj.name);\n                addContext(this, &#x27;Pipeline branch id and name: &#x27; + [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            addContext(this, &#x27;Branch name not found: &#x27; + [constants.GITHUB_BRANCH_NAME]);\n            elementHandler.toBeTrueMsg(flag, &#x27;Branch name not found: &#x27; + constants.GITHUB_BRANCH_NAME);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b4063df9-4521-4025-b195-3f2714111615&quot;,&quot;parentUUID&quot;:&quot;9ee9210b-620e-4e60-a222-b68d46f2ca4b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b4063df9-4521-4025-b195-3f2714111615&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1024,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;b10e2bb8-4158-4f55-a980-6523f743c34c&quot;,&quot;title&quot;:&quot;Create Pipeline&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;POST /newdeploy&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-template-deploy-v-1 test case Create Pipeline POST /newdeploy&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1029,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;New deploy id: 617a90b4316caf656c61bc8d\&quot;&quot;,&quot;code&quot;:&quot;const app_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;id&#x27;);\nconst pipe_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;pipelines&#x27;, &#x27;2&#x27;);\napp.newdeploy(param.templateDeploy())\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.postApiResponse(res);\n        let obj = res.body;\n        elementHandler.responseExpect(obj, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toObject(obj, &#x27;Pipeline response type should be object.&#x27;);\n        if (obj.applicationID === app_id) {\n            elementHandler.toBeEqual(obj.pipelineID, pipe_id);\n            elementHandler.toString(obj.id, &#x27;Pipeline id type should be string.&#x27;);\n            common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;run&#x27;, &#x27;id&#x27;, obj.id);\n            console.log(&#x27;New deploy id: &#x27;, [obj.id]);\n            addContext(this, &#x27;New deploy id: &#x27; + obj.id);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;43d9247a-5b7e-4660-9160-5b41e5505044&quot;,&quot;parentUUID&quot;:&quot;b10e2bb8-4158-4f55-a980-6523f743c34c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;43d9247a-5b7e-4660-9160-5b41e5505044&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1029,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;ad81cf89-31dd-4ebd-b64d-2a190423ce21&quot;,&quot;title&quot;:&quot;Pipeline Run&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /pipelineruns&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-template-deploy-v-1 test case Pipeline Run GET /pipelineruns&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:56989,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const id = common.searchOfEnv(&#x27;app&#x27;, &#x27;run&#x27;, &#x27;id&#x27;);\nlet count = 1;\nconst file = path.join(path.resolve(), &#x27;/resource/pipeline.json&#x27;);\nfor (let index = 0; index &lt; count; index++) {\n    await app.pipelineRun(&#x27;/&#x27; + id)\n        .then((res) =&gt; {\n            if (res.statusCode !== 200)\n                logs.getApiResponse(res);\n            elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n            // Add delay time 5s\n            common.tryDelay(5000);\n            let status = res.body.tektonPipelineRun.object.status;\n            // get the pipeline start time\n            let flag = 1, startTime = &#x27;&#x27;;\n            if (flag) {\n                startTime = status.startTime instanceof Date ? status.startTime : new Date(status.startTime);\n                flag = 0;\n            }\n            // Set running pipeline status response in json file\n            common.writeJsonFlie(file, status);\n            // get pipeline response in json file through\n            const pipelineResponse = common.readJsonFile(file);\n            const cTime = pipelineResponse.completionTime;\n            // set value param in completion time\n            const value = cTime ? cTime : null;\n            if (value) {\n                const completionTime = cTime instanceof Date ? cTime : new Date(cTime);\n                seconds = Math.abs(completionTime - startTime) / 1000;\n                console.log(&#x27;StartTime: &#x27;, startTime);\n                console.log(&#x27;CompletionTime: &#x27;, cTime);\n                console.log(&#x27;Pipeline completion time in second: &#x27;, seconds + &#x27;s&#x27;);\n                console.log(&#x27;Pipeline status: &#x27;, pipelineResponse.conditions[0].reason);\n            } else {\n                count += 1;\n                console.log(&#x27;Pipeline still running.......&#x27;);\n            }\n        });\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e8201282-caf8-4788-b827-82c984109d9f&quot;,&quot;parentUUID&quot;:&quot;ad81cf89-31dd-4ebd-b64d-2a190423ce21&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e8201282-caf8-4788-b827-82c984109d9f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:56989,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;74064627-c54e-4389-8272-d6b7a4f533ce&quot;,&quot;title&quot;:&quot;ozone-git-pull-docker-image-build-and-push-set-deployment-image-v-1 test case&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;d54e09b5-de6d-4dcb-aae1-eed334196434&quot;,&quot;title&quot;:&quot;Pipeline Environment&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Pipeline Environment\&quot;&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-push-set-deployment-image-v-1 test case Pipeline Environment \&quot;after all\&quot; hook in \&quot;Pipeline Environment\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:641,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const env_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;env_id&#x27;);\napp.appEnv(&#x27;?id=&#x27; + env_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toArray(res.body, &#x27;Pipeline env response type should be array.&#x27;);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === env_id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline env single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline env id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline env name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, env_id);\n                console.log(&#x27;Pipeline env id and name: &#x27;, [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            elementHandler.toBeTrueMsg(flag, &#x27;Environment not found..&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ba279016-55fe-4ef6-b3e0-ccfda0a18917&quot;,&quot;parentUUID&quot;:&quot;d54e09b5-de6d-4dcb-aae1-eed334196434&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /env&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-push-set-deployment-image-v-1 test case Pipeline Environment GET /env&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:647,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;Pipeline env id and name: 6149c0b617de71c6ac6a634f,UAT\&quot;&quot;,&quot;code&quot;:&quot;const app_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;id&#x27;);\nconst env_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;env_id&#x27;);\napp.appEnv(query.queryParam + &#x27;&amp;application_id=&#x27; + app_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toArray(res.body, &#x27;Pipeline env response type should be array.&#x27;);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === env_id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline env single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline env id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline env name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, env_id);\n                addContext(this, &#x27;Pipeline env id and name: &#x27; + [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            addContext(this, &#x27;Environment name not found.&#x27;);\n            elementHandler.toBeTrueMsg(flag, &#x27;Environment name not found.&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;19dd74ac-2d8e-45b3-a8c4-fb5146c5abab&quot;,&quot;parentUUID&quot;:&quot;d54e09b5-de6d-4dcb-aae1-eed334196434&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;19dd74ac-2d8e-45b3-a8c4-fb5146c5abab&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:647,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;38694351-4c88-409d-9baf-af8654ae63ce&quot;,&quot;title&quot;:&quot;Pipeline Cluster&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Pipeline Cluster\&quot;&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-push-set-deployment-image-v-1 test case Pipeline Cluster \&quot;after all\&quot; hook in \&quot;Pipeline Cluster\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:737,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const id = common.searchOfEnv(&#x27;app&#x27;, &#x27;cluster&#x27;, &#x27;id&#x27;);\napp.cluster(&#x27;?id=&#x27; + id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline cluster single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline cluster id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline cluster name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, id);\n                console.log(&#x27;Pipeline cluster id and name: &#x27;, [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            elementHandler.toBeTrueMsg(flag, &#x27;Cluster name not found.&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8f333438-3d4b-4cb4-99f3-fbd69d9c3ccc&quot;,&quot;parentUUID&quot;:&quot;38694351-4c88-409d-9baf-af8654ae63ce&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /cluster&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-push-set-deployment-image-v-1 test case Pipeline Cluster GET /cluster&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:903,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;Pipeline cluster id and name: 617a6874df85a15f0a45a187,pks-attach2\&quot;&quot;,&quot;code&quot;:&quot;const env_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;env_id&#x27;);\napp.cluster(query.queryParam + &#x27;&amp;env_id=&#x27; + env_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.name === constants.CLUSTER_NAME) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline cluster single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline cluster id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline cluster name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.name, constants.CLUSTER_NAME);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;cluster&#x27;, &#x27;id&#x27;, obj.id);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;cluster&#x27;, &#x27;name&#x27;, obj.name);\n                addContext(this, &#x27;Pipeline cluster id and name: &#x27; + [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            addContext(this, &#x27;Cluster name not found.&#x27; + [constants.CLUSTER_NAME]);\n            elementHandler.toBeTrueMsg(flag, &#x27;Cluster name not found: &#x27; + constants.CLUSTER_NAME);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fd879e88-3cea-48f9-9311-4164de533b61&quot;,&quot;parentUUID&quot;:&quot;38694351-4c88-409d-9baf-af8654ae63ce&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;fd879e88-3cea-48f9-9311-4164de533b61&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:903,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;35efeb00-f1d5-4dac-8a2a-7633ab9765b1&quot;,&quot;title&quot;:&quot;Pipeline Branch&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Pipeline Branch\&quot;&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-push-set-deployment-image-v-1 test case Pipeline Branch \&quot;after all\&quot; hook in \&quot;Pipeline Branch\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:940,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const id = common.searchOfEnv(&#x27;app&#x27;, &#x27;branch&#x27;, &#x27;id&#x27;);\napp.branchs(&#x27;?id=&#x27; + id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline branch single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline branch id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline branch name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, id);\n                console.log(&#x27;Pipeline branch id and name: &#x27;, [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            elementHandler.toBeTrueMsg(flag, &#x27;Branch name not found.&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a73683e4-0a10-4c9a-b2bb-dbb2032b694c&quot;,&quot;parentUUID&quot;:&quot;35efeb00-f1d5-4dac-8a2a-7633ab9765b1&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /repository/branches&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-push-set-deployment-image-v-1 test case Pipeline Branch GET /repository/branches&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:997,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;Pipeline branch id and name: 6114f9889ee862c2e1cea31b:::v1,v1\&quot;&quot;,&quot;code&quot;:&quot;const repo_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;repository_id&#x27;);\napp.branchs(query.queryParam + &#x27;&amp;repository_id=&#x27; + repo_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.name === constants.V1) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline branch single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline branch id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline branch name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.name, constants.V1);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;branch&#x27;, &#x27;id&#x27;, obj.id);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;branch&#x27;, &#x27;name&#x27;, obj.name);\n                addContext(this, &#x27;Pipeline branch id and name: &#x27; + [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            addContext(this, &#x27;Branch name not found: &#x27; + [constants.GITHUB_BRANCH_NAME]);\n            elementHandler.toBeTrueMsg(flag, &#x27;Branch name not found: &#x27; + constants.GITHUB_BRANCH_NAME);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;19815b05-7667-4143-9312-eab1588c4045&quot;,&quot;parentUUID&quot;:&quot;35efeb00-f1d5-4dac-8a2a-7633ab9765b1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;19815b05-7667-4143-9312-eab1588c4045&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:997,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;628af8b3-f573-41f0-ad77-1106a5f87052&quot;,&quot;title&quot;:&quot;Create Pipeline&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;POST /newdeploy&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-push-set-deployment-image-v-1 test case Create Pipeline POST /newdeploy&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:731,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;New deploy id: 617a91052277e90efcc370b2\&quot;&quot;,&quot;code&quot;:&quot;const app_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;id&#x27;);\nconst pipe_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;pipelines&#x27;, &#x27;1&#x27;);\napp.newdeploy(param.pushSetDeploymentImg())\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.postApiResponse(res);\n        let obj = res.body;\n        elementHandler.responseExpect(obj, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toObject(obj, &#x27;Pipeline response type should be object.&#x27;);\n        if (obj.applicationID === app_id) {\n            elementHandler.toBeEqual(obj.pipelineID, pipe_id);\n            elementHandler.toString(obj.id, &#x27;Pipeline id type should be string.&#x27;);\n            common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;run&#x27;, &#x27;id&#x27;, obj.id);\n            console.log(&#x27;New deploy id: &#x27;, [obj.id]);\n            addContext(this, &#x27;New deploy id: &#x27; + obj.id);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1eadc464-70c5-4060-bee1-24fa9e8b7116&quot;,&quot;parentUUID&quot;:&quot;628af8b3-f573-41f0-ad77-1106a5f87052&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1eadc464-70c5-4060-bee1-24fa9e8b7116&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:731,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;15281ae8-b415-4050-afcd-3b58df32dfc3&quot;,&quot;title&quot;:&quot;Pipeline Run&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /pipelineruns&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-push-set-deployment-image-v-1 test case Pipeline Run GET /pipelineruns&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:52889,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const id = common.searchOfEnv(&#x27;app&#x27;, &#x27;run&#x27;, &#x27;id&#x27;);\nlet count = 1;\nconst file = path.join(path.resolve(), &#x27;/resource/pipeline.json&#x27;);\nfor (let index = 0; index &lt; count; index++) {\n    await app.pipelineRun(&#x27;/&#x27; + id)\n        .then((res) =&gt; {\n            if (res.statusCode !== 200)\n                logs.getApiResponse(res);\n            elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n            // Add delay time 5s\n            common.tryDelay(5000);\n            let status = res.body.tektonPipelineRun.object.status;\n            // get the pipeline start time\n            let flag = 1, startTime = &#x27;&#x27;;\n            if (flag) {\n                startTime = status.startTime instanceof Date ? status.startTime : new Date(status.startTime);\n                flag = 0;\n            }\n            // Set running pipeline status response in json file\n            common.writeJsonFlie(file, status);\n            // get pipeline response in json file through\n            const pipelineResponse = common.readJsonFile(file);\n            const cTime = pipelineResponse.completionTime;\n            // set value param in completion time\n            const value = cTime ? cTime : null;\n            if (value) {\n                const completionTime = cTime instanceof Date ? cTime : new Date(cTime);\n                seconds = Math.abs(completionTime - startTime) / 1000;\n                console.log(&#x27;StartTime: &#x27;, startTime);\n                console.log(&#x27;CompletionTime: &#x27;, cTime);\n                console.log(&#x27;Pipeline completion time in second: &#x27;, seconds + &#x27;s&#x27;);\n                console.log(&#x27;Pipeline status: &#x27;, pipelineResponse.conditions[0].reason);\n            } else {\n                count += 1;\n                console.log(&#x27;Pipeline still running.......&#x27;);\n            }\n        });\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ec2bf553-fde1-45cf-8e09-81ce8dc371ff&quot;,&quot;parentUUID&quot;:&quot;15281ae8-b415-4050-afcd-3b58df32dfc3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ec2bf553-fde1-45cf-8e09-81ce8dc371ff&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:52889,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;d812599b-cb31-447c-8317-c5b74c569569&quot;,&quot;title&quot;:&quot;ozone-git-pull-docker-image-build-and-push-pipeline-v-1 test case&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;233392df-c811-47ba-83c0-b94f2edbd768&quot;,&quot;title&quot;:&quot;Pipeline Environment&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Pipeline Environment\&quot;&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-push-pipeline-v-1 test case Pipeline Environment \&quot;after all\&quot; hook in \&quot;Pipeline Environment\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:551,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const env_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;env_id&#x27;);\napp.appEnv(&#x27;?id=&#x27; + env_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toArray(res.body, &#x27;Pipeline env response type should be array.&#x27;);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === env_id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline env single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline env id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline env name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, env_id);\n                console.log(&#x27;Pipeline env id and name: &#x27;, [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            elementHandler.toBeTrueMsg(flag, &#x27;Environment not found..&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7226eca4-d7cd-40df-a25f-1310a7afb188&quot;,&quot;parentUUID&quot;:&quot;233392df-c811-47ba-83c0-b94f2edbd768&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /env&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-push-pipeline-v-1 test case Pipeline Environment GET /env&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:819,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;Pipeline env id and name: 6149c0b617de71c6ac6a634f,UAT\&quot;&quot;,&quot;code&quot;:&quot;const app_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;id&#x27;);\nconst env_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;env_id&#x27;);\napp.appEnv(query.queryParam + &#x27;&amp;application_id=&#x27; + app_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toArray(res.body, &#x27;Pipeline env response type should be array.&#x27;);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === env_id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline env single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline env id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline env name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, env_id);\n                addContext(this, &#x27;Pipeline env id and name: &#x27; + [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            addContext(this, &#x27;Environment name not found.&#x27;);\n            elementHandler.toBeTrueMsg(flag, &#x27;Environment name not found.&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c6474a81-6c8a-4ca8-8615-0870c4399afb&quot;,&quot;parentUUID&quot;:&quot;233392df-c811-47ba-83c0-b94f2edbd768&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c6474a81-6c8a-4ca8-8615-0870c4399afb&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:819,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;f5235088-8b8c-4484-9eef-43cdcc2fd9e9&quot;,&quot;title&quot;:&quot;Pipeline Cluster&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Pipeline Cluster\&quot;&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-push-pipeline-v-1 test case Pipeline Cluster \&quot;after all\&quot; hook in \&quot;Pipeline Cluster\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:574,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const id = common.searchOfEnv(&#x27;app&#x27;, &#x27;cluster&#x27;, &#x27;id&#x27;);\napp.cluster(&#x27;?id=&#x27; + id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline cluster single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline cluster id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline cluster name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, id);\n                console.log(&#x27;Pipeline cluster id and name: &#x27;, [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            elementHandler.toBeTrueMsg(flag, &#x27;Cluster name not found.&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7db40c46-f6a1-4559-a57d-6cbd7e58c742&quot;,&quot;parentUUID&quot;:&quot;f5235088-8b8c-4484-9eef-43cdcc2fd9e9&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /cluster&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-push-pipeline-v-1 test case Pipeline Cluster GET /cluster&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:980,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;Pipeline cluster id and name: 617a6874df85a15f0a45a187,pks-attach2\&quot;&quot;,&quot;code&quot;:&quot;const env_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;env_id&#x27;);\napp.cluster(query.queryParam + &#x27;&amp;env_id=&#x27; + env_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.name === constants.CLUSTER_NAME) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline cluster single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline cluster id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline cluster name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.name, constants.CLUSTER_NAME);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;cluster&#x27;, &#x27;id&#x27;, obj.id);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;cluster&#x27;, &#x27;name&#x27;, obj.name);\n                addContext(this, &#x27;Pipeline cluster id and name: &#x27; + [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            addContext(this, &#x27;Cluster name not found.&#x27; + [constants.CLUSTER_NAME]);\n            elementHandler.toBeTrueMsg(flag, &#x27;Cluster name not found: &#x27; + constants.CLUSTER_NAME);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;50f08166-c33a-4cef-97d5-ea082b7eb22f&quot;,&quot;parentUUID&quot;:&quot;f5235088-8b8c-4484-9eef-43cdcc2fd9e9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;50f08166-c33a-4cef-97d5-ea082b7eb22f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:980,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;27c30deb-cf74-4c8b-b752-8aa275b47c9f&quot;,&quot;title&quot;:&quot;Pipeline Branch&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Pipeline Branch\&quot;&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-push-pipeline-v-1 test case Pipeline Branch \&quot;after all\&quot; hook in \&quot;Pipeline Branch\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1020,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const id = common.searchOfEnv(&#x27;app&#x27;, &#x27;branch&#x27;, &#x27;id&#x27;);\napp.branchs(&#x27;?id=&#x27; + id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline branch single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline branch id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline branch name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, id);\n                console.log(&#x27;Pipeline branch id and name: &#x27;, [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            elementHandler.toBeTrueMsg(flag, &#x27;Branch name not found.&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b902e486-5d0f-423e-95bb-8bb3db8ff3cb&quot;,&quot;parentUUID&quot;:&quot;27c30deb-cf74-4c8b-b752-8aa275b47c9f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /repository/branches&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-push-pipeline-v-1 test case Pipeline Branch GET /repository/branches&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:982,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;Pipeline branch id and name: 6114f9889ee862c2e1cea31b:::master,master\&quot;&quot;,&quot;code&quot;:&quot;const repo_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;repository_id&#x27;);\napp.branchs(query.queryParam + &#x27;&amp;repository_id=&#x27; + repo_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.name === constants.MASTER) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline branch single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline branch id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline branch name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.name, constants.MASTER);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;branch&#x27;, &#x27;id&#x27;, obj.id);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;branch&#x27;, &#x27;name&#x27;, obj.name);\n                addContext(this, &#x27;Pipeline branch id and name: &#x27; + [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            addContext(this, &#x27;Branch name not found: &#x27; + [constants.GITHUB_BRANCH_NAME]);\n            elementHandler.toBeTrueMsg(flag, &#x27;Branch name not found: &#x27; + constants.GITHUB_BRANCH_NAME);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d197be41-bb02-4a2a-94be-88d36aa0a6a3&quot;,&quot;parentUUID&quot;:&quot;27c30deb-cf74-4c8b-b752-8aa275b47c9f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d197be41-bb02-4a2a-94be-88d36aa0a6a3&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:982,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;927d954e-32df-4145-a893-8a1ff9bf8f9c&quot;,&quot;title&quot;:&quot;Create Pipeline&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;POST /newdeploy&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-push-pipeline-v-1 test case Create Pipeline POST /newdeploy&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:681,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;New deploy id: 617a91522277e90efcc370b5\&quot;&quot;,&quot;code&quot;:&quot;const app_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;id&#x27;);\nconst pipe_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;pipelines&#x27;, &#x27;0&#x27;);\napp.newdeploy(param.pushPipeline())\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.postApiResponse(res);\n        let obj = res.body;\n        elementHandler.responseExpect(obj, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toObject(obj, &#x27;Pipeline response type should be object.&#x27;);\n        if (obj.applicationID === app_id) {\n            elementHandler.toBeEqual(obj.pipelineID, pipe_id);\n            elementHandler.toString(obj.id, &#x27;Pipeline id type should be string.&#x27;);\n            common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;run&#x27;, &#x27;id&#x27;, obj.id);\n            console.log(&#x27;New deploy id: &#x27;, [obj.id]);\n            addContext(this, &#x27;New deploy id: &#x27; + obj.id);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e01c01b8-ed57-417d-a08e-ee0ed1f95473&quot;,&quot;parentUUID&quot;:&quot;927d954e-32df-4145-a893-8a1ff9bf8f9c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e01c01b8-ed57-417d-a08e-ee0ed1f95473&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:681,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;9c715f15-e510-4442-bd63-46e81f231472&quot;,&quot;title&quot;:&quot;Pipeline Run&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /pipelineruns&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-push-pipeline-v-1 test case Pipeline Run GET /pipelineruns&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:45726,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const id = common.searchOfEnv(&#x27;app&#x27;, &#x27;run&#x27;, &#x27;id&#x27;);\nlet count = 1;\nconst file = path.join(path.resolve(), &#x27;/resource/pipeline.json&#x27;);\nfor (let index = 0; index &lt; count; index++) {\n    await app.pipelineRun(&#x27;/&#x27; + id)\n        .then((res) =&gt; {\n            if (res.statusCode !== 200)\n                logs.getApiResponse(res);\n            elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n            // Add delay time 5s\n            common.tryDelay(5000);\n            let status = res.body.tektonPipelineRun.object.status;\n            // get the pipeline start time\n            let flag = 1, startTime = &#x27;&#x27;;\n            if (flag) {\n                startTime = status.startTime instanceof Date ? status.startTime : new Date(status.startTime);\n                flag = 0;\n            }\n            // Set running pipeline status response in json file\n            common.writeJsonFlie(file, status);\n            // get pipeline response in json file through\n            const pipelineResponse = common.readJsonFile(file);\n            const cTime = pipelineResponse.completionTime;\n            // set value param in completion time\n            const value = cTime ? cTime : null;\n            if (value) {\n                const completionTime = cTime instanceof Date ? cTime : new Date(cTime);\n                seconds = Math.abs(completionTime - startTime) / 1000;\n                console.log(&#x27;StartTime: &#x27;, startTime);\n                console.log(&#x27;CompletionTime: &#x27;, cTime);\n                console.log(&#x27;Pipeline completion time in second: &#x27;, seconds + &#x27;s&#x27;);\n                console.log(&#x27;Pipeline status: &#x27;, pipelineResponse.conditions[0].reason);\n            } else {\n                count += 1;\n                console.log(&#x27;Pipeline still running.......&#x27;);\n            }\n        });\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d12e4a0a-69d9-4621-922a-5d51c7fc947d&quot;,&quot;parentUUID&quot;:&quot;9c715f15-e510-4442-bd63-46e81f231472&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d12e4a0a-69d9-4621-922a-5d51c7fc947d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:45726,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;46b6c2e9-39b2-483d-af53-795e4add76e7&quot;,&quot;title&quot;:&quot;ozone-templates-deploy-pipeline-v-1 test case&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;8a37687c-5889-4adc-9b70-c86fa5b1bb0b&quot;,&quot;title&quot;:&quot;Pipeline Environment&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Pipeline Environment\&quot;&quot;,&quot;fullTitle&quot;:&quot;ozone-templates-deploy-pipeline-v-1 test case Pipeline Environment \&quot;after all\&quot; hook in \&quot;Pipeline Environment\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:588,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const env_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;env_id&#x27;);\napp.appEnv(&#x27;?id=&#x27; + env_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toArray(res.body, &#x27;Pipeline env response type should be array.&#x27;);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === env_id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline env single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline env id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline env name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, env_id);\n                console.log(&#x27;Pipeline env id and name: &#x27;, [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            elementHandler.toBeTrueMsg(flag, &#x27;Environment not found..&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5d5d0af0-21d9-4be9-ab16-60548124dbf0&quot;,&quot;parentUUID&quot;:&quot;8a37687c-5889-4adc-9b70-c86fa5b1bb0b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /env&quot;,&quot;fullTitle&quot;:&quot;ozone-templates-deploy-pipeline-v-1 test case Pipeline Environment GET /env&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:781,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;Pipeline env id and name: 6149c0b617de71c6ac6a634f,UAT\&quot;&quot;,&quot;code&quot;:&quot;const app_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;id&#x27;);\nconst env_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;env_id&#x27;);\napp.appEnv(query.queryParam + &#x27;&amp;application_id=&#x27; + app_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toArray(res.body, &#x27;Pipeline env response type should be array.&#x27;);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === env_id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline env single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline env id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline env name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, env_id);\n                addContext(this, &#x27;Pipeline env id and name: &#x27; + [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            addContext(this, &#x27;Environment name not found.&#x27;);\n            elementHandler.toBeTrueMsg(flag, &#x27;Environment name not found.&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a863e1e1-c6aa-47e2-be90-213807ddb8e6&quot;,&quot;parentUUID&quot;:&quot;8a37687c-5889-4adc-9b70-c86fa5b1bb0b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a863e1e1-c6aa-47e2-be90-213807ddb8e6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:781,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;5810d408-0bf0-4929-9499-ffb26d49ad87&quot;,&quot;title&quot;:&quot;Pipeline Cluster&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Pipeline Cluster\&quot;&quot;,&quot;fullTitle&quot;:&quot;ozone-templates-deploy-pipeline-v-1 test case Pipeline Cluster \&quot;after all\&quot; hook in \&quot;Pipeline Cluster\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:819,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const id = common.searchOfEnv(&#x27;app&#x27;, &#x27;cluster&#x27;, &#x27;id&#x27;);\napp.cluster(&#x27;?id=&#x27; + id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline cluster single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline cluster id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline cluster name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, id);\n                console.log(&#x27;Pipeline cluster id and name: &#x27;, [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            elementHandler.toBeTrueMsg(flag, &#x27;Cluster name not found.&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8651683c-020a-4f4f-b2c9-8a315092c2bf&quot;,&quot;parentUUID&quot;:&quot;5810d408-0bf0-4929-9499-ffb26d49ad87&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /cluster&quot;,&quot;fullTitle&quot;:&quot;ozone-templates-deploy-pipeline-v-1 test case Pipeline Cluster GET /cluster&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:828,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;Pipeline cluster id and name: 617a6874df85a15f0a45a187,pks-attach2\&quot;&quot;,&quot;code&quot;:&quot;const env_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;env_id&#x27;);\napp.cluster(query.queryParam + &#x27;&amp;env_id=&#x27; + env_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.name === constants.CLUSTER_NAME) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline cluster single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline cluster id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline cluster name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.name, constants.CLUSTER_NAME);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;cluster&#x27;, &#x27;id&#x27;, obj.id);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;cluster&#x27;, &#x27;name&#x27;, obj.name);\n                addContext(this, &#x27;Pipeline cluster id and name: &#x27; + [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            addContext(this, &#x27;Cluster name not found.&#x27; + [constants.CLUSTER_NAME]);\n            elementHandler.toBeTrueMsg(flag, &#x27;Cluster name not found: &#x27; + constants.CLUSTER_NAME);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dc76d97e-b11d-462a-9acf-0e8d104b6831&quot;,&quot;parentUUID&quot;:&quot;5810d408-0bf0-4929-9499-ffb26d49ad87&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;dc76d97e-b11d-462a-9acf-0e8d104b6831&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:828,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;d9371fae-c80d-431f-b76a-deb17472f6f1&quot;,&quot;title&quot;:&quot;Pipeline Tamplate&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Pipeline Tamplate\&quot;&quot;,&quot;fullTitle&quot;:&quot;ozone-templates-deploy-pipeline-v-1 test case Pipeline Tamplate \&quot;after all\&quot; hook in \&quot;Pipeline Tamplate\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:554,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const id = common.searchOfEnv(&#x27;app&#x27;, &#x27;template&#x27;, &#x27;id&#x27;);\napp.appTemplate(&#x27;?id=&#x27; + id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toArray(res.body, &#x27;Pipeline templates response type should be array.&#x27;);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline env single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline env id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline env name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.name, constants.NAMESPACE_NAME);\n                console.log(&#x27;Pipeline template id and name: &#x27;, [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            elementHandler.toBeTrueMsg(flag, &#x27;Templates name not found: &#x27; + constants.NAMESPACE_NAME);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;12d91a30-dc86-458e-9a6b-f16f4f53e129&quot;,&quot;parentUUID&quot;:&quot;d9371fae-c80d-431f-b76a-deb17472f6f1&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /app/templates&quot;,&quot;fullTitle&quot;:&quot;ozone-templates-deploy-pipeline-v-1 test case Pipeline Tamplate GET /app/templates&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:559,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;Pipeline template id and name: 617a8088316caf656c61bc20,default\&quot;&quot;,&quot;code&quot;:&quot;const app_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;id&#x27;);\napp.appTemplate(query.queryParam + &#x27;&amp;application_id=&#x27; + app_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toArray(res.body, &#x27;Pipeline templates response type should be array.&#x27;);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.name === constants.NAMESPACE_NAME) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline env single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline env id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline env name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.name, constants.NAMESPACE_NAME);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;template&#x27;, &#x27;id&#x27;, obj.id);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;template&#x27;, &#x27;name&#x27;, obj.name);\n                addContext(this, &#x27;Pipeline template id and name: &#x27; + [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            addContext(this, &#x27;Template name not found: &#x27; + [constants.NAMESPACE_NAME]);\n            elementHandler.toBeTrueMsg(flag, &#x27;Template name not found: &#x27; + constants.NAMESPACE_NAME);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;65606cef-8e51-4497-85b1-6441afd6dee4&quot;,&quot;parentUUID&quot;:&quot;d9371fae-c80d-431f-b76a-deb17472f6f1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;65606cef-8e51-4497-85b1-6441afd6dee4&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:559,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;9dae0d29-067a-4302-92d1-4cb7b72e0679&quot;,&quot;title&quot;:&quot;Create Pipeline&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;POST /newdeploy&quot;,&quot;fullTitle&quot;:&quot;ozone-templates-deploy-pipeline-v-1 test case Create Pipeline POST /newdeploy&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:643,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;New deploy id: 617a9195316caf656c61bc90\&quot;&quot;,&quot;code&quot;:&quot;const app_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;id&#x27;);\nconst pipe_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;pipelines&#x27;, &#x27;4&#x27;);\napp.newdeploy(param.templatesDeployPipeline())\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.postApiResponse(res);\n        let obj = res.body;\n        elementHandler.responseExpect(obj, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toObject(obj, &#x27;Pipeline response type should be object.&#x27;);\n        if (obj.applicationID === app_id) {\n            elementHandler.toBeEqual(obj.pipelineID, pipe_id);\n            elementHandler.toString(obj.id, &#x27;Pipeline id type should be string.&#x27;);\n            common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;run&#x27;, &#x27;id&#x27;, obj.id);\n            console.log(&#x27;New deploy id: &#x27;, [obj.id]);\n            addContext(this, &#x27;New deploy id: &#x27; + obj.id);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;03cb8475-f822-4eeb-a4ed-97497c9c96a6&quot;,&quot;parentUUID&quot;:&quot;9dae0d29-067a-4302-92d1-4cb7b72e0679&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;03cb8475-f822-4eeb-a4ed-97497c9c96a6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:643,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;8d56f9b4-97c6-44eb-8a06-01a2066c312c&quot;,&quot;title&quot;:&quot;Pipeline Run&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /pipelineruns&quot;,&quot;fullTitle&quot;:&quot;ozone-templates-deploy-pipeline-v-1 test case Pipeline Run GET /pipelineruns&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:28079,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const id = common.searchOfEnv(&#x27;app&#x27;, &#x27;run&#x27;, &#x27;id&#x27;);\nlet count = 1;\nconst file = path.join(path.resolve(), &#x27;/resource/pipeline.json&#x27;);\nfor (let index = 0; index &lt; count; index++) {\n    await app.pipelineRun(&#x27;/&#x27; + id)\n        .then((res) =&gt; {\n            if (res.statusCode !== 200)\n                logs.getApiResponse(res);\n            elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n            // Add delay time 5s\n            common.tryDelay(5000);\n            let status = res.body.tektonPipelineRun.object.status;\n            // get the pipeline start time\n            let flag = 1, startTime = &#x27;&#x27;;\n            if (flag) {\n                startTime = status.startTime instanceof Date ? status.startTime : new Date(status.startTime);\n                flag = 0;\n            }\n            // Set running pipeline status response in json file\n            common.writeJsonFlie(file, status);\n            // get pipeline response in json file through\n            const pipelineResponse = common.readJsonFile(file);\n            const cTime = pipelineResponse.completionTime;\n            // set value param in completion time\n            const value = cTime ? cTime : null;\n            if (value) {\n                const completionTime = cTime instanceof Date ? cTime : new Date(cTime);\n                seconds = Math.abs(completionTime - startTime) / 1000;\n                console.log(&#x27;StartTime: &#x27;, startTime);\n                console.log(&#x27;CompletionTime: &#x27;, cTime);\n                console.log(&#x27;Pipeline completion time in second: &#x27;, seconds + &#x27;s&#x27;);\n                console.log(&#x27;Pipeline status: &#x27;, pipelineResponse.conditions[0].reason);\n            } else {\n                count += 1;\n                console.log(&#x27;Pipeline still running.......&#x27;);\n            }\n        });\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f2ae9486-eafe-43c8-a217-fc5835e4268f&quot;,&quot;parentUUID&quot;:&quot;8d56f9b4-97c6-44eb-8a06-01a2066c312c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f2ae9486-eafe-43c8-a217-fc5835e4268f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:28079,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;f5d3c750-83f5-4814-bf30-5360b96ae769&quot;,&quot;title&quot;:&quot;ozone-set-deployment-image-v-1 test case&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;2a7bca3a-080f-4064-a0a5-c6ce36f864f6&quot;,&quot;title&quot;:&quot;Pipeline Environment&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Pipeline Environment\&quot;&quot;,&quot;fullTitle&quot;:&quot;ozone-set-deployment-image-v-1 test case Pipeline Environment \&quot;after all\&quot; hook in \&quot;Pipeline Environment\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:871,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const env_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;env_id&#x27;);\napp.appEnv(&#x27;?id=&#x27; + env_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toArray(res.body, &#x27;Pipeline env response type should be array.&#x27;);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === env_id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline env single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline env id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline env name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, env_id);\n                console.log(&#x27;Pipeline env id and name: &#x27;, [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            elementHandler.toBeTrueMsg(flag, &#x27;Environment not found..&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a7f11ae2-40fa-4616-ae71-f5de95ce970d&quot;,&quot;parentUUID&quot;:&quot;2a7bca3a-080f-4064-a0a5-c6ce36f864f6&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /env&quot;,&quot;fullTitle&quot;:&quot;ozone-set-deployment-image-v-1 test case Pipeline Environment GET /env&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1679,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;Pipeline env id and name: 6149c0b617de71c6ac6a634f,UAT\&quot;&quot;,&quot;code&quot;:&quot;const app_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;id&#x27;);\nconst env_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;env_id&#x27;);\napp.appEnv(query.queryParam + &#x27;&amp;application_id=&#x27; + app_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toArray(res.body, &#x27;Pipeline env response type should be array.&#x27;);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === env_id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline env single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline env id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline env name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, env_id);\n                addContext(this, &#x27;Pipeline env id and name: &#x27; + [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            addContext(this, &#x27;Environment name not found.&#x27;);\n            elementHandler.toBeTrueMsg(flag, &#x27;Environment name not found.&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;82d2267b-a39b-4934-b373-f07065e626f5&quot;,&quot;parentUUID&quot;:&quot;2a7bca3a-080f-4064-a0a5-c6ce36f864f6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;82d2267b-a39b-4934-b373-f07065e626f5&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1679,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;1aa37113-e5fd-43c4-8c3b-db61210cc192&quot;,&quot;title&quot;:&quot;Pipeline Cluster&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Pipeline Cluster\&quot;&quot;,&quot;fullTitle&quot;:&quot;ozone-set-deployment-image-v-1 test case Pipeline Cluster \&quot;after all\&quot; hook in \&quot;Pipeline Cluster\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:820,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const id = common.searchOfEnv(&#x27;app&#x27;, &#x27;cluster&#x27;, &#x27;id&#x27;);\napp.cluster(&#x27;?id=&#x27; + id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline cluster single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline cluster id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline cluster name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, id);\n                console.log(&#x27;Pipeline cluster id and name: &#x27;, [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            elementHandler.toBeTrueMsg(flag, &#x27;Cluster name not found.&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3a819c20-84be-4c5f-9848-c88271ef66f6&quot;,&quot;parentUUID&quot;:&quot;1aa37113-e5fd-43c4-8c3b-db61210cc192&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /cluster&quot;,&quot;fullTitle&quot;:&quot;ozone-set-deployment-image-v-1 test case Pipeline Cluster GET /cluster&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:919,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;Pipeline cluster id and name: 617a6874df85a15f0a45a187,pks-attach2\&quot;&quot;,&quot;code&quot;:&quot;const env_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;env_id&#x27;);\napp.cluster(query.queryParam + &#x27;&amp;env_id=&#x27; + env_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.name === constants.CLUSTER_NAME) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline cluster single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline cluster id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline cluster name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.name, constants.CLUSTER_NAME);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;cluster&#x27;, &#x27;id&#x27;, obj.id);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;cluster&#x27;, &#x27;name&#x27;, obj.name);\n                addContext(this, &#x27;Pipeline cluster id and name: &#x27; + [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            addContext(this, &#x27;Cluster name not found.&#x27; + [constants.CLUSTER_NAME]);\n            elementHandler.toBeTrueMsg(flag, &#x27;Cluster name not found: &#x27; + constants.CLUSTER_NAME);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8ad94acd-1c59-4ac2-91c2-f376157d0259&quot;,&quot;parentUUID&quot;:&quot;1aa37113-e5fd-43c4-8c3b-db61210cc192&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8ad94acd-1c59-4ac2-91c2-f376157d0259&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:919,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;14086508-2ac2-4584-ac4f-faaeecf8d095&quot;,&quot;title&quot;:&quot;Create Pipeline&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;POST /newdeploy&quot;,&quot;fullTitle&quot;:&quot;ozone-set-deployment-image-v-1 test case Create Pipeline POST /newdeploy&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:579,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;New deploy id: 617a91c3316caf656c61bc93\&quot;&quot;,&quot;code&quot;:&quot;const app_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;id&#x27;);\nconst pipe_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;pipelines&#x27;, &#x27;3&#x27;);\napp.newdeploy(param.setDeploymentImg())\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.postApiResponse(res);\n        let obj = res.body;\n        elementHandler.responseExpect(obj, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toObject(obj, &#x27;Pipeline response type should be object.&#x27;);\n        if (obj.applicationID === app_id) {\n            elementHandler.toBeEqual(obj.pipelineID, pipe_id);\n            elementHandler.toString(obj.id, &#x27;Pipeline id type should be string.&#x27;);\n            common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;run&#x27;, &#x27;id&#x27;, obj.id);\n            console.log(&#x27;New deploy id: &#x27;, [obj.id]);\n            addContext(this, &#x27;New deploy id: &#x27; + obj.id);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;003c2716-fa8d-4a67-810a-d84240a91c02&quot;,&quot;parentUUID&quot;:&quot;14086508-2ac2-4584-ac4f-faaeecf8d095&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;003c2716-fa8d-4a67-810a-d84240a91c02&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:579,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;f18f760e-1f87-488c-9b70-6aa2722eab96&quot;,&quot;title&quot;:&quot;Pipeline Run&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /pipelineruns&quot;,&quot;fullTitle&quot;:&quot;ozone-set-deployment-image-v-1 test case Pipeline Run GET /pipelineruns&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17968,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const id = common.searchOfEnv(&#x27;app&#x27;, &#x27;run&#x27;, &#x27;id&#x27;);\nlet count = 1;\nconst file = path.join(path.resolve(), &#x27;/resource/pipeline.json&#x27;);\nfor (let index = 0; index &lt; count; index++) {\n    await app.pipelineRun(&#x27;/&#x27; + id)\n        .then((res) =&gt; {\n            if (res.statusCode !== 200)\n                logs.getApiResponse(res);\n            elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n            // Add delay time 5s\n            common.tryDelay(5000);\n            let status = res.body.tektonPipelineRun.object.status;\n            // get the pipeline start time\n            let flag = 1, startTime = &#x27;&#x27;;\n            if (flag) {\n                startTime = status.startTime instanceof Date ? status.startTime : new Date(status.startTime);\n                flag = 0;\n            }\n            // Set running pipeline status response in json file\n            common.writeJsonFlie(file, status);\n            // get pipeline response in json file through\n            const pipelineResponse = common.readJsonFile(file);\n            const cTime = pipelineResponse.completionTime;\n            // set value param in completion time\n            const value = cTime ? cTime : null;\n            if (value) {\n                const completionTime = cTime instanceof Date ? cTime : new Date(cTime);\n                seconds = Math.abs(completionTime - startTime) / 1000;\n                console.log(&#x27;StartTime: &#x27;, startTime);\n                console.log(&#x27;CompletionTime: &#x27;, cTime);\n                console.log(&#x27;Pipeline completion time in second: &#x27;, seconds + &#x27;s&#x27;);\n                console.log(&#x27;Pipeline status: &#x27;, pipelineResponse.conditions[0].reason);\n            } else {\n                count += 1;\n                console.log(&#x27;Pipeline still running.......&#x27;);\n            }\n        });\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bd2b546b-47ce-48fd-a145-951b6b3a8ea8&quot;,&quot;parentUUID&quot;:&quot;f18f760e-1f87-488c-9b70-6aa2722eab96&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;bd2b546b-47ce-48fd-a145-951b6b3a8ea8&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:17968,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:100000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;8.3.2&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:false,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;6.2.2&quot;},&quot;marge&quot;:{&quot;options&quot;:{&quot;overwrite&quot;:&quot;true&quot;,&quot;showPassed&quot;:&quot;true&quot;,&quot;html&quot;:&quot;true&quot;,&quot;json&quot;:&quot;false&quot;,&quot;timestamp&quot;:&quot;1635422350249&quot;,&quot;autoOpen&quot;:&quot;false&quot;,&quot;howHooks&quot;:&quot;true&quot;,&quot;charts&quot;:&quot;true&quot;,&quot;cdn&quot;:&quot;true&quot;,&quot;inline&quot;:&quot;true&quot;,&quot;colors&quot;:&quot;true&quot;},&quot;version&quot;:&quot;5.2.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;mochawesome-report&quot;,&quot;reportTitle&quot;:&quot;ozone-api-automation&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:true,&quot;inlineAssets&quot;:true,&quot;cdn&quot;:true,&quot;charts&quot;:true,&quot;enableCharts&quot;:true,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:&quot;1635422350249&quot;,&quot;ts&quot;:&quot;1635422350249&quot;,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:false,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;mochawesome-report/assets&quot;,&quot;htmlFile&quot;:&quot;/home/dell/Music/ozone-api-automation/mochawesome-report/mochawesome_1635422350249.html&quot;}"><div id="report"></div><script src="https://unpkg.com/mochawesome-report-generator@5.2.0/dist/app.js"></script></body></html>