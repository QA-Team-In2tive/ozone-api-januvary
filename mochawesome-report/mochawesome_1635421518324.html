<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="https://unpkg.com/mochawesome-report-generator@5.2.0/dist/app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:31,&quot;tests&quot;:28,&quot;passes&quot;:28,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;start&quot;:&quot;2021-10-28T11:45:18.519Z&quot;,&quot;end&quot;:&quot;2021-10-28T11:50:43.736Z&quot;,&quot;duration&quot;:325217,&quot;testsRegistered&quot;:28,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;63754f83-578d-45e0-bc88-9cdff65aa63a&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;fullTitle&quot;:&quot;\&quot;before each\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:780,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = common.searchOfEnv(&#x27;login&#x27;, &#x27;login&#x27;, &#x27;token&#x27;);\nlogin.check()\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toBeEqual(res.body.email_verified, constants.email_verified);\n        elementHandler.schemaValidate(res.body, checkSuccess);\n        elementHandler.toBeEqual(res.body.token, token);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b011f9af-2b00-4f88-8277-1590d17ce6bc&quot;,&quot;parentUUID&quot;:&quot;63754f83-578d-45e0-bc88-9cdff65aa63a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;fullTitle&quot;:&quot;\&quot;before each\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:523,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = common.searchOfEnv(&#x27;login&#x27;, &#x27;login&#x27;, &#x27;token&#x27;);\nlogin.check()\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toBeEqual(res.body.email_verified, constants.email_verified);\n        elementHandler.schemaValidate(res.body, checkSuccess);\n        elementHandler.toBeEqual(res.body.token, token);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a369a308-8ce6-4703-9f72-0f216453cfaa&quot;,&quot;parentUUID&quot;:&quot;63754f83-578d-45e0-bc88-9cdff65aa63a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;fullTitle&quot;:&quot;\&quot;before each\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:812,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = common.searchOfEnv(&#x27;login&#x27;, &#x27;login&#x27;, &#x27;token&#x27;);\nlogin.check()\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toBeEqual(res.body.email_verified, constants.email_verified);\n        elementHandler.schemaValidate(res.body, checkSuccess);\n        elementHandler.toBeEqual(res.body.token, token);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;39710f14-efd2-42c7-8b96-dc41f9371043&quot;,&quot;parentUUID&quot;:&quot;63754f83-578d-45e0-bc88-9cdff65aa63a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;fullTitle&quot;:&quot;\&quot;before each\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:559,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = common.searchOfEnv(&#x27;login&#x27;, &#x27;login&#x27;, &#x27;token&#x27;);\nlogin.check()\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toBeEqual(res.body.message, constants.CHECK);\n        elementHandler.schemaValidate(res.body, checkSuccess);\n        elementHandler.toBeEqual(res.body.token, token);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ac54d74c-a0b1-4b69-9a94-33c2bd3d507e&quot;,&quot;parentUUID&quot;:&quot;63754f83-578d-45e0-bc88-9cdff65aa63a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;fullTitle&quot;:&quot;\&quot;before each\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:820,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = common.searchOfEnv(&#x27;login&#x27;, &#x27;login&#x27;, &#x27;token&#x27;);\nlogin.check()\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toBeEqual(res.body.email_verified, constants.email_verified);\n        elementHandler.schemaValidate(res.body, checkSuccess);\n        elementHandler.toBeEqual(res.body.token, token);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9c1d790f-2399-446f-b87f-2f9a2f56c98c&quot;,&quot;parentUUID&quot;:&quot;63754f83-578d-45e0-bc88-9cdff65aa63a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;530c50ee-287e-4d58-8ccf-435bf548a093&quot;,&quot;title&quot;:&quot;Login test case&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /accounts/oauth&quot;,&quot;fullTitle&quot;:&quot;Login test case GET /accounts/oauth&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:536,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;Account id and name: 0,Username/Password\&quot;&quot;,&quot;code&quot;:&quot;login.accountName(&#x27;?id=&#x27; + process.env.account_name)\n    .end((err, res) =&gt; {\n        if (err) {\n            console.log(err);\n            addContext(this, &#x27;Error: &#x27; + err);\n        }\n        if (res.statusCode !== 200) {\n            logs.postApiResponse(res);\n            addContext(this, &#x27;Login error: &#x27; + logs.postApiResponse(res));\n        }\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.schemaValidate(res.body, accountSuccess);\n        for (const obj of res.body) {\n            if (obj.id == constants.ACCOUNT_ID) {\n                common.readOrWriteJsonFile(&#x27;login&#x27;, &#x27;account_name&#x27;, &#x27;id&#x27;, obj.id);\n                common.readOrWriteJsonFile(&#x27;login&#x27;, &#x27;account_name&#x27;, &#x27;name&#x27;, obj.provider_name);\n                common.readOrWriteJsonFile(&#x27;login&#x27;, &#x27;account_name&#x27;, &#x27;url&#x27;, obj.login_url);\n                console.log(&#x27;Account id and name: &#x27;, [obj.id, obj.provider_name]);\n                addContext(this, &#x27;Account id and name: &#x27; + [obj.id, obj.provider_name]);\n            }\n        }\n        done();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;75d26c63-98bd-4d42-a05b-d9724e4c359f&quot;,&quot;parentUUID&quot;:&quot;530c50ee-287e-4d58-8ccf-435bf548a093&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;POST /api/auth/login&quot;,&quot;fullTitle&quot;:&quot;Login test case POST /api/auth/login&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2017,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;Login details: https://staging.in2tive.xyz/api/auth/login,admin@ozone.one,095d75d034eff2e6b93486a858418617caa8c9aed11ca61db3f9299be1acc755,true\&quot;&quot;,&quot;code&quot;:&quot;login.login(api.login)\n    .end((err, res) =&gt; {\n        if (err)\n            console.log(err);\n        if (res.statusCode !== 200) {\n            logs.postApiResponse(res);\n            addContext(this, &#x27;Login response: &#x27; + [res.body.message, res.res.statusMessage,]);\n        }\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.schemaValidate(res.body, loginSuccess);\n        // set token value in the env variable \n        common.readOrWriteJsonFile(&#x27;login&#x27;, &#x27;login&#x27;, &#x27;token&#x27;, res.body.token);\n        console.log(&#x27;Login details: &#x27;, [res.request.url, res.body.username, res.body.token, res.body.email_verified]);\n        addContext(this, &#x27;Login details: &#x27; + [res.request.url, res.body.username, res.body.token, res.body.email_verified]);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;98760396-6929-43e4-aa48-52b33be495d4&quot;,&quot;parentUUID&quot;:&quot;530c50ee-287e-4d58-8ccf-435bf548a093&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;GET /defaultworkspace&quot;,&quot;fullTitle&quot;:&quot;Login test case GET /defaultworkspace&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:557,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;Project id and name: 10,barry\&quot;&quot;,&quot;code&quot;:&quot;login.workspace(query.queryParam)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200) {\n            logs.getApiResponse(res);\n            addContext(this, &#x27;Login response: &#x27; + [res.body.message, res.res.statusMessage,]);\n        }\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.schemaValidate(res.body, workspaceSuccess);\n        // set workspace id and name in the env variable \n        for (const obj of res.body) {\n            if (obj.name === constants.WORKSPACE) {\n                elementHandler.toBeEqual(obj.name, constants.WORKSPACE);\n                common.readOrWriteJsonFile(&#x27;login&#x27;, &#x27;workspace&#x27;, &#x27;id&#x27;, obj.id);\n                common.readOrWriteJsonFile(&#x27;login&#x27;, &#x27;workspace&#x27;, &#x27;name&#x27;, obj.name);\n                console.log(&#x27;Project id and name: &#x27;, [obj.id, obj.name]);\n                addContext(this, &#x27;Project id and name: &#x27; + [obj.id, obj.name]);\n                continue\n            }\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4c162507-ea37-421e-86a7-9586d22e6739&quot;,&quot;parentUUID&quot;:&quot;530c50ee-287e-4d58-8ccf-435bf548a093&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;75d26c63-98bd-4d42-a05b-d9724e4c359f&quot;,&quot;98760396-6929-43e4-aa48-52b33be495d4&quot;,&quot;4c162507-ea37-421e-86a7-9586d22e6739&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3110,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;e5e8dcdf-b62b-4c06-ad2e-32d6a6253f3a&quot;,&quot;title&quot;:&quot;ozone-git-pull-docker-image-build-and-template-deploy-v-1 test case&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;61de6f7f-2dc7-45d7-99f2-a56bf83a4a4d&quot;,&quot;title&quot;:&quot;Pipeline Environment&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Pipeline Environment\&quot;&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-template-deploy-v-1 test case Pipeline Environment \&quot;after all\&quot; hook in \&quot;Pipeline Environment\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:749,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const env_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;env_id&#x27;);\napp.appEnv(&#x27;?id=&#x27; + env_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toArray(res.body, &#x27;Pipeline env response type should be array.&#x27;);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === env_id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline env single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline env id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline env name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, env_id);\n                console.log(&#x27;Pipeline env id and name: &#x27;, [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            elementHandler.toBeTrueMsg(flag, &#x27;Environment not found..&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7a406ebb-e312-4092-9518-94947ff29aae&quot;,&quot;parentUUID&quot;:&quot;61de6f7f-2dc7-45d7-99f2-a56bf83a4a4d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /env&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-template-deploy-v-1 test case Pipeline Environment GET /env&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:584,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;Pipeline env id and name: 6149c0b617de71c6ac6a634f,UAT\&quot;&quot;,&quot;code&quot;:&quot;const app_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;id&#x27;);\nconst env_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;env_id&#x27;);\napp.appEnv(query.queryParam + &#x27;&amp;application_id=&#x27; + app_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toArray(res.body, &#x27;Pipeline env response type should be array.&#x27;);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === env_id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline env single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline env id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline env name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, env_id);\n                addContext(this, &#x27;Pipeline env id and name: &#x27; + [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            addContext(this, &#x27;Environment name not found.&#x27;);\n            elementHandler.toBeTrueMsg(flag, &#x27;Environment name not found.&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8ef69ffe-9d42-4245-8815-bef084162178&quot;,&quot;parentUUID&quot;:&quot;61de6f7f-2dc7-45d7-99f2-a56bf83a4a4d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8ef69ffe-9d42-4245-8815-bef084162178&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:584,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;37e8d09c-983f-4f3c-a371-c909c4d8c566&quot;,&quot;title&quot;:&quot;Pipeline Cluster&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Pipeline Cluster\&quot;&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-template-deploy-v-1 test case Pipeline Cluster \&quot;after all\&quot; hook in \&quot;Pipeline Cluster\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:720,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const id = common.searchOfEnv(&#x27;app&#x27;, &#x27;cluster&#x27;, &#x27;id&#x27;);\napp.cluster(&#x27;?id=&#x27; + id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline cluster single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline cluster id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline cluster name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, id);\n                console.log(&#x27;Pipeline cluster id and name: &#x27;, [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            elementHandler.toBeTrueMsg(flag, &#x27;Cluster name not found.&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8a68afdb-18e5-48e8-949c-14929399e35a&quot;,&quot;parentUUID&quot;:&quot;37e8d09c-983f-4f3c-a371-c909c4d8c566&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /cluster&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-template-deploy-v-1 test case Pipeline Cluster GET /cluster&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:870,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;Pipeline cluster id and name: 617a6874df85a15f0a45a187,pks-attach2\&quot;&quot;,&quot;code&quot;:&quot;const env_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;env_id&#x27;);\napp.cluster(query.queryParam + &#x27;&amp;env_id=&#x27; + env_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.name === constants.CLUSTER_NAME) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline cluster single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline cluster id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline cluster name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.name, constants.CLUSTER_NAME);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;cluster&#x27;, &#x27;id&#x27;, obj.id);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;cluster&#x27;, &#x27;name&#x27;, obj.name);\n                addContext(this, &#x27;Pipeline cluster id and name: &#x27; + [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            addContext(this, &#x27;Cluster name not found.&#x27; + [constants.CLUSTER_NAME]);\n            elementHandler.toBeTrueMsg(flag, &#x27;Cluster name not found: &#x27; + constants.CLUSTER_NAME);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9c387ba3-e9c2-4d1b-9367-039ac99294fe&quot;,&quot;parentUUID&quot;:&quot;37e8d09c-983f-4f3c-a371-c909c4d8c566&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;9c387ba3-e9c2-4d1b-9367-039ac99294fe&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:870,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;c27654ce-8292-4f78-9e2a-46ef76ff5a7c&quot;,&quot;title&quot;:&quot;Pipeline Tamplate&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Pipeline Tamplate\&quot;&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-template-deploy-v-1 test case Pipeline Tamplate \&quot;after all\&quot; hook in \&quot;Pipeline Tamplate\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:815,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const id = common.searchOfEnv(&#x27;app&#x27;, &#x27;template&#x27;, &#x27;id&#x27;);\napp.appTemplate(&#x27;?id=&#x27; + id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toArray(res.body, &#x27;Pipeline templates response type should be array.&#x27;);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline env single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline env id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline env name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.name, constants.NAMESPACE_NAME);\n                console.log(&#x27;Pipeline template id and name: &#x27;, [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            elementHandler.toBeTrueMsg(flag, &#x27;Templates name not found: &#x27; + constants.NAMESPACE_NAME);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0a411378-9b8e-493c-a148-a64c4d3af7b7&quot;,&quot;parentUUID&quot;:&quot;c27654ce-8292-4f78-9e2a-46ef76ff5a7c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /app/templates&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-template-deploy-v-1 test case Pipeline Tamplate GET /app/templates&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:592,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;Pipeline template id and name: 617a8088316caf656c61bc20,default\&quot;&quot;,&quot;code&quot;:&quot;const app_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;id&#x27;);\napp.appTemplate(query.queryParam + &#x27;&amp;application_id=&#x27; + app_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toArray(res.body, &#x27;Pipeline templates response type should be array.&#x27;);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.name === constants.NAMESPACE_NAME) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline env single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline env id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline env name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.name, constants.NAMESPACE_NAME);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;template&#x27;, &#x27;id&#x27;, obj.id);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;template&#x27;, &#x27;name&#x27;, obj.name);\n                addContext(this, &#x27;Pipeline template id and name: &#x27; + [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            addContext(this, &#x27;Template name not found: &#x27; + [constants.NAMESPACE_NAME]);\n            elementHandler.toBeTrueMsg(flag, &#x27;Template name not found: &#x27; + constants.NAMESPACE_NAME);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;975fad8a-87ac-4a37-9ca8-e362317c2760&quot;,&quot;parentUUID&quot;:&quot;c27654ce-8292-4f78-9e2a-46ef76ff5a7c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;975fad8a-87ac-4a37-9ca8-e362317c2760&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:592,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;97f35023-40c9-4fe8-9a79-d4ace2c0e70d&quot;,&quot;title&quot;:&quot;Pipeline Branch&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Pipeline Branch\&quot;&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-template-deploy-v-1 test case Pipeline Branch \&quot;after all\&quot; hook in \&quot;Pipeline Branch\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:947,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const id = common.searchOfEnv(&#x27;app&#x27;, &#x27;branch&#x27;, &#x27;id&#x27;);\napp.branchs(&#x27;?id=&#x27; + id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline branch single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline branch id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline branch name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, id);\n                console.log(&#x27;Pipeline branch id and name: &#x27;, [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            elementHandler.toBeTrueMsg(flag, &#x27;Branch name not found.&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cbedb7a9-2b72-4c1f-b518-2d8b81c4e992&quot;,&quot;parentUUID&quot;:&quot;97f35023-40c9-4fe8-9a79-d4ace2c0e70d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /repository/branches&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-template-deploy-v-1 test case Pipeline Branch GET /repository/branches&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:998,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;Pipeline branch id and name: 6114f9889ee862c2e1cea31b:::master,master\&quot;&quot;,&quot;code&quot;:&quot;const repo_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;repository_id&#x27;);\napp.branchs(query.queryParam + &#x27;&amp;repository_id=&#x27; + repo_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.name === constants.MASTER) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline branch single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline branch id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline branch name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.name, constants.MASTER);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;branch&#x27;, &#x27;id&#x27;, obj.id);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;branch&#x27;, &#x27;name&#x27;, obj.name);\n                addContext(this, &#x27;Pipeline branch id and name: &#x27; + [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            addContext(this, &#x27;Branch name not found: &#x27; + [constants.GITHUB_BRANCH_NAME]);\n            elementHandler.toBeTrueMsg(flag, &#x27;Branch name not found: &#x27; + constants.GITHUB_BRANCH_NAME);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6f31a8bb-cf8d-49ec-8658-f80fdaad2a49&quot;,&quot;parentUUID&quot;:&quot;97f35023-40c9-4fe8-9a79-d4ace2c0e70d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6f31a8bb-cf8d-49ec-8658-f80fdaad2a49&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:998,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;7efb8ad7-7a38-4045-8e28-229b8323a894&quot;,&quot;title&quot;:&quot;Create Pipeline&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;POST /newdeploy&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-template-deploy-v-1 test case Create Pipeline POST /newdeploy&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:760,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;New deploy id: 617a8d732277e90efcc3709a\&quot;&quot;,&quot;code&quot;:&quot;const app_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;id&#x27;);\nconst pipe_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;pipelines&#x27;, &#x27;2&#x27;);\napp.newdeploy(param.templateDeploy())\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.postApiResponse(res);\n        let obj = res.body;\n        elementHandler.responseExpect(obj, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toObject(obj, &#x27;Pipeline response type should be object.&#x27;);\n        if (obj.applicationID === app_id) {\n            elementHandler.toBeEqual(obj.pipelineID, pipe_id);\n            elementHandler.toString(obj.id, &#x27;Pipeline id type should be string.&#x27;);\n            common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;run&#x27;, &#x27;id&#x27;, obj.id);\n            console.log(&#x27;New deploy id: &#x27;, [obj.id]);\n            addContext(this, &#x27;New deploy id: &#x27; + obj.id);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6f1844f0-da80-4ef3-af17-313410472dc1&quot;,&quot;parentUUID&quot;:&quot;7efb8ad7-7a38-4045-8e28-229b8323a894&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6f1844f0-da80-4ef3-af17-313410472dc1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:760,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;9beecccf-a70b-4649-9a23-21737b855574&quot;,&quot;title&quot;:&quot;Pipeline Run&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /pipelineruns&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-template-deploy-v-1 test case Pipeline Run GET /pipelineruns&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:51943,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const id = common.searchOfEnv(&#x27;app&#x27;, &#x27;run&#x27;, &#x27;id&#x27;);\nlet count = 1;\nconst file = path.join(path.resolve(), &#x27;/resource/pipeline.json&#x27;);\nfor (let index = 0; index &lt; count; index++) {\n    await app.pipelineRun(&#x27;/&#x27; + id)\n        .then((res) =&gt; {\n            if (res.statusCode !== 200)\n                logs.getApiResponse(res);\n            elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n            // Add delay time 5s\n            common.tryDelay(5000);\n            let status = res.body.tektonPipelineRun.object.status;\n            // get the pipeline start time\n            let flag = 1, startTime = &#x27;&#x27;;\n            if (flag) {\n                startTime = status.startTime instanceof Date ? status.startTime : new Date(status.startTime);\n                flag = 0;\n            }\n            // Set running pipeline status response in json file\n            common.writeJsonFlie(file, status);\n            // get pipeline response in json file through\n            const pipelineResponse = common.readJsonFile(file);\n            const cTime = pipelineResponse.completionTime;\n            // set value param in completion time\n            const value = cTime ? cTime : null;\n            if (value) {\n                const completionTime = cTime instanceof Date ? cTime : new Date(cTime);\n                seconds = Math.abs(completionTime - startTime) / 1000;\n                console.log(&#x27;StartTime: &#x27;, startTime);\n                console.log(&#x27;CompletionTime: &#x27;, cTime);\n                console.log(&#x27;Pipeline completion time in second: &#x27;, seconds + &#x27;s&#x27;);\n                console.log(&#x27;Pipeline status: &#x27;, pipelineResponse.conditions[0].reason);\n            } else {\n                count += 1;\n                console.log(&#x27;Pipeline still running.......&#x27;);\n            }\n        });\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fb3dc1ce-3b86-4189-bb56-3585edceeea4&quot;,&quot;parentUUID&quot;:&quot;9beecccf-a70b-4649-9a23-21737b855574&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;fb3dc1ce-3b86-4189-bb56-3585edceeea4&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:51943,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;85787684-2d47-4f8b-9618-33aa30351613&quot;,&quot;title&quot;:&quot;ozone-git-pull-docker-image-build-and-push-set-deployment-image-v-1 test case&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;53adcd92-2ecb-4a7d-ad69-377368d87f7b&quot;,&quot;title&quot;:&quot;Pipeline Environment&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Pipeline Environment\&quot;&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-push-set-deployment-image-v-1 test case Pipeline Environment \&quot;after all\&quot; hook in \&quot;Pipeline Environment\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:631,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const env_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;env_id&#x27;);\napp.appEnv(&#x27;?id=&#x27; + env_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toArray(res.body, &#x27;Pipeline env response type should be array.&#x27;);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === env_id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline env single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline env id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline env name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, env_id);\n                console.log(&#x27;Pipeline env id and name: &#x27;, [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            elementHandler.toBeTrueMsg(flag, &#x27;Environment not found..&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;74d7c9a0-3844-45e1-a9d5-329753db1bee&quot;,&quot;parentUUID&quot;:&quot;53adcd92-2ecb-4a7d-ad69-377368d87f7b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /env&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-push-set-deployment-image-v-1 test case Pipeline Environment GET /env&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:808,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;Pipeline env id and name: 6149c0b617de71c6ac6a634f,UAT\&quot;&quot;,&quot;code&quot;:&quot;const app_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;id&#x27;);\nconst env_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;env_id&#x27;);\napp.appEnv(query.queryParam + &#x27;&amp;application_id=&#x27; + app_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toArray(res.body, &#x27;Pipeline env response type should be array.&#x27;);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === env_id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline env single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline env id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline env name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, env_id);\n                addContext(this, &#x27;Pipeline env id and name: &#x27; + [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            addContext(this, &#x27;Environment name not found.&#x27;);\n            elementHandler.toBeTrueMsg(flag, &#x27;Environment name not found.&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2ca46a21-ea8b-4b0f-b387-90960f46ed94&quot;,&quot;parentUUID&quot;:&quot;53adcd92-2ecb-4a7d-ad69-377368d87f7b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;2ca46a21-ea8b-4b0f-b387-90960f46ed94&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:808,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;7d36b303-6eb1-484c-991c-20d83f784abd&quot;,&quot;title&quot;:&quot;Pipeline Cluster&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Pipeline Cluster\&quot;&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-push-set-deployment-image-v-1 test case Pipeline Cluster \&quot;after all\&quot; hook in \&quot;Pipeline Cluster\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:822,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const id = common.searchOfEnv(&#x27;app&#x27;, &#x27;cluster&#x27;, &#x27;id&#x27;);\napp.cluster(&#x27;?id=&#x27; + id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline cluster single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline cluster id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline cluster name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, id);\n                console.log(&#x27;Pipeline cluster id and name: &#x27;, [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            elementHandler.toBeTrueMsg(flag, &#x27;Cluster name not found.&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6668df27-f843-49f6-821f-38f0c3cf62f8&quot;,&quot;parentUUID&quot;:&quot;7d36b303-6eb1-484c-991c-20d83f784abd&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /cluster&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-push-set-deployment-image-v-1 test case Pipeline Cluster GET /cluster&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1046,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;Pipeline cluster id and name: 617a6874df85a15f0a45a187,pks-attach2\&quot;&quot;,&quot;code&quot;:&quot;const env_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;env_id&#x27;);\napp.cluster(query.queryParam + &#x27;&amp;env_id=&#x27; + env_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.name === constants.CLUSTER_NAME) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline cluster single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline cluster id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline cluster name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.name, constants.CLUSTER_NAME);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;cluster&#x27;, &#x27;id&#x27;, obj.id);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;cluster&#x27;, &#x27;name&#x27;, obj.name);\n                addContext(this, &#x27;Pipeline cluster id and name: &#x27; + [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            addContext(this, &#x27;Cluster name not found.&#x27; + [constants.CLUSTER_NAME]);\n            elementHandler.toBeTrueMsg(flag, &#x27;Cluster name not found: &#x27; + constants.CLUSTER_NAME);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fe9bae83-a256-4b5e-b357-5741a5c646f5&quot;,&quot;parentUUID&quot;:&quot;7d36b303-6eb1-484c-991c-20d83f784abd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;fe9bae83-a256-4b5e-b357-5741a5c646f5&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1046,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;481c85f6-aafd-46e2-97da-b4598341f362&quot;,&quot;title&quot;:&quot;Pipeline Branch&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Pipeline Branch\&quot;&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-push-set-deployment-image-v-1 test case Pipeline Branch \&quot;after all\&quot; hook in \&quot;Pipeline Branch\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:919,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const id = common.searchOfEnv(&#x27;app&#x27;, &#x27;branch&#x27;, &#x27;id&#x27;);\napp.branchs(&#x27;?id=&#x27; + id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline branch single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline branch id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline branch name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, id);\n                console.log(&#x27;Pipeline branch id and name: &#x27;, [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            elementHandler.toBeTrueMsg(flag, &#x27;Branch name not found.&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;236c0302-5e9d-4eb2-9cd7-d40a8c6135a3&quot;,&quot;parentUUID&quot;:&quot;481c85f6-aafd-46e2-97da-b4598341f362&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /repository/branches&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-push-set-deployment-image-v-1 test case Pipeline Branch GET /repository/branches&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:882,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;Pipeline branch id and name: 6114f9889ee862c2e1cea31b:::v1,v1\&quot;&quot;,&quot;code&quot;:&quot;const repo_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;repository_id&#x27;);\napp.branchs(query.queryParam + &#x27;&amp;repository_id=&#x27; + repo_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.name === constants.V1) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline branch single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline branch id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline branch name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.name, constants.V1);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;branch&#x27;, &#x27;id&#x27;, obj.id);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;branch&#x27;, &#x27;name&#x27;, obj.name);\n                addContext(this, &#x27;Pipeline branch id and name: &#x27; + [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            addContext(this, &#x27;Branch name not found: &#x27; + [constants.GITHUB_BRANCH_NAME]);\n            elementHandler.toBeTrueMsg(flag, &#x27;Branch name not found: &#x27; + constants.GITHUB_BRANCH_NAME);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4a987be0-2d7a-4463-8f39-1cb83e9278d8&quot;,&quot;parentUUID&quot;:&quot;481c85f6-aafd-46e2-97da-b4598341f362&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4a987be0-2d7a-4463-8f39-1cb83e9278d8&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:882,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;a021f501-1143-44c6-95b8-dea28d9a96f5&quot;,&quot;title&quot;:&quot;Create Pipeline&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;POST /newdeploy&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-push-set-deployment-image-v-1 test case Create Pipeline POST /newdeploy&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:866,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;New deploy id: 617a8dbe2277e90efcc3709d\&quot;&quot;,&quot;code&quot;:&quot;const app_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;id&#x27;);\nconst pipe_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;pipelines&#x27;, &#x27;1&#x27;);\napp.newdeploy(param.pushSetDeploymentImg())\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.postApiResponse(res);\n        let obj = res.body;\n        elementHandler.responseExpect(obj, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toObject(obj, &#x27;Pipeline response type should be object.&#x27;);\n        if (obj.applicationID === app_id) {\n            elementHandler.toBeEqual(obj.pipelineID, pipe_id);\n            elementHandler.toString(obj.id, &#x27;Pipeline id type should be string.&#x27;);\n            common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;run&#x27;, &#x27;id&#x27;, obj.id);\n            console.log(&#x27;New deploy id: &#x27;, [obj.id]);\n            addContext(this, &#x27;New deploy id: &#x27; + obj.id);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f2fe9fa0-dabf-44e8-98fc-5682fa45d901&quot;,&quot;parentUUID&quot;:&quot;a021f501-1143-44c6-95b8-dea28d9a96f5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f2fe9fa0-dabf-44e8-98fc-5682fa45d901&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:866,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;5e2f37f4-a27d-4562-a17f-7638a8127b91&quot;,&quot;title&quot;:&quot;Pipeline Run&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /pipelineruns&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-push-set-deployment-image-v-1 test case Pipeline Run GET /pipelineruns&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:52546,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const id = common.searchOfEnv(&#x27;app&#x27;, &#x27;run&#x27;, &#x27;id&#x27;);\nlet count = 1;\nconst file = path.join(path.resolve(), &#x27;/resource/pipeline.json&#x27;);\nfor (let index = 0; index &lt; count; index++) {\n    await app.pipelineRun(&#x27;/&#x27; + id)\n        .then((res) =&gt; {\n            if (res.statusCode !== 200)\n                logs.getApiResponse(res);\n            elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n            // Add delay time 5s\n            common.tryDelay(5000);\n            let status = res.body.tektonPipelineRun.object.status;\n            // get the pipeline start time\n            let flag = 1, startTime = &#x27;&#x27;;\n            if (flag) {\n                startTime = status.startTime instanceof Date ? status.startTime : new Date(status.startTime);\n                flag = 0;\n            }\n            // Set running pipeline status response in json file\n            common.writeJsonFlie(file, status);\n            // get pipeline response in json file through\n            const pipelineResponse = common.readJsonFile(file);\n            const cTime = pipelineResponse.completionTime;\n            // set value param in completion time\n            const value = cTime ? cTime : null;\n            if (value) {\n                const completionTime = cTime instanceof Date ? cTime : new Date(cTime);\n                seconds = Math.abs(completionTime - startTime) / 1000;\n                console.log(&#x27;StartTime: &#x27;, startTime);\n                console.log(&#x27;CompletionTime: &#x27;, cTime);\n                console.log(&#x27;Pipeline completion time in second: &#x27;, seconds + &#x27;s&#x27;);\n                console.log(&#x27;Pipeline status: &#x27;, pipelineResponse.conditions[0].reason);\n            } else {\n                count += 1;\n                console.log(&#x27;Pipeline still running.......&#x27;);\n            }\n        });\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;475f46a5-08c7-4ca5-b25b-c494eaf1670e&quot;,&quot;parentUUID&quot;:&quot;5e2f37f4-a27d-4562-a17f-7638a8127b91&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;475f46a5-08c7-4ca5-b25b-c494eaf1670e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:52546,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;657f0dff-6a5a-4473-a7df-e4934a85ade8&quot;,&quot;title&quot;:&quot;ozone-git-pull-docker-image-build-and-push-pipeline-v-1 test case&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;0c9f2560-0b5d-4a34-a5de-bd3dbb522f37&quot;,&quot;title&quot;:&quot;Pipeline Environment&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Pipeline Environment\&quot;&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-push-pipeline-v-1 test case Pipeline Environment \&quot;after all\&quot; hook in \&quot;Pipeline Environment\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:525,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const env_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;env_id&#x27;);\napp.appEnv(&#x27;?id=&#x27; + env_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toArray(res.body, &#x27;Pipeline env response type should be array.&#x27;);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === env_id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline env single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline env id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline env name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, env_id);\n                console.log(&#x27;Pipeline env id and name: &#x27;, [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            elementHandler.toBeTrueMsg(flag, &#x27;Environment not found..&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bb13c286-2b6f-49c4-aa25-a82312a872ab&quot;,&quot;parentUUID&quot;:&quot;0c9f2560-0b5d-4a34-a5de-bd3dbb522f37&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /env&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-push-pipeline-v-1 test case Pipeline Environment GET /env&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:641,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;Pipeline env id and name: 6149c0b617de71c6ac6a634f,UAT\&quot;&quot;,&quot;code&quot;:&quot;const app_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;id&#x27;);\nconst env_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;env_id&#x27;);\napp.appEnv(query.queryParam + &#x27;&amp;application_id=&#x27; + app_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toArray(res.body, &#x27;Pipeline env response type should be array.&#x27;);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === env_id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline env single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline env id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline env name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, env_id);\n                addContext(this, &#x27;Pipeline env id and name: &#x27; + [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            addContext(this, &#x27;Environment name not found.&#x27;);\n            elementHandler.toBeTrueMsg(flag, &#x27;Environment name not found.&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8a0a4246-5403-4958-b6dc-5065949f2665&quot;,&quot;parentUUID&quot;:&quot;0c9f2560-0b5d-4a34-a5de-bd3dbb522f37&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8a0a4246-5403-4958-b6dc-5065949f2665&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:641,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;892211d7-3d14-4156-a7b6-4a2adb4e889f&quot;,&quot;title&quot;:&quot;Pipeline Cluster&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Pipeline Cluster\&quot;&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-push-pipeline-v-1 test case Pipeline Cluster \&quot;after all\&quot; hook in \&quot;Pipeline Cluster\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:800,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const id = common.searchOfEnv(&#x27;app&#x27;, &#x27;cluster&#x27;, &#x27;id&#x27;);\napp.cluster(&#x27;?id=&#x27; + id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline cluster single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline cluster id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline cluster name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, id);\n                console.log(&#x27;Pipeline cluster id and name: &#x27;, [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            elementHandler.toBeTrueMsg(flag, &#x27;Cluster name not found.&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;14c07fc8-8151-4cfa-a99c-f35a3059dd30&quot;,&quot;parentUUID&quot;:&quot;892211d7-3d14-4156-a7b6-4a2adb4e889f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /cluster&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-push-pipeline-v-1 test case Pipeline Cluster GET /cluster&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:855,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;Pipeline cluster id and name: 617a6874df85a15f0a45a187,pks-attach2\&quot;&quot;,&quot;code&quot;:&quot;const env_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;env_id&#x27;);\napp.cluster(query.queryParam + &#x27;&amp;env_id=&#x27; + env_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.name === constants.CLUSTER_NAME) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline cluster single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline cluster id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline cluster name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.name, constants.CLUSTER_NAME);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;cluster&#x27;, &#x27;id&#x27;, obj.id);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;cluster&#x27;, &#x27;name&#x27;, obj.name);\n                addContext(this, &#x27;Pipeline cluster id and name: &#x27; + [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            addContext(this, &#x27;Cluster name not found.&#x27; + [constants.CLUSTER_NAME]);\n            elementHandler.toBeTrueMsg(flag, &#x27;Cluster name not found: &#x27; + constants.CLUSTER_NAME);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;653732a6-1d61-44db-8e96-5d2f93a2985d&quot;,&quot;parentUUID&quot;:&quot;892211d7-3d14-4156-a7b6-4a2adb4e889f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;653732a6-1d61-44db-8e96-5d2f93a2985d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:855,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;f4c2e346-48e8-435f-af24-b639fbda5df1&quot;,&quot;title&quot;:&quot;Pipeline Branch&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Pipeline Branch\&quot;&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-push-pipeline-v-1 test case Pipeline Branch \&quot;after all\&quot; hook in \&quot;Pipeline Branch\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1051,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const id = common.searchOfEnv(&#x27;app&#x27;, &#x27;branch&#x27;, &#x27;id&#x27;);\napp.branchs(&#x27;?id=&#x27; + id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline branch single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline branch id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline branch name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, id);\n                console.log(&#x27;Pipeline branch id and name: &#x27;, [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            elementHandler.toBeTrueMsg(flag, &#x27;Branch name not found.&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c76287cf-ee68-45d9-b421-594acbe07afd&quot;,&quot;parentUUID&quot;:&quot;f4c2e346-48e8-435f-af24-b639fbda5df1&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /repository/branches&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-push-pipeline-v-1 test case Pipeline Branch GET /repository/branches&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:818,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;Pipeline branch id and name: 6114f9889ee862c2e1cea31b:::master,master\&quot;&quot;,&quot;code&quot;:&quot;const repo_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;repository_id&#x27;);\napp.branchs(query.queryParam + &#x27;&amp;repository_id=&#x27; + repo_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.name === constants.MASTER) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline branch single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline branch id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline branch name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.name, constants.MASTER);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;branch&#x27;, &#x27;id&#x27;, obj.id);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;branch&#x27;, &#x27;name&#x27;, obj.name);\n                addContext(this, &#x27;Pipeline branch id and name: &#x27; + [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            addContext(this, &#x27;Branch name not found: &#x27; + [constants.GITHUB_BRANCH_NAME]);\n            elementHandler.toBeTrueMsg(flag, &#x27;Branch name not found: &#x27; + constants.GITHUB_BRANCH_NAME);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2f54c139-8a74-41ba-98ec-b17e2555df46&quot;,&quot;parentUUID&quot;:&quot;f4c2e346-48e8-435f-af24-b639fbda5df1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;2f54c139-8a74-41ba-98ec-b17e2555df46&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:818,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;7f21ee4a-991d-4a81-a42a-366afa7c58c9&quot;,&quot;title&quot;:&quot;Create Pipeline&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;POST /newdeploy&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-push-pipeline-v-1 test case Create Pipeline POST /newdeploy&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:942,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;New deploy id: 617a8e092277e90efcc370a0\&quot;&quot;,&quot;code&quot;:&quot;const app_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;id&#x27;);\nconst pipe_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;pipelines&#x27;, &#x27;0&#x27;);\napp.newdeploy(param.pushPipeline())\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.postApiResponse(res);\n        let obj = res.body;\n        elementHandler.responseExpect(obj, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toObject(obj, &#x27;Pipeline response type should be object.&#x27;);\n        if (obj.applicationID === app_id) {\n            elementHandler.toBeEqual(obj.pipelineID, pipe_id);\n            elementHandler.toString(obj.id, &#x27;Pipeline id type should be string.&#x27;);\n            common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;run&#x27;, &#x27;id&#x27;, obj.id);\n            console.log(&#x27;New deploy id: &#x27;, [obj.id]);\n            addContext(this, &#x27;New deploy id: &#x27; + obj.id);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9030f8d4-5039-421d-acba-e5b77bcc425d&quot;,&quot;parentUUID&quot;:&quot;7f21ee4a-991d-4a81-a42a-366afa7c58c9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;9030f8d4-5039-421d-acba-e5b77bcc425d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:942,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;0a9d2eaa-0397-4b6e-8b8e-d48ea173af85&quot;,&quot;title&quot;:&quot;Pipeline Run&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /pipelineruns&quot;,&quot;fullTitle&quot;:&quot;ozone-git-pull-docker-image-build-and-push-pipeline-v-1 test case Pipeline Run GET /pipelineruns&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:41016,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const id = common.searchOfEnv(&#x27;app&#x27;, &#x27;run&#x27;, &#x27;id&#x27;);\nlet count = 1;\nconst file = path.join(path.resolve(), &#x27;/resource/pipeline.json&#x27;);\nfor (let index = 0; index &lt; count; index++) {\n    await app.pipelineRun(&#x27;/&#x27; + id)\n        .then((res) =&gt; {\n            if (res.statusCode !== 200)\n                logs.getApiResponse(res);\n            elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n            // Add delay time 5s\n            common.tryDelay(5000);\n            let status = res.body.tektonPipelineRun.object.status;\n            // get the pipeline start time\n            let flag = 1, startTime = &#x27;&#x27;;\n            if (flag) {\n                startTime = status.startTime instanceof Date ? status.startTime : new Date(status.startTime);\n                flag = 0;\n            }\n            // Set running pipeline status response in json file\n            common.writeJsonFlie(file, status);\n            // get pipeline response in json file through\n            const pipelineResponse = common.readJsonFile(file);\n            const cTime = pipelineResponse.completionTime;\n            // set value param in completion time\n            const value = cTime ? cTime : null;\n            if (value) {\n                const completionTime = cTime instanceof Date ? cTime : new Date(cTime);\n                seconds = Math.abs(completionTime - startTime) / 1000;\n                console.log(&#x27;StartTime: &#x27;, startTime);\n                console.log(&#x27;CompletionTime: &#x27;, cTime);\n                console.log(&#x27;Pipeline completion time in second: &#x27;, seconds + &#x27;s&#x27;);\n                console.log(&#x27;Pipeline status: &#x27;, pipelineResponse.conditions[0].reason);\n            } else {\n                count += 1;\n                console.log(&#x27;Pipeline still running.......&#x27;);\n            }\n        });\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0fd4cb16-166d-4025-8186-01e312e54765&quot;,&quot;parentUUID&quot;:&quot;0a9d2eaa-0397-4b6e-8b8e-d48ea173af85&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0fd4cb16-166d-4025-8186-01e312e54765&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:41016,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;ebd04079-4cc7-4ef5-a82c-a0d036349462&quot;,&quot;title&quot;:&quot;ozone-templates-deploy-pipeline-v-1 test case&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;af28964e-4445-48c3-976e-8fbaf5a6c927&quot;,&quot;title&quot;:&quot;Pipeline Environment&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Pipeline Environment\&quot;&quot;,&quot;fullTitle&quot;:&quot;ozone-templates-deploy-pipeline-v-1 test case Pipeline Environment \&quot;after all\&quot; hook in \&quot;Pipeline Environment\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:649,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const env_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;env_id&#x27;);\napp.appEnv(&#x27;?id=&#x27; + env_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toArray(res.body, &#x27;Pipeline env response type should be array.&#x27;);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === env_id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline env single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline env id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline env name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, env_id);\n                console.log(&#x27;Pipeline env id and name: &#x27;, [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            elementHandler.toBeTrueMsg(flag, &#x27;Environment not found..&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d37b7c81-6d7b-4051-9014-c969a10e6c38&quot;,&quot;parentUUID&quot;:&quot;af28964e-4445-48c3-976e-8fbaf5a6c927&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /env&quot;,&quot;fullTitle&quot;:&quot;ozone-templates-deploy-pipeline-v-1 test case Pipeline Environment GET /env&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:800,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;Pipeline env id and name: 6149c0b617de71c6ac6a634f,UAT\&quot;&quot;,&quot;code&quot;:&quot;const app_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;id&#x27;);\nconst env_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;env_id&#x27;);\napp.appEnv(query.queryParam + &#x27;&amp;application_id=&#x27; + app_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toArray(res.body, &#x27;Pipeline env response type should be array.&#x27;);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === env_id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline env single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline env id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline env name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, env_id);\n                addContext(this, &#x27;Pipeline env id and name: &#x27; + [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            addContext(this, &#x27;Environment name not found.&#x27;);\n            elementHandler.toBeTrueMsg(flag, &#x27;Environment name not found.&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;25a32435-75d9-469c-806b-7a2d566a6223&quot;,&quot;parentUUID&quot;:&quot;af28964e-4445-48c3-976e-8fbaf5a6c927&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;25a32435-75d9-469c-806b-7a2d566a6223&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:800,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;64387611-9bbd-4428-b577-91a6f93e7fdc&quot;,&quot;title&quot;:&quot;Pipeline Cluster&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Pipeline Cluster\&quot;&quot;,&quot;fullTitle&quot;:&quot;ozone-templates-deploy-pipeline-v-1 test case Pipeline Cluster \&quot;after all\&quot; hook in \&quot;Pipeline Cluster\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:882,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const id = common.searchOfEnv(&#x27;app&#x27;, &#x27;cluster&#x27;, &#x27;id&#x27;);\napp.cluster(&#x27;?id=&#x27; + id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline cluster single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline cluster id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline cluster name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, id);\n                console.log(&#x27;Pipeline cluster id and name: &#x27;, [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            elementHandler.toBeTrueMsg(flag, &#x27;Cluster name not found.&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;580216df-b52f-4bd8-a1e2-bb03b1e6904a&quot;,&quot;parentUUID&quot;:&quot;64387611-9bbd-4428-b577-91a6f93e7fdc&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /cluster&quot;,&quot;fullTitle&quot;:&quot;ozone-templates-deploy-pipeline-v-1 test case Pipeline Cluster GET /cluster&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:823,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;Pipeline cluster id and name: 617a6874df85a15f0a45a187,pks-attach2\&quot;&quot;,&quot;code&quot;:&quot;const env_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;env_id&#x27;);\napp.cluster(query.queryParam + &#x27;&amp;env_id=&#x27; + env_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.name === constants.CLUSTER_NAME) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline cluster single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline cluster id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline cluster name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.name, constants.CLUSTER_NAME);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;cluster&#x27;, &#x27;id&#x27;, obj.id);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;cluster&#x27;, &#x27;name&#x27;, obj.name);\n                addContext(this, &#x27;Pipeline cluster id and name: &#x27; + [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            addContext(this, &#x27;Cluster name not found.&#x27; + [constants.CLUSTER_NAME]);\n            elementHandler.toBeTrueMsg(flag, &#x27;Cluster name not found: &#x27; + constants.CLUSTER_NAME);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ba5ae6ca-8b5e-498a-afa0-847ce77e8e59&quot;,&quot;parentUUID&quot;:&quot;64387611-9bbd-4428-b577-91a6f93e7fdc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ba5ae6ca-8b5e-498a-afa0-847ce77e8e59&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:823,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;cddadbe2-2ab3-426b-aa6f-8f52548670eb&quot;,&quot;title&quot;:&quot;Pipeline Tamplate&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Pipeline Tamplate\&quot;&quot;,&quot;fullTitle&quot;:&quot;ozone-templates-deploy-pipeline-v-1 test case Pipeline Tamplate \&quot;after all\&quot; hook in \&quot;Pipeline Tamplate\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:835,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const id = common.searchOfEnv(&#x27;app&#x27;, &#x27;template&#x27;, &#x27;id&#x27;);\napp.appTemplate(&#x27;?id=&#x27; + id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toArray(res.body, &#x27;Pipeline templates response type should be array.&#x27;);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline env single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline env id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline env name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.name, constants.NAMESPACE_NAME);\n                console.log(&#x27;Pipeline template id and name: &#x27;, [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            elementHandler.toBeTrueMsg(flag, &#x27;Templates name not found: &#x27; + constants.NAMESPACE_NAME);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;938e39f8-9f6c-4d93-b5f4-70b596d9a311&quot;,&quot;parentUUID&quot;:&quot;cddadbe2-2ab3-426b-aa6f-8f52548670eb&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /app/templates&quot;,&quot;fullTitle&quot;:&quot;ozone-templates-deploy-pipeline-v-1 test case Pipeline Tamplate GET /app/templates&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:619,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;Pipeline template id and name: 617a8088316caf656c61bc20,default\&quot;&quot;,&quot;code&quot;:&quot;const app_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;id&#x27;);\napp.appTemplate(query.queryParam + &#x27;&amp;application_id=&#x27; + app_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toArray(res.body, &#x27;Pipeline templates response type should be array.&#x27;);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.name === constants.NAMESPACE_NAME) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline env single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline env id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline env name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.name, constants.NAMESPACE_NAME);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;template&#x27;, &#x27;id&#x27;, obj.id);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;template&#x27;, &#x27;name&#x27;, obj.name);\n                addContext(this, &#x27;Pipeline template id and name: &#x27; + [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            addContext(this, &#x27;Template name not found: &#x27; + [constants.NAMESPACE_NAME]);\n            elementHandler.toBeTrueMsg(flag, &#x27;Template name not found: &#x27; + constants.NAMESPACE_NAME);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7f762b04-76c8-41d2-93d6-9d241ebec53d&quot;,&quot;parentUUID&quot;:&quot;cddadbe2-2ab3-426b-aa6f-8f52548670eb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7f762b04-76c8-41d2-93d6-9d241ebec53d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:619,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;25a66c70-4e32-4743-8c50-91df444aa68c&quot;,&quot;title&quot;:&quot;Create Pipeline&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;POST /newdeploy&quot;,&quot;fullTitle&quot;:&quot;ozone-templates-deploy-pipeline-v-1 test case Create Pipeline POST /newdeploy&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:612,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;New deploy id: 617a8e4a316caf656c61bc87\&quot;&quot;,&quot;code&quot;:&quot;const app_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;id&#x27;);\nconst pipe_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;pipelines&#x27;, &#x27;4&#x27;);\napp.newdeploy(param.templatesDeployPipeline())\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.postApiResponse(res);\n        let obj = res.body;\n        elementHandler.responseExpect(obj, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toObject(obj, &#x27;Pipeline response type should be object.&#x27;);\n        if (obj.applicationID === app_id) {\n            elementHandler.toBeEqual(obj.pipelineID, pipe_id);\n            elementHandler.toString(obj.id, &#x27;Pipeline id type should be string.&#x27;);\n            common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;run&#x27;, &#x27;id&#x27;, obj.id);\n            console.log(&#x27;New deploy id: &#x27;, [obj.id]);\n            addContext(this, &#x27;New deploy id: &#x27; + obj.id);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a0ef47ed-1505-4e6a-b093-2c768d4a7e7b&quot;,&quot;parentUUID&quot;:&quot;25a66c70-4e32-4743-8c50-91df444aa68c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a0ef47ed-1505-4e6a-b093-2c768d4a7e7b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:612,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;e2884799-6148-4c30-9585-487a5c093b3e&quot;,&quot;title&quot;:&quot;Pipeline Run&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /pipelineruns&quot;,&quot;fullTitle&quot;:&quot;ozone-templates-deploy-pipeline-v-1 test case Pipeline Run GET /pipelineruns&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:27899,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const id = common.searchOfEnv(&#x27;app&#x27;, &#x27;run&#x27;, &#x27;id&#x27;);\nlet count = 1;\nconst file = path.join(path.resolve(), &#x27;/resource/pipeline.json&#x27;);\nfor (let index = 0; index &lt; count; index++) {\n    await app.pipelineRun(&#x27;/&#x27; + id)\n        .then((res) =&gt; {\n            if (res.statusCode !== 200)\n                logs.getApiResponse(res);\n            elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n            // Add delay time 5s\n            common.tryDelay(5000);\n            let status = res.body.tektonPipelineRun.object.status;\n            // get the pipeline start time\n            let flag = 1, startTime = &#x27;&#x27;;\n            if (flag) {\n                startTime = status.startTime instanceof Date ? status.startTime : new Date(status.startTime);\n                flag = 0;\n            }\n            // Set running pipeline status response in json file\n            common.writeJsonFlie(file, status);\n            // get pipeline response in json file through\n            const pipelineResponse = common.readJsonFile(file);\n            const cTime = pipelineResponse.completionTime;\n            // set value param in completion time\n            const value = cTime ? cTime : null;\n            if (value) {\n                const completionTime = cTime instanceof Date ? cTime : new Date(cTime);\n                seconds = Math.abs(completionTime - startTime) / 1000;\n                console.log(&#x27;StartTime: &#x27;, startTime);\n                console.log(&#x27;CompletionTime: &#x27;, cTime);\n                console.log(&#x27;Pipeline completion time in second: &#x27;, seconds + &#x27;s&#x27;);\n                console.log(&#x27;Pipeline status: &#x27;, pipelineResponse.conditions[0].reason);\n            } else {\n                count += 1;\n                console.log(&#x27;Pipeline still running.......&#x27;);\n            }\n        });\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;82e27654-4f6a-4665-b498-d56dd52eea04&quot;,&quot;parentUUID&quot;:&quot;e2884799-6148-4c30-9585-487a5c093b3e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;82e27654-4f6a-4665-b498-d56dd52eea04&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:27899,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;50ee930b-3ba3-483f-8115-59534004fe5b&quot;,&quot;title&quot;:&quot;ozone-set-deployment-image-v-1 test case&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;b7e174ba-84ed-4dac-b5f2-ed3136b6dfff&quot;,&quot;title&quot;:&quot;Pipeline Environment&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Pipeline Environment\&quot;&quot;,&quot;fullTitle&quot;:&quot;ozone-set-deployment-image-v-1 test case Pipeline Environment \&quot;after all\&quot; hook in \&quot;Pipeline Environment\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:651,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const env_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;env_id&#x27;);\napp.appEnv(&#x27;?id=&#x27; + env_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toArray(res.body, &#x27;Pipeline env response type should be array.&#x27;);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === env_id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline env single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline env id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline env name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, env_id);\n                console.log(&#x27;Pipeline env id and name: &#x27;, [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            elementHandler.toBeTrueMsg(flag, &#x27;Environment not found..&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4f902f78-a521-4c81-9acd-0f15290faf02&quot;,&quot;parentUUID&quot;:&quot;b7e174ba-84ed-4dac-b5f2-ed3136b6dfff&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /env&quot;,&quot;fullTitle&quot;:&quot;ozone-set-deployment-image-v-1 test case Pipeline Environment GET /env&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:841,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;Pipeline env id and name: 6149c0b617de71c6ac6a634f,UAT\&quot;&quot;,&quot;code&quot;:&quot;const app_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;id&#x27;);\nconst env_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;env_id&#x27;);\napp.appEnv(query.queryParam + &#x27;&amp;application_id=&#x27; + app_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toArray(res.body, &#x27;Pipeline env response type should be array.&#x27;);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === env_id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline env single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline env id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline env name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, env_id);\n                addContext(this, &#x27;Pipeline env id and name: &#x27; + [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            addContext(this, &#x27;Environment name not found.&#x27;);\n            elementHandler.toBeTrueMsg(flag, &#x27;Environment name not found.&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f69d7cd9-6264-4ff7-98f8-df5ce978fabd&quot;,&quot;parentUUID&quot;:&quot;b7e174ba-84ed-4dac-b5f2-ed3136b6dfff&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f69d7cd9-6264-4ff7-98f8-df5ce978fabd&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:841,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;f639ab6a-1043-417b-8da7-677663f2e164&quot;,&quot;title&quot;:&quot;Pipeline Cluster&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Pipeline Cluster\&quot;&quot;,&quot;fullTitle&quot;:&quot;ozone-set-deployment-image-v-1 test case Pipeline Cluster \&quot;after all\&quot; hook in \&quot;Pipeline Cluster\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:770,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const id = common.searchOfEnv(&#x27;app&#x27;, &#x27;cluster&#x27;, &#x27;id&#x27;);\napp.cluster(&#x27;?id=&#x27; + id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.id === id) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline cluster single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline cluster id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline cluster name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.id, id);\n                console.log(&#x27;Pipeline cluster id and name: &#x27;, [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            elementHandler.toBeTrueMsg(flag, &#x27;Cluster name not found.&#x27;);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;943bfcc4-aff3-42ca-a800-ff0737b94e22&quot;,&quot;parentUUID&quot;:&quot;f639ab6a-1043-417b-8da7-677663f2e164&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /cluster&quot;,&quot;fullTitle&quot;:&quot;ozone-set-deployment-image-v-1 test case Pipeline Cluster GET /cluster&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1034,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;Pipeline cluster id and name: 617a6874df85a15f0a45a187,pks-attach2\&quot;&quot;,&quot;code&quot;:&quot;const env_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;env_id&#x27;);\napp.cluster(query.queryParam + &#x27;&amp;env_id=&#x27; + env_id)\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.getApiResponse(res);\n        elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        let flag = false;\n        for (const obj of res.body) {\n            if (obj.name === constants.CLUSTER_NAME) {\n                flag = true;\n                elementHandler.toObject(obj, &#x27;Pipeline cluster single response type should be object.&#x27;);\n                elementHandler.toString(obj.id, &#x27;Pipeline cluster id type should be string.&#x27;);\n                elementHandler.toString(obj.name, &#x27;Pipeline cluster name type should be string.&#x27;);\n                elementHandler.toBeEqual(obj.name, constants.CLUSTER_NAME);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;cluster&#x27;, &#x27;id&#x27;, obj.id);\n                common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;cluster&#x27;, &#x27;name&#x27;, obj.name);\n                addContext(this, &#x27;Pipeline cluster id and name: &#x27; + [obj.id, obj.name]);\n            }\n        }\n        if (!flag) {\n            addContext(this, &#x27;Cluster name not found.&#x27; + [constants.CLUSTER_NAME]);\n            elementHandler.toBeTrueMsg(flag, &#x27;Cluster name not found: &#x27; + constants.CLUSTER_NAME);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5cb9d7df-a8d9-488d-902a-74c1a783af6e&quot;,&quot;parentUUID&quot;:&quot;f639ab6a-1043-417b-8da7-677663f2e164&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;5cb9d7df-a8d9-488d-902a-74c1a783af6e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1034,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;c7ec6ab0-7de0-4e5a-9501-dee1635710e0&quot;,&quot;title&quot;:&quot;Create Pipeline&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;POST /newdeploy&quot;,&quot;fullTitle&quot;:&quot;ozone-set-deployment-image-v-1 test case Create Pipeline POST /newdeploy&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1011,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;\&quot;New deploy id: 617a8e79316caf656c61bc8a\&quot;&quot;,&quot;code&quot;:&quot;const app_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;custom_app&#x27;, &#x27;id&#x27;);\nconst pipe_id = common.searchOfEnv(&#x27;app&#x27;, &#x27;pipelines&#x27;, &#x27;3&#x27;);\napp.newdeploy(param.setDeploymentImg())\n    .end((err, res) =&gt; {\n        if (res.statusCode !== 200)\n            logs.postApiResponse(res);\n        let obj = res.body;\n        elementHandler.responseExpect(obj, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n        elementHandler.toObject(obj, &#x27;Pipeline response type should be object.&#x27;);\n        if (obj.applicationID === app_id) {\n            elementHandler.toBeEqual(obj.pipelineID, pipe_id);\n            elementHandler.toString(obj.id, &#x27;Pipeline id type should be string.&#x27;);\n            common.readOrWriteJsonFile(&#x27;app&#x27;, &#x27;run&#x27;, &#x27;id&#x27;, obj.id);\n            console.log(&#x27;New deploy id: &#x27;, [obj.id]);\n            addContext(this, &#x27;New deploy id: &#x27; + obj.id);\n        }\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3104706e-f383-4829-8608-2afb8b26a02f&quot;,&quot;parentUUID&quot;:&quot;c7ec6ab0-7de0-4e5a-9501-dee1635710e0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3104706e-f383-4829-8608-2afb8b26a02f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1011,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;a3e77f54-c7ce-47c2-a54e-0509ce79e38f&quot;,&quot;title&quot;:&quot;Pipeline Run&quot;,&quot;fullFile&quot;:&quot;/home/dell/Music/ozone-api-automation/test/pipelines/runThis.js&quot;,&quot;file&quot;:&quot;/test/pipelines/runThis.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /pipelineruns&quot;,&quot;fullTitle&quot;:&quot;ozone-set-deployment-image-v-1 test case Pipeline Run GET /pipelineruns&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22381,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const id = common.searchOfEnv(&#x27;app&#x27;, &#x27;run&#x27;, &#x27;id&#x27;);\nlet count = 1;\nconst file = path.join(path.resolve(), &#x27;/resource/pipeline.json&#x27;);\nfor (let index = 0; index &lt; count; index++) {\n    await app.pipelineRun(&#x27;/&#x27; + id)\n        .then((res) =&gt; {\n            if (res.statusCode !== 200)\n                logs.getApiResponse(res);\n            elementHandler.responseExpect(res.body, res.statusCode, 200, res.res.statusMessage, constants.STATUS_TEXT_OK, res.ok);\n            // Add delay time 5s\n            common.tryDelay(5000);\n            let status = res.body.tektonPipelineRun.object.status;\n            // get the pipeline start time\n            let flag = 1, startTime = &#x27;&#x27;;\n            if (flag) {\n                startTime = status.startTime instanceof Date ? status.startTime : new Date(status.startTime);\n                flag = 0;\n            }\n            // Set running pipeline status response in json file\n            common.writeJsonFlie(file, status);\n            // get pipeline response in json file through\n            const pipelineResponse = common.readJsonFile(file);\n            const cTime = pipelineResponse.completionTime;\n            // set value param in completion time\n            const value = cTime ? cTime : null;\n            if (value) {\n                const completionTime = cTime instanceof Date ? cTime : new Date(cTime);\n                seconds = Math.abs(completionTime - startTime) / 1000;\n                console.log(&#x27;StartTime: &#x27;, startTime);\n                console.log(&#x27;CompletionTime: &#x27;, cTime);\n                console.log(&#x27;Pipeline completion time in second: &#x27;, seconds + &#x27;s&#x27;);\n                console.log(&#x27;Pipeline status: &#x27;, pipelineResponse.conditions[0].reason);\n            } else {\n                count += 1;\n                console.log(&#x27;Pipeline still running.......&#x27;);\n            }\n        });\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;023a719c-35b7-4629-a1f0-87aa54402985&quot;,&quot;parentUUID&quot;:&quot;a3e77f54-c7ce-47c2-a54e-0509ce79e38f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;023a719c-35b7-4629-a1f0-87aa54402985&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:22381,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:100000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;8.3.2&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:false,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;6.2.2&quot;},&quot;marge&quot;:{&quot;options&quot;:{&quot;overwrite&quot;:&quot;true&quot;,&quot;showPassed&quot;:&quot;true&quot;,&quot;html&quot;:&quot;true&quot;,&quot;json&quot;:&quot;false&quot;,&quot;timestamp&quot;:&quot;1635421518324&quot;,&quot;autoOpen&quot;:&quot;false&quot;,&quot;howHooks&quot;:&quot;true&quot;,&quot;charts&quot;:&quot;true&quot;,&quot;cdn&quot;:&quot;true&quot;,&quot;inline&quot;:&quot;true&quot;,&quot;colors&quot;:&quot;true&quot;},&quot;version&quot;:&quot;5.2.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;mochawesome-report&quot;,&quot;reportTitle&quot;:&quot;ozone-api-automation&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:true,&quot;inlineAssets&quot;:true,&quot;cdn&quot;:true,&quot;charts&quot;:true,&quot;enableCharts&quot;:true,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:&quot;1635421518324&quot;,&quot;ts&quot;:&quot;1635421518324&quot;,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:false,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;mochawesome-report/assets&quot;,&quot;htmlFile&quot;:&quot;/home/dell/Music/ozone-api-automation/mochawesome-report/mochawesome_1635421518324.html&quot;}"><div id="report"></div><script src="https://unpkg.com/mochawesome-report-generator@5.2.0/dist/app.js"></script></body></html>